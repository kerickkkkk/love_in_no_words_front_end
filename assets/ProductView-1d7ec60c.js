import{I as pt,z as it,r as b,K as mt,J as Q,_ as _t,O as ht,y as ft,a as At,A as tt,f as a,g as i,i as t,k as nt,F as B,M as P,u as _,t as p,E as n,N as k,j as A,l as bt,m as lt,B as y,P as xt,D as S,Q as gt,v as vt,x as yt,H as et,n as at}from"./index-e978c30f.js";import{g as kt,s as wt,_ as st}from"./product-f52047eb.js";import{_ as St}from"./ImgFeature02-b21e3eaf.js";import{_ as Ct}from"./SideBar-f0adbc64.js";import{_ as Nt}from"./TheModal-6bc90acc.js";import{c as C}from"./catchError-23a142f6.js";import{s as Tt,a as qt}from"./user-e3118356.js";import{g as It}from"./coupon-24bf0476.js";import{c as jt,a as Dt}from"./order-3098547f.js";import{u as Bt,e as Mt}from"./formValidate-a0d0f42c.js";import"./axios-15129f52.js";import"./LOGO_horizon-e3e3e605.js";import"./titleNo-3c0f6505.js";const Ut="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAARCAYAAADQWvz5AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFrSURBVHgBpVNNboJAFJ4ZYnRjwsKoS2+gvQEewRPUG9ieAL2BnoD2Bt4Au+tOj8CSv6R0QQIsoN9rBkLoQDF+yQvw5s33vvcDZwrM5/NFURQ7mA77CILgjf0DriLJ8/zKOddr7luapusIaCMSTQcUWA0Swmo4HG5ZB4TCZ6gCkWDJ7iRyVIFQ+c3uJDqxv2oiEB1ZB7SmI47jz/F4TENYwKhXpyzLNmEYul1EnPWAXAcLtpKusxDi4Lqu00qkA4PBgC7qUHFprMNFhhkwByvxVK5E1aPJZGLMZjMbY/5CtqumaS/kB4lJJCDeeJ63JsP3gUqvr8Qv0XQ6NXHRZrXR4+JNvlI5ju/75/IsSZKjjKlWQpASZNg3SyyXEs9IVlwt6Wg0Ks+qlRD4WDA1ljL4nYhQhkVJyaDElmeVSo5mGujDs4qpnAx6R6XsFCHVP9hr/ASZkNoQSSVbKDNLst5ELeR7SfbKHgUppecPBwakvyy9gwgAAAAASUVORK5CYII=",Rt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAE1SURBVHgBpZJNToNAFMdnkPCxIOIGWHIEbmA8gR7BravqCdQTWE4gR6gnsEdw68pxB2ysCQTYgP9nhqSdUjJN/8lkmDeP37wvzjTlQ5ZlLfAZc843WGme50L14zqwKIriYRjeCbZlFoBeqVBDjQKKVWDf948KjESP3Ku+O0CktLRt+4vtK2HTup4Fzkjo2k1Z7Bc6oCaXtAdB8Crv38qyXBmGkSK9G/Vn2FLVdgZehD0DjNLyJTiR58+6rtdVVQnP874BoA6T/we+7+gxNidEloVhOLATZOo6UvdRmgSR+VjCNE0xNYcqcEXO40HO3wLrFqmO5fi/g40hG4F9jRo/j/CDgw1nAj2NIA09FEWx5AfS8zGPP+xIdV13MTmHjuPoRrUj13XPJ5vStu0GDcjYkWqa5vcP7eh402ibjNsAAAAASUVORK5CYII=",Vt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAOCAYAAAAi2ky3AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAErSURBVHgBpVFBToRAEJwZJiGEEDwQ4Ig/WF/gePPo0aM/WH+gntTT6gvcfYH+YPEFhh9whHDBKwlgtVndyWSHTXYraYbuqemu7uYMSJJkPo7jjB0AvPtsmmbJoyhSjuOs2RHgnF8IfLI9vHxjVvR9n0m2v9pqGIYWp5riCTaNsqqqZdd1OWbRTibCfIi00mIf1DNUnNFJgRZAslPyN7Fc479Sjn8Pm1vDRrI4ju9slXG/+OPRm8nWUPVeJ2lJ3nHc7noj0zTN0Noc/8q4+zbJ4FERPaSg/k0I8eB4nneFy6cdqp6llGUYho++718HQVAg7MEuDd4M8yys60f1E9d1v/CbkQr4ipZiKNq2xuxYGD4ltC6B1l+yI0E5fnVi4Dfo85wdAKgs6rp++QF5bmheMZrWsgAAAABJRU5ErkJggg==",Et="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAE3SURBVHgBpVLLcYMwEF3AM3DkwPdkXEEogVSQpANcQdJBJhVkXIGTDtJB0kHcgTnyueATnMBvGcPI8ocxfjMaSU+7b7V6UkiC67pbTAFNgKqqwWwkZtO27ebSoaIoJqZnkbsq2DTNsiiKTtCyrAg3iFAgAffFnAnouh6S0JHKpOM4awyxUonqj70Yn2ma9gvuHaIcu+6CAI5Dke9B0DAME2SMdSgKpmn6J7T2KrUa+74/5zXiEkzJIEgTUVXV7hx/SdD0PC/oN2hpJZ2vuN0uEMCNH0YFIbKFaMSbPM9/kLQA94HxkmXZWx8IU/5JcPqqy0j+hAGdMXC8p+fgnnhx+DaBmDP2D0MkhXQDTgTRzoLuwCDID2vbdkw3ADklv+8Rx26yATQNidzRrK7rEp97SRMAo0qZ2wPwQ3NxaQ8A4wAAAABJRU5ErkJggg==",Pt=pt("productData",()=>{const d=it(),M=b([]),N=b(0),U=b([]),r=C(async()=>{d.isLoading=!0;const{data:c}=await kt();M.value=c,N.value=c[0].productsType,R(c[0].productsType),d.isLoading=!1}),R=C(async c=>{d.isLoading=!0;const{data:u}=await wt(c);u.length===0&&(mt("沒有符合的商品資料"),d.isLoading=!1),U.value=u,N.value=c,d.isLoading=!1}),x=b([]),L=C(async(c,u)=>{d.isLoading=!0;const{data:j}=await Tt(c,u);x.value=j.membersList,d.isLoading=!1}),T=C(async c=>{d.isLoading=!0;const{message:u}=await qt(c);Q(u),d.isLoading=!1}),q=b([]),g=C(async()=>{d.isLoading=!0;const{data:c}=await It("cuponCode");q.value=c.filter(function(u){return!u.isDisabled}),d.isLoading=!1}),I=b({couponName:"",couponNo:"",discount:0,orderList:[],tableName:0,totalPrice:0,totalTime:0}),e=C(async c=>{d.isLoading=!0;const{data:u}=await jt(c);return I.value=u,Object.keys(u).includes("couponName")||(I.value.couponName=""),Object.keys(u).includes("discount")||(I.value.discount=0),d.isLoading=!1,u.orderList}),v=C(async c=>{d.isLoading=!0;const{status:u,message:j}=await Dt(c);return Q(j),d.isLoading=!1,u});return{typeList:M,currentIndex:N,productList:U,memberList:x,couponList:q,checkProductTotalPrice:I,fetchAllDessertType:r,fetchProduct:R,getMembers:L,postMember:T,getCouponCode:g,fetchCalculateTotalPrice:e,fetchAddOreder:v}});const l=d=>(vt("data-v-e5534427"),d=d(),yt(),d),Qt={class:"fixed top-0 left-0 z-40 w-[315px] h-screen"},Lt={class:"mx-[315px] bg-white p-6 min-h-screen"},Ft={class:"flex text-xl font-medium text-center break-keep overflow-x-auto mb-6"},Jt=["onClick"],Kt={class:"grid grid-cols-12 gap-4"},Yt=["onClick"],Ot=["src","alt"],Xt={class:"bg-neutralself-400 text-white rounded px-2 py-1 text-sm font-normal absolute top-36 left-5"},Zt={class:"text-2xl font-medium mb-3"},$t={class:"flex justify-between items-center"},Ht={class:"text-[32px] font-bold"},Wt={class:"flex flex-col items-end"},zt={key:0,class:"font-normal"},Gt=l(()=>t("span",{class:"text-neutralself-200"},"剩餘",-1)),te={key:1,class:"flex items-center text-primary-light font-normal"},ee=l(()=>t("img",{src:st,class:"me-3",alt:"Img_IconDanger"},null,-1)),se=l(()=>t("span",{class:"text-neutralself-200"},"剩餘",-1)),oe={key:2,class:"font-normal"},ne=l(()=>t("span",{class:"text-neutralself-200"},"剩餘",-1)),le={class:"font-normal"},ae=l(()=>t("span",{class:"text-neutralself-200"},"製作時間",-1)),ie={key:0,class:"absolute top-0 bottom-0 left-0 right-0",style:{background:"rgba(8, 8, 8, 0.5)"}},ce={class:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2"},re={class:"text-2xl text-white font-medium py-6 px-9 whitespace-nowrap bg-textself rounded-lg"},de={class:"fixed top-0 right-0 z-40 w-[315px] h-screen"},ue={class:"w-full h-full border-l-2 border-textself"},pe={class:"h-full bg-white flex flex-col justify-between overflow-scroll no-scrollbar"},me={class:"flex justify-between px-3 py-4 border-b-2 border-black"},_e=l(()=>t("h1",{class:"text-xl font-medium"},"確認訂單",-1)),he={class:"text-xl font-medium"},fe={class:"text-white bg-primary-light rounded py-1 px-2"},Ae={key:0,class:"text-center"},be=l(()=>t("img",{src:St,class:"object-cover",alt:"Feature_Card_Img2"},null,-1)),xe=l(()=>t("p",{class:"font-medium"},"還沒有點選餐點喔！",-1)),ge=[be,xe],ve={class:"flex flex-col p-3 overflow-scroll no-scrollbar"},ye={class:"font-medium text-xl"},ke={class:"font-medium text-xl my-2"},we={class:"flex flex-col"},Se=["onClick"],Ce=["onClick"],Ne={class:"grid grid-cols-2 gap-3 border-y-2 p-3 border-textself"},Te={class:"col-span-2 lg:col-span-1"},qe=l(()=>t("span",null,"查詢資格",-1)),Ie=l(()=>t("img",{class:"ms-2",src:Ut,alt:"IconMemberSearch"},null,-1)),je=[qe,Ie],De={class:"col-span-2 lg:col-span-1"},Be=l(()=>t("span",null,"加入會員",-1)),Me=l(()=>t("img",{class:"ms-2",src:Rt,alt:"IconMemberSearch"},null,-1)),Ue=[Be,Me],Re={class:"col-span-2 lg:col-span-1"},Ve=l(()=>t("span",null,"選擇活動",-1)),Ee=l(()=>t("img",{class:"ms-2",src:Vt,alt:"IconMemberSearch"},null,-1)),Pe=[Ve,Ee],Qe={class:"col-span-2 lg:col-span-1"},Le=["onClick","disabled"],Fe=l(()=>t("span",null,"金額試算",-1)),Je=l(()=>t("img",{class:"ms-2",src:Et,alt:"IconMemberSearch"},null,-1)),Ke=[Fe,Je],Ye={class:"flex flex-col px-3 py-4"},Oe={class:"flex justify-between items-center font-medium mb-4"},Xe=l(()=>t("span",null,"套用優惠 ",-1)),Ze={class:"text-secondary-dark"},$e={class:"flex justify-between items-center font-medium"},He=l(()=>t("span",null,"製作時間",-1)),We={class:"flex justify-between items-center font-medium mb-4"},ze=l(()=>t("span",null,"  餐點",-1)),Ge={class:"flex justify-between items-center font-medium"},ts=l(()=>t("span",null,"折扣金額",-1)),es={class:"text-primary"},ss={class:"flex justify-between items-center font-medium mb-7"},os=l(()=>t("span",{class:"text-xl ps-1"}," 合計",-1)),ns={class:"text-xl text-primary"},ls=["disabled"],as={class:"relative w-full h-full max-w-md md:h-auto"},is={class:"relative bg-white border-2 border-textself rounded-lg shadow"},cs={class:"flex items-center justify-end border-b-2 border-textself p-3 rounded-t"},rs={key:0,class:"text-xl font-medium"},ds={key:1,class:"text-xl font-medium"},us={key:2,class:"text-xl font-medium"},ps={key:3,class:"text-xl font-medium"},ms={key:4,class:"text-xl font-medium"},_s={key:5,class:"text-xl font-medium"},hs=l(()=>t("svg",{"aria-hidden":"true",class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[t("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)),fs=l(()=>t("span",{class:"sr-only text-black"},"Close modal",-1)),As=[hs,fs],bs={class:"w-full rounded-lg"},xs={key:0,class:"space-y-3",action:"#"},gs={class:"relative"},vs=["src","alt"],ys={class:"bg-neutralself-400 text-white rounded px-2 py-1 text-sm font-normal absolute top-36 left-5"},ks={class:"transition-all duration-500 bg-white p-6"},ws={class:"text-2xl font-medium mb-1"},Ss={class:"text-neutralself-100 text-sm font-light mb-3"},Cs={class:"flex justify-between items-center"},Ns={class:"text-[32px] font-bold"},Ts={class:"flex flex-col items-end"},qs={key:0,class:"font-normal"},Is=l(()=>t("span",{class:"text-neutralself-200"},"剩餘",-1)),js={key:1,class:"flex items-center text-primary-light font-normal"},Ds=l(()=>t("img",{src:st,class:"me-3",alt:"Img_IconDanger"},null,-1)),Bs=l(()=>t("span",null,"剩餘",-1)),Ms={key:2,class:"font-normal"},Us=l(()=>t("span",{class:"text-neutralself-200"},"剩餘",-1)),Rs={class:"font-normal"},Vs=l(()=>t("span",{class:"text-neutralself-200"},"製作時間",-1)),Es={class:"px-3"},Ps={class:"flex"},Qs=["disabled"],Ls=["max"],Fs=["disabled"],Js={class:"text-sm text-primary-light mt-2"},Ks={class:"px-3"},Ys={class:"flex p-3"},Os={key:1,class:"space-y-3",action:"#"},Xs={class:"relative"},Zs=["src"],$s={class:"bg-neutralself-400 text-white rounded px-2 py-1 text-sm font-normal absolute top-36 left-5"},Hs={class:"transition-all duration-500 bg-white p-6"},Ws={class:"text-2xl font-medium mb-1"},zs={class:"text-neutralself-100 text-sm font-light mb-3"},Gs={class:"flex justify-between items-center"},to={class:"text-[32px] font-bold"},eo={class:"flex flex-col items-end"},so={key:0,class:"font-normal"},oo=l(()=>t("span",{class:"text-neutralself-200"},"剩餘",-1)),no={key:1,class:"flex items-center text-primary-light font-normal"},lo=l(()=>t("img",{src:st,class:"me-3",alt:"Img_IconDanger"},null,-1)),ao=l(()=>t("span",null,"剩餘",-1)),io={key:2,class:"font-normal"},co=l(()=>t("span",{class:"text-neutralself-200"},"剩餘",-1)),ro={class:"font-normal"},uo=l(()=>t("span",{class:"text-neutralself-200"},"製作時間",-1)),po={class:"px-3"},mo={class:"flex"},_o=["onClick","disabled"],ho=["onClick","disabled"],fo={class:"text-sm text-primary-light mt-2"},Ao={class:"px-3"},bo={class:"flex p-3"},xo={key:2,class:"space-y-3 p-3",action:"#"},go={class:"text-xl font-medium text-neutral-400"},vo={class:"text-primary-light"},yo={key:3,class:"space-y-3 p-3",action:"#"},ko=l(()=>t("label",{for:"form_tel",class:"block mb-2 font-medium"},"電話",-1)),wo={class:"bg-bgself-light rounded-xl p-4"},So=l(()=>t("h3",{class:"mb-2 font-medium"},"查詢結果",-1)),Co={key:0,class:"text-primary-light"},No={key:1,class:"text-primary-light"},To={class:"flex"},qo=["onClick"],Io={key:4,class:"space-y-3 p-3",action:"#"},jo=l(()=>t("label",{for:"form_name",class:"block mb-2 font-medium"},"姓名",-1)),Do={class:"text-sm text-primary-light mt-2"},Bo=l(()=>t("label",{for:"form_tel",class:"block mb-2 font-medium"},"電話",-1)),Mo={class:"text-sm text-primary-light mt-2"},Uo={class:"flex"},Ro=["onClick"],Vo={key:5,class:"overflow-y-auto h-96 space-y-3 p-3",action:"#"},Eo={class:"flex flex-col"},Po={class:"flex items-center mb-3"},Qo=["id","value"],Lo=["for"],Fo={class:"bg-bgself-light rounded-xl p-4"},Jo=l(()=>t("h3",{class:"mb-2 font-medium"},"優惠內容",-1)),Ko={class:"text-sm mt-2"},Yo={class:"text-secondary-dark"},Oo={class:"text-sm mt-2"},Xo={class:"text-primary-dark"},Zo={class:"flex p-3"},$o={__name:"ProductView",setup(d){const M=ht(),N=b(`${M.query.table}`),U=ft(),r=Pt(),R=it();At(()=>{r.fetchAllDessertType(),r.getCouponCode()});const x=tt({phone:"0912000000",page:1}),L=()=>{r.getMembers(x.phone,x.page)},{errors:T,useFieldModel:q}=Bt({validationSchema:Mt}),g=tt({name:q("name"),phone:q("phone")}),I=()=>{r.postMember(g),V()},e=tt({_id:"",productNo:0,productName:"",photoUrl:"",price:0,inStockAmount:0,amountStatus:"safe",productsType:0,productionTime:0,qty:q("qty"),description:"",note:""}),v=b(null),c=b([]),u=()=>{v.value+=1,e.qty=v.value},j=()=>{v.value-=1,e.qty=v.value},ot=h=>{const o=c.value.find(f=>f._id===h._id),s={...h};if(s.qty){if(s.qty<=0){et("購買數量需要大於 0，請重新填寫");return}else if(s.qty>e.inStockAmount){et("購買數量超過庫存，請重新填寫");return}}else{et("購買數量必填");return}o?(o.qty=s.qty,o.note=s.note):c.value.push(s),Q("編輯成功"),V()},ct=h=>{const o={...h},s=c.value.findIndex(f=>f._id===o._id);c.value.splice(s,1),Q("刪除成功"),V()},w=b({tableName:N.value,products:[],couponNo:""}),rt=()=>{w.value.products=c.value,r.fetchCalculateTotalPrice(w.value).then(h=>{c.value=h})},dt=()=>{w.value.products=c.value,r.fetchAddOreder(w.value).then(h=>{h==="OK"?(c.value=[],U.push("/order")):R.isLoading=!1})},m=b(!1),F=b(),D=(h,o)=>{m.value=h;const s=F.value;at(()=>{if(s&&s.openModal(),m.value==="create"){const{_id:f,productNo:J,productName:K,photoUrl:Y,price:O,inStockAmount:X,amountStatus:Z,isDisabled:$,productionTime:H,productsType:W,description:z,qty:G,note:E}=o;e._id=f,e.productNo=J,e.productName=K,e.photoUrl=Y,e.price=O,e.inStockAmount=X,e.amountStatus=Z,e.isDisabled=$,e.productionTime=H,e.productsType=W,e.description=z,e.qty=G,e.note=E,v.value=0,Object.keys(o).includes("originalPrice")||(e.originalPrice=o.price)}if(m.value==="update"||m.value==="delete"){const{_id:f,productNo:J,productName:K,photoUrl:Y,originalPrice:O,price:X,inStockAmount:Z,amountStatus:$,isDisabled:H,productionTime:W,productsType:z,description:G,qty:E,note:ut}=o;e._id=f,e.productNo=J,e.productName=K,e.photoUrl=Y,e.originalPrice=O,e.price=X,e.inStockAmount=Z,e.amountStatus=$,e.isDisabled=H,e.productionTime=W,e.productsType=z,e.description=G,e.qty=E,e.note=ut,v.value=E}})},V=()=>{const h=F.value;at(()=>{h&&(h.closeModal(),x.phone="0912000000",x.page=1,r.memberList=[],g.name="",g.phone="",e.qty=1,e.note="",v.value=0)})};return(h,o)=>(a(),i(B,null,[t("section",null,[t("aside",Qt,[nt(Ct)]),t("main",Lt,[t("ul",Ft,[(a(!0),i(B,null,P(_(r).typeList,s=>(a(),i("li",{class:"mr-2",key:s._id},[t("a",{onClick:A(f=>_(r).fetchProduct(s.productsType),["prevent"]),href:"#",class:lt(["block px-6 py-3 rounded-lg hover:text-primary-light hover:bg-white",{"tabbar-active":_(r).currentIndex===s.productsType}])},n(s.productsTypeName),11,Jt)]))),128))]),t("ul",Kt,[(a(!0),i(B,null,P(_(r).productList,s=>(a(),i("li",{onClick:A(f=>D("create",s),["prevent"]),key:s.productNo,class:"col-span-12 xl:col-span-4 bg-white border-2 border-textself rounded-lg shadow relative"},[t("img",{class:"rounded-t-lg object-cover w-full h-[184px]",src:s.photoUrl,alt:s.productName},null,8,Ot),t("p",Xt,n(s.productsType.productsTypeName),1),t("div",{class:lt(["transition-all duration-500 p-6 rounded-bl-lg rounded-br-lg",s.amountStatus==="safe"&&"bg-white",s.amountStatus==="danger"&&"bg-[#F31F1F1A]"])},[t("h2",Zt,n(s.productName),1),t("div",$t,[t("p",Ht,"$"+n(s.price),1),t("div",Wt,[s.amountStatus==="safe"?(a(),i("p",zt,[Gt,p("  "+n(s.inStockAmount)+"份 ",1)])):s.amountStatus==="danger"?(a(),i("p",te,[ee,se,p("  "+n(s.inStockAmount)+"份 ",1)])):s.amountStatus==="zero"?(a(),i("p",oe,[ne,p("  "+n(s.inStockAmount)+"份 ",1)])):k("",!0),t("p",le,[ae,p("  "+n(s.productionTime)+"分 ",1)])])])],2),s.isDisabled===!0||s.inStockAmount===0?(a(),i("section",ie,[t("div",ce,[t("p",re,n(s.isDisabled===!0?"已停用":"已售完"),1)])])):k("",!0)],8,Yt))),128))])]),t("aside",de,[t("div",ue,[t("div",pe,[t("div",me,[_e,t("p",he,[p(" 桌號 "),t("span",fe,n(N.value),1)])]),c.value.length===0?(a(),i("div",Ae,ge)):k("",!0),t("ul",ve,[(a(!0),i(B,null,P(c.value,s=>(a(),i("li",{key:s._id,class:"flex justify-between items-center border-b border-textself py-4"},[t("div",null,[t("h2",ye,[t("span",null,n(s.productName),1),t("span",null," "+n(s.qty)+"份",1)]),t("p",ke,"$"+n(s.originalPrice),1),y(t("p",{class:"inline text-sm font-medium text-white bg-secondary-light rounded-lg py-1 px-2"}," 可參與 "+n(s==null?void 0:s.couponName)+" 活動 ",513),[[xt,s.couponName]])]),t("div",we,[t("button",{onClick:f=>D("update",s),class:"btn btn-outline-dark py-2 px-3 mb-2"}," 修改 ",8,Se),t("button",{onClick:f=>D("delete",s),class:"btn btn-outline-dark py-2 px-3"}," 刪除 ",8,Ce)])]))),128))]),t("ul",Ne,[t("li",Te,[t("button",{onClick:o[0]||(o[0]=A(s=>D("readMember"),["prevent"])),class:"w-full btn btn-outline-dark flex items-center justify-center"},je)]),t("li",De,[t("button",{onClick:o[1]||(o[1]=A(s=>D("createMember"),["prevent"])),class:"w-full btn btn-outline-dark flex items-center justify-center"},Ue)]),t("li",Re,[t("button",{onClick:o[2]||(o[2]=A(s=>D("createActivity"),["prevent"])),class:"w-full btn btn-outline-dark flex items-center justify-center"},Pe)]),t("li",Qe,[t("button",{onClick:A(rt,["prevent"]),class:"w-full btn btn-outline-dark flex items-center justify-center",disabled:c.value.length===0},Ke,8,Le)])]),t("div",Ye,[t("p",Oe,[Xe,t("span",Ze,n(_(r).checkProductTotalPrice.couponName===""?"尚未選擇":_(r).checkProductTotalPrice.couponName),1)]),t("p",$e,[He,t("span",null,n(_(r).checkProductTotalPrice.totalTime)+" 分",1)]),t("p",We,[ze,t("span",null,n(c.value.length)+" 份",1)]),t("p",Ge,[ts,t("span",es,n(_(r).checkProductTotalPrice.discount)+" 元",1)]),t("p",ss,[os,t("span",ns,"NT$ "+n(_(r).checkProductTotalPrice.totalPrice),1)]),t("button",{onClick:dt,class:"btn btn-dark py-2 w-full",disabled:c.value.length===0},"送出訂單",8,ls)])])])])]),nt(Nt,{ref_key:"childComponentRef",ref:F},{default:bt(()=>[t("section",as,[t("div",is,[t("div",cs,[m.value==="create"?(a(),i("h2",rs,"新增餐點")):m.value==="update"?(a(),i("h2",ds,"修改餐點")):m.value==="delete"?(a(),i("h2",us,"刪除餐點")):m.value==="readMember"?(a(),i("h2",ps,"查詢會員資格")):m.value==="createMember"?(a(),i("h2",ms,"加入會員")):m.value==="createActivity"?(a(),i("h2",_s," 選擇活動 (活動擇一) ")):k("",!0),t("button",{onClick:o[3]||(o[3]=s=>V()),type:"button",class:"text-gray-400 bg-black hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center"},As)]),t("div",bs,[m.value==="create"?(a(),i("form",xs,[t("div",gs,[t("img",{class:"object-cover w-full h-[184px] border-b-2 border-textself",src:e.photoUrl,alt:e.productName},null,8,vs),t("p",ys,n(e.productsType.productsTypeName),1),t("div",ks,[t("h2",ws,n(e.productName),1),t("h3",Ss,n(e.description),1),t("div",Cs,[t("p",Ns,"$"+n(e.originalPrice),1),t("div",Ts,[e.amountStatus==="safe"?(a(),i("p",qs,[Is,p(" "+n(` ${e.inStockAmount}份`),1)])):e.amountStatus==="danger"?(a(),i("p",js,[Ds,Bs,p(" "+n(` ${e.inStockAmount}份`),1)])):e.amountStatus==="zero"?(a(),i("p",Ms,[Us,p(" "+n(` ${e.inStockAmount}份`),1)])):k("",!0),t("p",Rs,[Vs,p(" "+n(` ${e.productionTime}分`),1)])])])])]),t("div",Es,[t("div",Ps,[t("button",{onClick:j,disabled:e.qty<=1,type:"button",class:"form-qty border-r-0 rounded-l-lg"}," － ",8,Qs),y(t("input",{type:"number",id:"form_qty",class:"form-input flex-1 rounded-none rounded-x-lg",placeholder:"0",required:"",min:"1",max:e.inStockAmount,"onUpdate:modelValue":o[4]||(o[4]=s=>e.qty=s)},null,8,Ls),[[S,e.qty,void 0,{number:!0}]]),t("button",{onClick:u,disabled:e.qty>=e.inStockAmount,type:"button",class:"form-qty border-l-0 rounded-r-lg"}," + ",8,Fs)]),t("p",Js,n(_(T).qty),1)]),t("div",Ks,[y(t("textarea",{id:"form_textarea",rows:"4",class:"form-input",placeholder:"請輸入客製化內容，例如：飲料去冰、加料","onUpdate:modelValue":o[5]||(o[5]=s=>e.note=s)},null,512),[[S,e.note,void 0,{trim:!0}]])]),t("div",Ys,[t("button",{onClick:o[6]||(o[6]=A(s=>ot(e),["prevent"])),type:"submit",class:"w-full btn btn-dark"}," 確認新增 ")])])):m.value==="update"?(a(),i("form",Os,[t("div",Xs,[t("img",{class:"object-cover w-full h-[184px] border-b-2 border-textself",src:e.photoUrl,alt:"ImgProduct"},null,8,Zs),t("p",$s,n(e.productsType.productsTypeName),1),t("div",Hs,[t("h2",Ws,n(e.productName),1),t("h3",zs,n(e.description),1),t("div",Gs,[t("p",to,"$"+n(e.originalPrice),1),t("div",eo,[e.amountStatus==="safe"?(a(),i("p",so,[oo,p(" "+n(` ${e.inStockAmount}份`),1)])):e.amountStatus==="danger"?(a(),i("p",no,[lo,ao,p(" "+n(` ${e.inStockAmount}份`),1)])):e.amountStatus==="zero"?(a(),i("p",io,[co,p(" "+n(` ${e.inStockAmount}份`),1)])):k("",!0),t("p",ro,[uo,p(" "+n(` ${e.productionTime}分`),1)])])])])]),t("div",po,[t("div",mo,[t("button",{onClick:A(j,["prevent"]),disabled:e.qty<=1,type:"button",class:"form-qty border-r-0 rounded-l-lg"}," － ",8,_o),y(t("input",{type:"number",id:"form_qty",class:"form-input flex-1 rounded-none rounded-x-lg",required:"","onUpdate:modelValue":o[7]||(o[7]=s=>e.qty=s)},null,512),[[S,e.qty,void 0,{number:!0}]]),t("button",{onClick:A(u,["prevent"]),type:"button",class:"form-qty border-l-0 rounded-r-lg",disabled:e.qty>=e.inStockAmount}," ＋ ",8,ho)]),t("p",fo,n(_(T).qty),1)]),t("div",Ao,[y(t("textarea",{id:"form_textarea",rows:"4",class:"form-input",placeholder:"請輸入客製化內容，例如：飲料去冰、加料","onUpdate:modelValue":o[8]||(o[8]=s=>e.note=s)},null,512),[[S,e.note,void 0,{trim:!0}]])]),t("div",bo,[t("button",{onClick:o[9]||(o[9]=A(s=>ot(e),["prevent"])),type:"submit",class:"w-full btn btn-dark"}," 確認修改 ")])])):m.value==="delete"?(a(),i("form",xo,[t("h3",go,[p(" 請確認是否刪除 "),t("span",vo,n(e.productName),1),p(" ? ")]),t("button",{onClick:o[10]||(o[10]=A(s=>ct(e),["prevent"])),type:"submit",class:"w-full btn btn-dark"}," 確認刪除 ")])):m.value==="readMember"?(a(),i("form",yo,[t("div",null,[ko,y(t("input",{type:"tel",id:"form_tel",class:"block form-input p-3",placeholder:"0912000000","onUpdate:modelValue":o[11]||(o[11]=s=>x.phone=s)},null,512),[[S,x.phone]])]),t("div",wo,[So,_(r).memberList.length===0?(a(),i("p",Co," 沒有符合的會員資料 ")):_(r).memberList.length>0?(a(),i("p",No," 有符合的會員資料 ")):k("",!0)]),t("div",To,[t("button",{type:"submit",class:"w-full btn btn-dark",onClick:A(L,["prevent"])}," 查詢 ",8,qo)])])):m.value==="createMember"?(a(),i("form",Io,[t("div",null,[jo,y(t("input",{type:"text",name:"name",id:"form_name",class:"form-input",placeholder:"name","onUpdate:modelValue":o[12]||(o[12]=s=>g.name=s),required:""},null,512),[[S,g.name,void 0,{trim:!0}]]),t("p",Do,n(_(T).name),1)]),t("div",null,[Bo,y(t("input",{type:"tel",name:"phone",id:"form_tel",class:"form-input",placeholder:"0912345678","onUpdate:modelValue":o[13]||(o[13]=s=>g.phone=s),required:""},null,512),[[S,g.phone]]),t("p",Mo,n(_(T).phone),1)]),t("div",Uo,[t("button",{type:"submit",class:"w-full ml-1 btn btn-dark",onClick:A(I,["prevent"])}," 確認新增 ",8,Ro)])])):m.value==="createActivity"?(a(),i("form",Vo,[t("ul",Eo,[(a(!0),i(B,null,P(_(r).couponList,s=>(a(),i("li",{class:"mb-3",key:s._id},[t("div",Po,[y(t("input",{id:s._id,type:"radio",value:s.couponNo,"onUpdate:modelValue":o[14]||(o[14]=f=>w.value.couponNo=f),name:"form-radio",class:"form-radio"},null,8,Qo),[[gt,w.value.couponNo]]),t("label",{for:s._id,class:"ml-2 text-xl font-medium"},n(s.couponName),9,Lo)]),t("div",Fo,[Jo,t("p",Ko,[p(" 優惠代碼："),t("span",Yo,n(s.couponCode),1)]),t("p",Oo,[p(" 折扣比例："),t("span",Xo,n(s.discount)+"%",1)])])]))),128))]),t("div",Zo,[t("button",{onClick:o[15]||(o[15]=s=>w.value.couponNo=""),type:"button",class:"w-full btn btn-dark"}," 取消優惠 ")])])):k("",!0)])])])]),_:1},512)],64))}},dn=_t($o,[["__scopeId","data-v-e5534427"]]);export{dn as default};
