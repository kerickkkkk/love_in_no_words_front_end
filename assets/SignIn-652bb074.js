import{y as g,z as h,A as x,f as b,g as w,i as s,B as p,D as m,E as u,u as f,j as k,G as l,H as v}from"./index-e978c30f.js";import{_ as y}from"./LOGO_horizon-e3e3e605.js";import{u as L,e as j}from"./formValidate-a0d0f42c.js";import{l as A}from"./user-e3118356.js";import{s as n}from"./titleNo-3c0f6505.js";import"./axios-15129f52.js";const S="/love_in_no_words_front_end/assets/ImgLogin-0e78ede9.svg",B={class:"px-8 py-12"},C=s("figure",{class:"flex justify-center pb-10"},[s("img",{src:y,class:"h-full object-cover",alt:"Logo_Mobile"})],-1),F={class:"max-w-screen-xl px-8 grid gap-8 grid-cols-1 md:grid-cols-2 py-16 mx-auto bg-bgself-dark rounded-lg shadow-lg"},I=s("div",{class:"flex flex-col justify-between"},[s("h1",{class:"text-4xl font-semibold text-center"},"登入"),s("figure",{class:"text-center pt-16"},[s("img",{src:S,class:"h-full object-cover",alt:"Login_Img"})])],-1),M={class:"flex flex-col justify-center lg:py-10"},D={class:"mb-6"},N=s("label",{for:"tel",class:"block mb-2 text-xl font-medium"},"電話",-1),T={class:"text-sm text-primary-light mt-2"},V={class:"mb-6"},q=s("label",{for:"password",class:"block mb-2 text-xl font-medium"},"密碼",-1),E={class:"text-sm text-primary-light mt-2"},U=["onClick"],P={__name:"SignIn",setup(z){const i=g(),t=h(),{errors:c,useFieldModel:d}=L({validationSchema:j}),a=x({phone:d("phone"),password:d("password")}),_=async()=>{t.isLoading=!0;try{const{data:r}=await A(a),{token:e,titleNo:o}=r.user;switch(o){case 1:await l(e),await n(o),i.push("/userAdmin"),t.isLoading=!1;break;case 2:await l(e),await n(o),i.push("/seat"),t.isLoading=!1;break;case 3:await l(e),await n(o),i.push("/chef"),t.isLoading=!1;break;default:console.log("非任何職位!"),i.push("/"),t.isLoading=!1;break}}catch(r){t.isLoading=!1,v(r.message)}};return(r,e)=>(b(),w("div",B,[C,s("div",F,[I,s("form",M,[s("div",D,[N,p(s("input",{type:"tel",id:"tel",class:"form-input",placeholder:"0912345678",name:"phone","onUpdate:modelValue":e[0]||(e[0]=o=>a.phone=o),required:""},null,512),[[m,a.phone]]),s("p",T,u(f(c).phone),1)]),s("div",V,[q,p(s("input",{type:"password",id:"password",class:"form-input",placeholder:"A0912345678",name:"password","onUpdate:modelValue":e[1]||(e[1]=o=>a.password=o),required:""},null,512),[[m,a.password,void 0,{trim:!0}]]),s("p",E,u(f(c).password),1)]),s("button",{type:"submit",class:"w-full btn btn-outline-dark",onClick:k(_,["prevent"])}," 登入 ",8,U)])])]))}};export{P as default};
