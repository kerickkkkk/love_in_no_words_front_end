import{a7 as jI,a8 as JI,I as t5,z as tA,r as ea,J as Mg,a as pp,w as e5,f as Hl,g as Yl,i as xt,k as n5,j as Xl,B as S1,L as T1,F as vp,M as A1,u as Ul,E as xs,S as r5}from"./index-e978c30f.js";import{_ as i5}from"./SideBar-9cffeaf8.js";import{i as us,a as a5}from"./axios-15129f52.js";import{c as bu}from"./catchError-23a142f6.js";import{n as C1}from"./day-cea40187.js";import{u as o5}from"./index-ef57e4fc.js";import"./LOGO_horizon-e3e3e605.js";const s5=t=>us.get(`/v1/send/email/admin/revenue/report/?${t}`),u5=t=>us.get(`/v1/send/email/admin/sell-quantity/report?${t}`),l5=()=>us.get("/v1/send/email/admin/orders-quantity/report"),gp=t=>us.get(`/v1/send/email/admin/report/${t}`),f5=()=>us.get("/v1/reports/admin/orders"),c5=(t,e)=>us.get(`/v1/reports/admin/orders?month=${t}&number=${e}`);function h5(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Pg={},d5={get exports(){return Pg},set exports(t){Pg=t}},p5="5.16.0";function wi(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Uy(t){return t.length===1&&(t=v5(t)),{left:function(e,n,r,i){for(r==null&&(r=0),i==null&&(i=e.length);r<i;){var a=r+i>>>1;t(e[a],n)<0?r=a+1:i=a}return r},right:function(e,n,r,i){for(r==null&&(r=0),i==null&&(i=e.length);r<i;){var a=r+i>>>1;t(e[a],n)>0?i=a:r=a+1}return r}}}function v5(t){return function(e,n){return wi(t(e),n)}}var eA=Uy(wi),hi=eA.right,g5=eA.left;function y5(t,e){e==null&&(e=nA);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return a}function nA(t,e){return[t,e]}function m5(t,e,n){var r=t.length,i=e.length,a=new Array(r*i),o,s,u,f;for(n==null&&(n=nA),o=u=0;o<r;++o)for(f=t[o],s=0;s<i;++s,++u)a[u]=n(f,e[s]);return a}function _5(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function di(t){return t===null?NaN:+t}function rA(t,e){var n=t.length,r=0,i=-1,a=0,o,s,u=0;if(e==null)for(;++i<n;)isNaN(o=di(t[i]))||(s=o-a,a+=s/++r,u+=s*(o-a));else for(;++i<n;)isNaN(o=di(e(t[i],i,t)))||(s=o-a,a+=s/++r,u+=s*(o-a));if(r>1)return u/(r-1)}function iA(t,e){var n=rA(t,e);return n&&Math.sqrt(n)}function Wy(t,e){var n=t.length,r=-1,i,a,o;if(e==null){for(;++r<n;)if((i=t[r])!=null&&i>=i)for(a=o=i;++r<n;)(i=t[r])!=null&&(a>i&&(a=i),o<i&&(o=i))}else for(;++r<n;)if((i=e(t[r],r,t))!=null&&i>=i)for(a=o=i;++r<n;)(i=e(t[r],r,t))!=null&&(a>i&&(a=i),o<i&&(o=i));return[a,o]}var aA=Array.prototype,x5=aA.slice,w5=aA.map;function Wl(t){return function(){return t}}function b5(t){return t}function ln(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}var Lg=Math.sqrt(50),Dg=Math.sqrt(10),Eg=Math.sqrt(2);function qy(t,e,n){var r,i=-1,a,o,s;if(e=+e,t=+t,n=+n,t===e&&n>0)return[t];if((r=e<t)&&(a=t,t=e,e=a),(s=Su(t,e,n))===0||!isFinite(s))return[];if(s>0)for(t=Math.ceil(t/s),e=Math.floor(e/s),o=new Array(a=Math.ceil(e-t+1));++i<a;)o[i]=(t+i)*s;else for(t=Math.floor(t*s),e=Math.ceil(e*s),o=new Array(a=Math.ceil(t-e+1));++i<a;)o[i]=(t-i)/s;return r&&o.reverse(),o}function Su(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=Lg?10:a>=Dg?5:a>=Eg?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=Lg?10:a>=Dg?5:a>=Eg?2:1)}function va(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=Lg?i*=10:a>=Dg?i*=5:a>=Eg&&(i*=2),e<t?-i:i}function Zy(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}function S5(){var t=b5,e=Wy,n=Zy;function r(i){var a,o=i.length,s,u=new Array(o);for(a=0;a<o;++a)u[a]=t(i[a],a,i);var f=e(u),c=f[0],d=f[1],p=n(u,c,d);Array.isArray(p)||(p=va(c,d,p),p=ln(Math.ceil(c/p)*p,d,p));for(var v=p.length;p[0]<=c;)p.shift(),--v;for(;p[v-1]>d;)p.pop(),--v;var y=new Array(v+1),x;for(a=0;a<=v;++a)x=y[a]=[],x.x0=a>0?p[a-1]:c,x.x1=a<v?p[a]:d;for(a=0;a<o;++a)s=u[a],c<=s&&s<=d&&y[hi(p,s,0,v)].push(i[a]);return y}return r.value=function(i){return arguments.length?(t=typeof i=="function"?i:Wl(i),r):t},r.domain=function(i){return arguments.length?(e=typeof i=="function"?i:Wl([i[0],i[1]]),r):e},r.thresholds=function(i){return arguments.length?(n=typeof i=="function"?i:Array.isArray(i)?Wl(x5.call(i)):Wl(i),r):n},r}function Hu(t,e,n){if(n==null&&(n=di),!!(r=t.length)){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),s=+n(t[a+1],a+1,t);return o+(s-o)*(i-a)}}function T5(t,e,n){return t=w5.call(t,di).sort(wi),Math.ceil((n-e)/(2*(Hu(t,.75)-Hu(t,.25))*Math.pow(t.length,-1/3)))}function A5(t,e,n){return Math.ceil((n-e)/(3.5*iA(t)*Math.pow(t.length,-1/3)))}function oA(t,e){var n=t.length,r=-1,i,a;if(e==null){for(;++r<n;)if((i=t[r])!=null&&i>=i)for(a=i;++r<n;)(i=t[r])!=null&&i>a&&(a=i)}else for(;++r<n;)if((i=e(t[r],r,t))!=null&&i>=i)for(a=i;++r<n;)(i=e(t[r],r,t))!=null&&i>a&&(a=i);return a}function C5(t,e){var n=t.length,r=n,i=-1,a,o=0;if(e==null)for(;++i<n;)isNaN(a=di(t[i]))?--r:o+=a;else for(;++i<n;)isNaN(a=di(e(t[i],i,t)))?--r:o+=a;if(r)return o/r}function M5(t,e){var n=t.length,r=-1,i,a=[];if(e==null)for(;++r<n;)isNaN(i=di(t[r]))||a.push(i);else for(;++r<n;)isNaN(i=di(e(t[r],r,t)))||a.push(i);return Hu(a.sort(wi),.5)}function Qy(t){for(var e=t.length,n,r=-1,i=0,a,o;++r<e;)i+=t[r].length;for(a=new Array(i);--e>=0;)for(o=t[e],n=o.length;--n>=0;)a[--i]=o[n];return a}function sA(t,e){var n=t.length,r=-1,i,a;if(e==null){for(;++r<n;)if((i=t[r])!=null&&i>=i)for(a=i;++r<n;)(i=t[r])!=null&&a>i&&(a=i)}else for(;++r<n;)if((i=e(t[r],r,t))!=null&&i>=i)for(a=i;++r<n;)(i=e(t[r],r,t))!=null&&a>i&&(a=i);return a}function P5(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r}function L5(t,e){if(n=t.length){var n,r=0,i=0,a,o=t[i];for(e==null&&(e=wi);++r<n;)(e(a=t[r],o)<0||e(o,o)!==0)&&(o=a,i=r);if(e(o,o)===0)return i}}function D5(t,e,n){for(var r=(n??t.length)-(e=e==null?0:+e),i,a;r;)a=Math.random()*r--|0,i=t[r+e],t[r+e]=t[a+e],t[a+e]=i;return t}function E5(t,e){var n=t.length,r=-1,i,a=0;if(e==null)for(;++r<n;)(i=+t[r])&&(a+=i);else for(;++r<n;)(i=+e(t[r],r,t))&&(a+=i);return a}function uA(t){if(!(a=t.length))return[];for(var e=-1,n=sA(t,I5),r=new Array(n);++e<n;)for(var i=-1,a,o=r[e]=new Array(a);++i<a;)o[i]=t[i][e];return r}function I5(t){return t.length}function R5(){return uA(arguments)}var yp=Array.prototype.slice;function k5(t){return t}var ec=1,nc=2,Ig=3,Js=4,M1=1e-6;function O5(t){return"translate("+(t+.5)+",0)"}function N5(t){return"translate(0,"+(t+.5)+")"}function $5(t){return function(e){return+t(e)}}function G5(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(n){return+t(n)+e}}function V5(){return!this.__axis}function Zh(t,e){var n=[],r=null,i=null,a=6,o=6,s=3,u=t===ec||t===Js?-1:1,f=t===Js||t===nc?"x":"y",c=t===ec||t===Ig?O5:N5;function d(p){var v=r??(e.ticks?e.ticks.apply(e,n):e.domain()),y=i??(e.tickFormat?e.tickFormat.apply(e,n):k5),x=Math.max(a,0)+s,_=e.range(),w=+_[0]+.5,b=+_[_.length-1]+.5,S=(e.bandwidth?G5:$5)(e.copy()),A=p.selection?p.selection():p,L=A.selectAll(".domain").data([null]),P=A.selectAll(".tick").data(v,e).order(),E=P.exit(),O=P.enter().append("g").attr("class","tick"),R=P.select("line"),C=P.select("text");L=L.merge(L.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),P=P.merge(O),R=R.merge(O.append("line").attr("stroke","currentColor").attr(f+"2",u*a)),C=C.merge(O.append("text").attr("fill","currentColor").attr(f,u*x).attr("dy",t===ec?"0em":t===Ig?"0.71em":"0.32em")),p!==A&&(L=L.transition(p),P=P.transition(p),R=R.transition(p),C=C.transition(p),E=E.transition(p).attr("opacity",M1).attr("transform",function(N){return isFinite(N=S(N))?c(N):this.getAttribute("transform")}),O.attr("opacity",M1).attr("transform",function(N){var D=this.parentNode.__axis;return c(D&&isFinite(D=D(N))?D:S(N))})),E.remove(),L.attr("d",t===Js||t==nc?o?"M"+u*o+","+w+"H0.5V"+b+"H"+u*o:"M0.5,"+w+"V"+b:o?"M"+w+","+u*o+"V0.5H"+b+"V"+u*o:"M"+w+",0.5H"+b),P.attr("opacity",1).attr("transform",function(N){return c(S(N))}),R.attr(f+"2",u*a),C.attr(f,u*x).text(y),A.filter(V5).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===nc?"start":t===Js?"end":"middle"),A.each(function(){this.__axis=S})}return d.scale=function(p){return arguments.length?(e=p,d):e},d.ticks=function(){return n=yp.call(arguments),d},d.tickArguments=function(p){return arguments.length?(n=p==null?[]:yp.call(p),d):n.slice()},d.tickValues=function(p){return arguments.length?(r=p==null?null:yp.call(p),d):r&&r.slice()},d.tickFormat=function(p){return arguments.length?(i=p,d):i},d.tickSize=function(p){return arguments.length?(a=o=+p,d):a},d.tickSizeInner=function(p){return arguments.length?(a=+p,d):a},d.tickSizeOuter=function(p){return arguments.length?(o=+p,d):o},d.tickPadding=function(p){return arguments.length?(s=+p,d):s},d}function F5(t){return Zh(ec,t)}function B5(t){return Zh(nc,t)}function z5(t){return Zh(Ig,t)}function H5(t){return Zh(Js,t)}var Y5={value:function(){}};function Oa(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new rc(n)}function rc(t){this._=t}function X5(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}rc.prototype=Oa.prototype={constructor:rc,on:function(t,e){var n=this._,r=X5(t+"",n),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(t=r[a]).type)&&(i=U5(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<o;)if(i=(t=r[a]).type)n[i]=P1(n[i],t.name,e);else if(e==null)for(i in n)n[i]=P1(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new rc(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,i=a.length;r<i;++r)a[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};function U5(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function P1(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Y5,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Rg="http://www.w3.org/1999/xhtml";const kg={svg:"http://www.w3.org/2000/svg",xhtml:Rg,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ml(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),kg.hasOwnProperty(e)?{space:kg[e],local:t}:t}function W5(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Rg&&e.documentElement.namespaceURI===Rg?e.createElement(t):e.createElementNS(n,t)}}function q5(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Qh(t){var e=Ml(t);return(e.local?q5:W5)(e)}function Z5(){}function Kh(t){return t==null?Z5:function(){return this.querySelector(t)}}function Q5(t){typeof t!="function"&&(t=Kh(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,s=r[i]=new Array(o),u,f,c=0;c<o;++c)(u=a[c])&&(f=t.call(u,u.__data__,c,a))&&("__data__"in u&&(f.__data__=u.__data__),s[c]=f);return new Ge(r,this._parents)}function K5(){return[]}function Ky(t){return t==null?K5:function(){return this.querySelectorAll(t)}}function j5(t){typeof t!="function"&&(t=Ky(t));for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var o=e[a],s=o.length,u,f=0;f<s;++f)(u=o[f])&&(r.push(t.call(u,u.__data__,f,o)),i.push(u));return new Ge(r,i)}function jy(t){return function(){return this.matches(t)}}function J5(t){typeof t!="function"&&(t=jy(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,s=r[i]=[],u,f=0;f<o;++f)(u=a[f])&&t.call(u,u.__data__,f,a)&&s.push(u);return new Ge(r,this._parents)}function lA(t){return new Array(t.length)}function tR(){return new Ge(this._enter||this._groups.map(lA),this._parents)}function Pc(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Pc.prototype={constructor:Pc,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function eR(t){return function(){return t}}var L1="$";function nR(t,e,n,r,i,a){for(var o=0,s,u=e.length,f=a.length;o<f;++o)(s=e[o])?(s.__data__=a[o],r[o]=s):n[o]=new Pc(t,a[o]);for(;o<u;++o)(s=e[o])&&(i[o]=s)}function rR(t,e,n,r,i,a,o){var s,u,f={},c=e.length,d=a.length,p=new Array(c),v;for(s=0;s<c;++s)(u=e[s])&&(p[s]=v=L1+o.call(u,u.__data__,s,e),v in f?i[s]=u:f[v]=u);for(s=0;s<d;++s)v=L1+o.call(t,a[s],s,a),(u=f[v])?(r[s]=u,u.__data__=a[s],f[v]=null):n[s]=new Pc(t,a[s]);for(s=0;s<c;++s)(u=e[s])&&f[p[s]]===u&&(i[s]=u)}function iR(t,e){if(!t)return v=new Array(this.size()),f=-1,this.each(function(P){v[++f]=P}),v;var n=e?rR:nR,r=this._parents,i=this._groups;typeof t!="function"&&(t=eR(t));for(var a=i.length,o=new Array(a),s=new Array(a),u=new Array(a),f=0;f<a;++f){var c=r[f],d=i[f],p=d.length,v=t.call(c,c&&c.__data__,f,r),y=v.length,x=s[f]=new Array(y),_=o[f]=new Array(y),w=u[f]=new Array(p);n(c,d,x,_,w,v,e);for(var b=0,S=0,A,L;b<y;++b)if(A=x[b]){for(b>=S&&(S=b+1);!(L=_[S])&&++S<y;);A._next=L||null}}return o=new Ge(o,r),o._enter=s,o._exit=u,o}function aR(){return new Ge(this._exit||this._groups.map(lA),this._parents)}function oR(t,e,n){var r=this.enter(),i=this,a=this.exit();return r=typeof t=="function"?t(r):r.append(t+""),e!=null&&(i=e(i)),n==null?a.remove():n(a),r&&i?r.merge(i).order():i}function sR(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var u=e[s],f=n[s],c=u.length,d=o[s]=new Array(c),p,v=0;v<c;++v)(p=u[v]||f[v])&&(d[v]=p);for(;s<r;++s)o[s]=e[s];return new Ge(o,this._parents)}function uR(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,a=r[i],o;--i>=0;)(o=r[i])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function lR(t){t||(t=fR);function e(d,p){return d&&p?t(d.__data__,p.__data__):!d-!p}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o=n[a],s=o.length,u=i[a]=new Array(s),f,c=0;c<s;++c)(f=o[c])&&(u[c]=f);u.sort(e)}return new Ge(i,this._parents).order()}function fR(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function cR(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function hR(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t}function dR(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}function pR(){var t=0;return this.each(function(){++t}),t}function vR(){return!this.node()}function gR(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],a=0,o=i.length,s;a<o;++a)(s=i[a])&&t.call(s,s.__data__,a,i);return this}function yR(t){return function(){this.removeAttribute(t)}}function mR(t){return function(){this.removeAttributeNS(t.space,t.local)}}function _R(t,e){return function(){this.setAttribute(t,e)}}function xR(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function wR(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function bR(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function SR(t,e){var n=Ml(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?mR:yR:typeof e=="function"?n.local?bR:wR:n.local?xR:_R)(n,e))}function Jy(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function TR(t){return function(){this.style.removeProperty(t)}}function AR(t,e,n){return function(){this.style.setProperty(t,e,n)}}function CR(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function MR(t,e,n){return arguments.length>1?this.each((e==null?TR:typeof e=="function"?CR:AR)(t,e,n??"")):ga(this.node(),t)}function ga(t,e){return t.style.getPropertyValue(e)||Jy(t).getComputedStyle(t,null).getPropertyValue(e)}function PR(t){return function(){delete this[t]}}function LR(t,e){return function(){this[t]=e}}function DR(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function ER(t,e){return arguments.length>1?this.each((e==null?PR:typeof e=="function"?DR:LR)(t,e)):this.node()[t]}function fA(t){return t.trim().split(/^|\s+/)}function tm(t){return t.classList||new cA(t)}function cA(t){this._node=t,this._names=fA(t.getAttribute("class")||"")}cA.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function hA(t,e){for(var n=tm(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function dA(t,e){for(var n=tm(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function IR(t){return function(){hA(this,t)}}function RR(t){return function(){dA(this,t)}}function kR(t,e){return function(){(e.apply(this,arguments)?hA:dA)(this,t)}}function OR(t,e){var n=fA(t+"");if(arguments.length<2){for(var r=tm(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?kR:e?IR:RR)(n,e))}function NR(){this.textContent=""}function $R(t){return function(){this.textContent=t}}function GR(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function VR(t){return arguments.length?this.each(t==null?NR:(typeof t=="function"?GR:$R)(t)):this.node().textContent}function FR(){this.innerHTML=""}function BR(t){return function(){this.innerHTML=t}}function zR(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function HR(t){return arguments.length?this.each(t==null?FR:(typeof t=="function"?zR:BR)(t)):this.node().innerHTML}function YR(){this.nextSibling&&this.parentNode.appendChild(this)}function XR(){return this.each(YR)}function UR(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function WR(){return this.each(UR)}function qR(t){var e=typeof t=="function"?t:Qh(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function ZR(){return null}function QR(t,e){var n=typeof t=="function"?t:Qh(t),r=e==null?ZR:typeof e=="function"?e:Kh(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function KR(){var t=this.parentNode;t&&t.removeChild(this)}function jR(){return this.each(KR)}function JR(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function tk(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ek(t){return this.select(t?tk:JR)}function nk(t){return arguments.length?this.property("__data__",t):this.node().__data__}var pA={},rt=null;if(typeof document<"u"){var rk=document.documentElement;"onmouseenter"in rk||(pA={mouseenter:"mouseover",mouseleave:"mouseout"})}function ik(t,e,n){return t=vA(t,e,n),function(r){var i=r.relatedTarget;(!i||i!==this&&!(i.compareDocumentPosition(this)&8))&&t.call(this,r)}}function vA(t,e,n){return function(r){var i=rt;rt=r;try{t.call(this,this.__data__,e,n)}finally{rt=i}}}function ak(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function ok(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,a;n<i;++n)a=e[n],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.capture):e[++r]=a;++r?e.length=r:delete this.__on}}}function sk(t,e,n){var r=pA.hasOwnProperty(t.type)?ik:vA;return function(i,a,o){var s=this.__on,u,f=r(e,a,o);if(s){for(var c=0,d=s.length;c<d;++c)if((u=s[c]).type===t.type&&u.name===t.name){this.removeEventListener(u.type,u.listener,u.capture),this.addEventListener(u.type,u.listener=f,u.capture=n),u.value=e;return}}this.addEventListener(t.type,f,n),u={type:t.type,name:t.name,value:e,listener:f,capture:n},s?s.push(u):this.__on=[u]}}function uk(t,e,n){var r=ak(t+""),i,a=r.length,o;if(arguments.length<2){var s=this.node().__on;if(s){for(var u=0,f=s.length,c;u<f;++u)for(i=0,c=s[u];i<a;++i)if((o=r[i]).type===c.type&&o.name===c.name)return c.value}return}for(s=e?sk:ok,n==null&&(n=!1),i=0;i<a;++i)this.each(s(r[i],e,n));return this}function Yu(t,e,n,r){var i=rt;t.sourceEvent=rt,rt=t;try{return e.apply(n,r)}finally{rt=i}}function gA(t,e,n){var r=Jy(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function lk(t,e){return function(){return gA(this,t,e)}}function fk(t,e){return function(){return gA(this,t,e.apply(this,arguments))}}function ck(t,e){return this.each((typeof e=="function"?fk:lk)(t,e))}var em=[null];function Ge(t,e){this._groups=t,this._parents=e}function Na(){return new Ge([[document.documentElement]],em)}Ge.prototype=Na.prototype={constructor:Ge,select:Q5,selectAll:j5,filter:J5,data:iR,enter:tR,exit:aR,join:oR,merge:sR,order:uR,sort:lR,call:cR,nodes:hR,node:dR,size:pR,empty:vR,each:gR,attr:SR,style:MR,property:ER,classed:OR,text:VR,html:HR,raise:XR,lower:WR,append:qR,insert:QR,remove:jR,clone:ek,datum:nk,on:uk,dispatch:ck};function tn(t){return typeof t=="string"?new Ge([[document.querySelector(t)]],[document.documentElement]):new Ge([[t]],em)}function hk(t){return tn(Qh(t).call(document.documentElement))}var dk=0;function yA(){return new Og}function Og(){this._="@"+(++dk).toString(36)}Og.prototype=yA.prototype={constructor:Og,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};function nm(){for(var t=rt,e;e=t.sourceEvent;)t=e;return t}function jh(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}function aa(t){var e=nm();return e.changedTouches&&(e=e.changedTouches[0]),jh(t,e)}function pk(t){return typeof t=="string"?new Ge([document.querySelectorAll(t)],[document.documentElement]):new Ge([t??[]],em)}function Xu(t,e,n){arguments.length<3&&(n=e,e=nm().changedTouches);for(var r=0,i=e?e.length:0,a;r<i;++r)if((a=e[r]).identifier===n)return jh(t,a);return null}function vk(t,e){e==null&&(e=nm().touches);for(var n=0,r=e?e.length:0,i=new Array(r);n<r;++n)i[n]=jh(t,e[n]);return i}function mp(){rt.stopImmediatePropagation()}function Po(){rt.preventDefault(),rt.stopImmediatePropagation()}function Jh(t){var e=t.document.documentElement,n=tn(t).on("dragstart.drag",Po,!0);"onselectstart"in e?n.on("selectstart.drag",Po,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function td(t,e){var n=t.document.documentElement,r=tn(t).on("dragstart.drag",null);e&&(r.on("click.drag",Po,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function ql(t){return function(){return t}}function Ng(t,e,n,r,i,a,o,s,u,f){this.target=t,this.type=e,this.subject=n,this.identifier=r,this.active=i,this.x=a,this.y=o,this.dx=s,this.dy=u,this._=f}Ng.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function gk(){return!rt.ctrlKey&&!rt.button}function yk(){return this.parentNode}function mk(t){return t??{x:rt.x,y:rt.y}}function _k(){return navigator.maxTouchPoints||"ontouchstart"in this}function xk(){var t=gk,e=yk,n=mk,r=_k,i={},a=Oa("start","drag","end"),o=0,s,u,f,c,d=0;function p(A){A.on("mousedown.drag",v).filter(r).on("touchstart.drag",_).on("touchmove.drag",w).on("touchend.drag touchcancel.drag",b).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function v(){if(!(c||!t.apply(this,arguments))){var A=S("mouse",e.apply(this,arguments),aa,this,arguments);A&&(tn(rt.view).on("mousemove.drag",y,!0).on("mouseup.drag",x,!0),Jh(rt.view),mp(),f=!1,s=rt.clientX,u=rt.clientY,A("start"))}}function y(){if(Po(),!f){var A=rt.clientX-s,L=rt.clientY-u;f=A*A+L*L>d}i.mouse("drag")}function x(){tn(rt.view).on("mousemove.drag mouseup.drag",null),td(rt.view,f),Po(),i.mouse("end")}function _(){if(t.apply(this,arguments)){var A=rt.changedTouches,L=e.apply(this,arguments),P=A.length,E,O;for(E=0;E<P;++E)(O=S(A[E].identifier,L,Xu,this,arguments))&&(mp(),O("start"))}}function w(){var A=rt.changedTouches,L=A.length,P,E;for(P=0;P<L;++P)(E=i[A[P].identifier])&&(Po(),E("drag"))}function b(){var A=rt.changedTouches,L=A.length,P,E;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),P=0;P<L;++P)(E=i[A[P].identifier])&&(mp(),E("end"))}function S(A,L,P,E,O){var R=P(L,A),C,N,D,G=a.copy();if(Yu(new Ng(p,"beforestart",C,A,o,R[0],R[1],0,0,G),function(){return(rt.subject=C=n.apply(E,O))==null?!1:(N=C.x-R[0]||0,D=C.y-R[1]||0,!0)}))return function X(H){var W=R,K;switch(H){case"start":i[A]=X,K=o++;break;case"end":delete i[A],--o;case"drag":R=P(L,A),K=o;break}Yu(new Ng(p,H,C,A,K,R[0]+N,R[1]+D,R[0]-W[0],R[1]-W[1],G),G.apply,G,[H,E,O])}}return p.filter=function(A){return arguments.length?(t=typeof A=="function"?A:ql(!!A),p):t},p.container=function(A){return arguments.length?(e=typeof A=="function"?A:ql(A),p):e},p.subject=function(A){return arguments.length?(n=typeof A=="function"?A:ql(A),p):n},p.touchable=function(A){return arguments.length?(r=typeof A=="function"?A:ql(!!A),p):r},p.on=function(){var A=a.on.apply(a,arguments);return A===a?p:A},p.clickDistance=function(A){return arguments.length?(d=(A=+A)*A,p):Math.sqrt(d)},p}function ls(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Pl(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function bi(){}var ya=.7,Fo=1/ya,Lo="\\s*([+-]?\\d+)\\s*",Uu="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",sr="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",wk=/^#([0-9a-f]{3,8})$/,bk=new RegExp("^rgb\\("+[Lo,Lo,Lo]+"\\)$"),Sk=new RegExp("^rgb\\("+[sr,sr,sr]+"\\)$"),Tk=new RegExp("^rgba\\("+[Lo,Lo,Lo,Uu]+"\\)$"),Ak=new RegExp("^rgba\\("+[sr,sr,sr,Uu]+"\\)$"),Ck=new RegExp("^hsl\\("+[Uu,sr,sr]+"\\)$"),Mk=new RegExp("^hsla\\("+[Uu,sr,sr,Uu]+"\\)$"),D1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ls(bi,pi,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:E1,formatHex:E1,formatHsl:Pk,formatRgb:I1,toString:I1});function E1(){return this.rgb().formatHex()}function Pk(){return mA(this).formatHsl()}function I1(){return this.rgb().formatRgb()}function pi(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=wk.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?R1(e):n===3?new ye(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Zl(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Zl(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=bk.exec(t))?new ye(e[1],e[2],e[3],1):(e=Sk.exec(t))?new ye(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Tk.exec(t))?Zl(e[1],e[2],e[3],e[4]):(e=Ak.exec(t))?Zl(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Ck.exec(t))?N1(e[1],e[2]/100,e[3]/100,1):(e=Mk.exec(t))?N1(e[1],e[2]/100,e[3]/100,e[4]):D1.hasOwnProperty(t)?R1(D1[t]):t==="transparent"?new ye(NaN,NaN,NaN,0):null}function R1(t){return new ye(t>>16&255,t>>8&255,t&255,1)}function Zl(t,e,n,r){return r<=0&&(t=e=n=NaN),new ye(t,e,n,r)}function rm(t){return t instanceof bi||(t=pi(t)),t?(t=t.rgb(),new ye(t.r,t.g,t.b,t.opacity)):new ye}function Bo(t,e,n,r){return arguments.length===1?rm(t):new ye(t,e,n,r??1)}function ye(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}ls(ye,Bo,Pl(bi,{brighter:function(t){return t=t==null?Fo:Math.pow(Fo,t),new ye(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=t==null?ya:Math.pow(ya,t),new ye(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:k1,formatHex:k1,formatRgb:O1,toString:O1}));function k1(){return"#"+_p(this.r)+_p(this.g)+_p(this.b)}function O1(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(t===1?")":", "+t+")")}function _p(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function N1(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new tr(t,e,n,r)}function mA(t){if(t instanceof tr)return new tr(t.h,t.s,t.l,t.opacity);if(t instanceof bi||(t=pi(t)),!t)return new tr;if(t instanceof tr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,u=(a+i)/2;return s?(e===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-e)/s+2:o=(e-n)/s+4,s/=u<.5?a+i:2-a-i,o*=60):s=u>0&&u<1?0:o,new tr(o,s,u,t.opacity)}function Lc(t,e,n,r){return arguments.length===1?mA(t):new tr(t,e,n,r??1)}function tr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}ls(tr,Lc,Pl(bi,{brighter:function(t){return t=t==null?Fo:Math.pow(Fo,t),new tr(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=t==null?ya:Math.pow(ya,t),new tr(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new ye(xp(t>=240?t-240:t+120,i,r),xp(t,i,r),xp(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(t===1?")":", "+t+")")}}));function xp(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}var _A=Math.PI/180,xA=180/Math.PI,Dc=18,wA=.96422,bA=1,SA=.82521,TA=4/29,Do=6/29,AA=3*Do*Do,Lk=Do*Do*Do;function CA(t){if(t instanceof Fn)return new Fn(t.l,t.a,t.b,t.opacity);if(t instanceof ir)return PA(t);t instanceof ye||(t=rm(t));var e=Tp(t.r),n=Tp(t.g),r=Tp(t.b),i=wp((.2225045*e+.7168786*n+.0606169*r)/bA),a,o;return e===n&&n===r?a=o=i:(a=wp((.4360747*e+.3850649*n+.1430804*r)/wA),o=wp((.0139322*e+.0971045*n+.7141733*r)/SA)),new Fn(116*i-16,500*(a-i),200*(i-o),t.opacity)}function Dk(t,e){return new Fn(t,0,0,e??1)}function Ec(t,e,n,r){return arguments.length===1?CA(t):new Fn(t,e,n,r??1)}function Fn(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}ls(Fn,Ec,Pl(bi,{brighter:function(t){return new Fn(this.l+Dc*(t??1),this.a,this.b,this.opacity)},darker:function(t){return new Fn(this.l-Dc*(t??1),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=wA*bp(e),t=bA*bp(t),n=SA*bp(n),new ye(Sp(3.1338561*e-1.6168667*t-.4906146*n),Sp(-.9787684*e+1.9161415*t+.033454*n),Sp(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}}));function wp(t){return t>Lk?Math.pow(t,1/3):t/AA+TA}function bp(t){return t>Do?t*t*t:AA*(t-TA)}function Sp(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Tp(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function MA(t){if(t instanceof ir)return new ir(t.h,t.c,t.l,t.opacity);if(t instanceof Fn||(t=CA(t)),t.a===0&&t.b===0)return new ir(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*xA;return new ir(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Ek(t,e,n,r){return arguments.length===1?MA(t):new ir(n,e,t,r??1)}function Ic(t,e,n,r){return arguments.length===1?MA(t):new ir(t,e,n,r??1)}function ir(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function PA(t){if(isNaN(t.h))return new Fn(t.l,0,0,t.opacity);var e=t.h*_A;return new Fn(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}ls(ir,Ic,Pl(bi,{brighter:function(t){return new ir(this.h,this.c,this.l+Dc*(t??1),this.opacity)},darker:function(t){return new ir(this.h,this.c,this.l-Dc*(t??1),this.opacity)},rgb:function(){return PA(this).rgb()}}));var LA=-.14861,im=1.78277,am=-.29227,ed=-.90649,Wu=1.97294,$1=Wu*ed,G1=Wu*im,V1=im*am-ed*LA;function Ik(t){if(t instanceof la)return new la(t.h,t.s,t.l,t.opacity);t instanceof ye||(t=rm(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(V1*r+$1*e-G1*n)/(V1+$1-G1),a=r-i,o=(Wu*(n-i)-am*a)/ed,s=Math.sqrt(o*o+a*a)/(Wu*i*(1-i)),u=s?Math.atan2(o,a)*xA-120:NaN;return new la(u<0?u+360:u,s,i,t.opacity)}function Bn(t,e,n,r){return arguments.length===1?Ik(t):new la(t,e,n,r??1)}function la(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}ls(la,Bn,Pl(bi,{brighter:function(t){return t=t==null?Fo:Math.pow(Fo,t),new la(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=t==null?ya:Math.pow(ya,t),new la(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*_A,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new ye(255*(e+n*(LA*r+im*i)),255*(e+n*(am*r+ed*i)),255*(e+n*(Wu*r)),this.opacity)}}));function DA(t,e,n,r,i){var a=t*t,o=a*t;return((1-3*t+3*a-o)*e+(4-6*a+3*o)*n+(1+3*t+3*a-3*o)*r+o*i)/6}function EA(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],a=t[r+1],o=r>0?t[r-1]:2*i-a,s=r<e-1?t[r+2]:2*a-i;return DA((n-r/e)*e,o,i,a,s)}}function IA(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],a=t[r%e],o=t[(r+1)%e],s=t[(r+2)%e];return DA((n-r/e)*e,i,a,o,s)}}function nd(t){return function(){return t}}function RA(t,e){return function(n){return t+n*e}}function Rk(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function rd(t,e){var n=e-t;return n?RA(t,n>180||n<-180?n-360*Math.round(n/360):n):nd(isNaN(t)?e:t)}function kk(t){return(t=+t)==1?ve:function(e,n){return n-e?Rk(e,n,t):nd(isNaN(e)?n:e)}}function ve(t,e){var n=e-t;return n?RA(t,n):nd(isNaN(t)?e:t)}const qu=function t(e){var n=kk(e);function r(i,a){var o=n((i=Bo(i)).r,(a=Bo(a)).r),s=n(i.g,a.g),u=n(i.b,a.b),f=ve(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=s(c),i.b=u(c),i.opacity=f(c),i+""}}return r.gamma=t,r}(1);function kA(t){return function(e){var n=e.length,r=new Array(n),i=new Array(n),a=new Array(n),o,s;for(o=0;o<n;++o)s=Bo(e[o]),r[o]=s.r||0,i[o]=s.g||0,a[o]=s.b||0;return r=t(r),i=t(i),a=t(a),s.opacity=1,function(u){return s.r=r(u),s.g=i(u),s.b=a(u),s+""}}}var OA=kA(EA),Ok=kA(IA);function om(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function NA(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Nk(t,e){return(NA(e)?om:$A)(t,e)}function $A(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=Ll(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function GA(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Sn(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function VA(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Ll(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var $g=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ap=new RegExp($g.source,"g");function $k(t){return function(){return t}}function Gk(t){return function(e){return t(e)+""}}function sm(t,e){var n=$g.lastIndex=Ap.lastIndex=0,r,i,a,o=-1,s=[],u=[];for(t=t+"",e=e+"";(r=$g.exec(t))&&(i=Ap.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,u.push({i:o,x:Sn(r,i)})),n=Ap.lastIndex;return n<e.length&&(a=e.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?u[0]?Gk(u[0].x):$k(e):(e=u.length,function(f){for(var c=0,d;c<e;++c)s[(d=u[c]).i]=d.x(f);return s.join("")})}function Ll(t,e){var n=typeof e,r;return e==null||n==="boolean"?nd(e):(n==="number"?Sn:n==="string"?(r=pi(e))?(e=r,qu):sm:e instanceof pi?qu:e instanceof Date?GA:NA(e)?om:Array.isArray(e)?$A:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?VA:Sn)(t,e)}function Vk(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}function Fk(t,e){var n=rd(+t,+e);return function(r){var i=n(r);return i-360*Math.floor(i/360)}}function FA(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var F1=180/Math.PI,Gg={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function BA(t,e,n,r,i,a){var o,s,u;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*F1,skewX:Math.atan(u)*F1,scaleX:o,scaleY:s}}var ws,Cp,B1,Ql;function Bk(t){return t==="none"?Gg:(ws||(ws=document.createElement("DIV"),Cp=document.documentElement,B1=document.defaultView),ws.style.transform=t,t=B1.getComputedStyle(Cp.appendChild(ws),null).getPropertyValue("transform"),Cp.removeChild(ws),t=t.slice(7,-1).split(","),BA(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}function zk(t){return t==null||(Ql||(Ql=document.createElementNS("http://www.w3.org/2000/svg","g")),Ql.setAttribute("transform",t),!(t=Ql.transform.baseVal.consolidate()))?Gg:(t=t.matrix,BA(t.a,t.b,t.c,t.d,t.e,t.f))}function zA(t,e,n,r){function i(f){return f.length?f.pop()+" ":""}function a(f,c,d,p,v,y){if(f!==d||c!==p){var x=v.push("translate(",null,e,null,n);y.push({i:x-4,x:Sn(f,d)},{i:x-2,x:Sn(c,p)})}else(d||p)&&v.push("translate("+d+e+p+n)}function o(f,c,d,p){f!==c?(f-c>180?c+=360:c-f>180&&(f+=360),p.push({i:d.push(i(d)+"rotate(",null,r)-2,x:Sn(f,c)})):c&&d.push(i(d)+"rotate("+c+r)}function s(f,c,d,p){f!==c?p.push({i:d.push(i(d)+"skewX(",null,r)-2,x:Sn(f,c)}):c&&d.push(i(d)+"skewX("+c+r)}function u(f,c,d,p,v,y){if(f!==d||c!==p){var x=v.push(i(v)+"scale(",null,",",null,")");y.push({i:x-4,x:Sn(f,d)},{i:x-2,x:Sn(c,p)})}else(d!==1||p!==1)&&v.push(i(v)+"scale("+d+","+p+")")}return function(f,c){var d=[],p=[];return f=t(f),c=t(c),a(f.translateX,f.translateY,c.translateX,c.translateY,d,p),o(f.rotate,c.rotate,d,p),s(f.skewX,c.skewX,d,p),u(f.scaleX,f.scaleY,c.scaleX,c.scaleY,d,p),f=c=null,function(v){for(var y=-1,x=p.length,_;++y<x;)d[(_=p[y]).i]=_.x(v);return d.join("")}}}var HA=zA(Bk,"px, ","px)","deg)"),YA=zA(zk,", ",")",")"),bs=Math.SQRT2,Mp=2,z1=4,Hk=1e-12;function H1(t){return((t=Math.exp(t))+1/t)/2}function Yk(t){return((t=Math.exp(t))-1/t)/2}function Xk(t){return((t=Math.exp(2*t))-1)/(t+1)}function XA(t,e){var n=t[0],r=t[1],i=t[2],a=e[0],o=e[1],s=e[2],u=a-n,f=o-r,c=u*u+f*f,d,p;if(c<Hk)p=Math.log(s/i)/bs,d=function(b){return[n+b*u,r+b*f,i*Math.exp(bs*b*p)]};else{var v=Math.sqrt(c),y=(s*s-i*i+z1*c)/(2*i*Mp*v),x=(s*s-i*i-z1*c)/(2*s*Mp*v),_=Math.log(Math.sqrt(y*y+1)-y),w=Math.log(Math.sqrt(x*x+1)-x);p=(w-_)/bs,d=function(b){var S=b*p,A=H1(_),L=i/(Mp*v)*(A*Xk(bs*S+_)-Yk(_));return[n+L*u,r+L*f,i*A/H1(bs*S+_)]}}return d.duration=p*1e3,d}function UA(t){return function(e,n){var r=t((e=Lc(e)).h,(n=Lc(n)).h),i=ve(e.s,n.s),a=ve(e.l,n.l),o=ve(e.opacity,n.opacity);return function(s){return e.h=r(s),e.s=i(s),e.l=a(s),e.opacity=o(s),e+""}}}const Uk=UA(rd);var Wk=UA(ve);function qk(t,e){var n=ve((t=Ec(t)).l,(e=Ec(e)).l),r=ve(t.a,e.a),i=ve(t.b,e.b),a=ve(t.opacity,e.opacity);return function(o){return t.l=n(o),t.a=r(o),t.b=i(o),t.opacity=a(o),t+""}}function WA(t){return function(e,n){var r=t((e=Ic(e)).h,(n=Ic(n)).h),i=ve(e.c,n.c),a=ve(e.l,n.l),o=ve(e.opacity,n.opacity);return function(s){return e.h=r(s),e.c=i(s),e.l=a(s),e.opacity=o(s),e+""}}}const Zk=WA(rd);var Qk=WA(ve);function qA(t){return function e(n){n=+n;function r(i,a){var o=t((i=Bn(i)).h,(a=Bn(a)).h),s=ve(i.s,a.s),u=ve(i.l,a.l),f=ve(i.opacity,a.opacity);return function(c){return i.h=o(c),i.s=s(c),i.l=u(Math.pow(c,n)),i.opacity=f(c),i+""}}return r.gamma=e,r}(1)}const Kk=qA(rd);var id=qA(ve);function jk(t,e){for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[s](o-s)}}function Jk(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}var zo=0,tu=0,Ss=0,ZA=1e3,Rc,eu,kc=0,ma=0,ad=0,Zu=typeof performance=="object"&&performance.now?performance:Date,QA=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function fs(){return ma||(QA(tO),ma=Zu.now()+ad)}function tO(){ma=0}function Qu(){this._call=this._time=this._next=null}Qu.prototype=od.prototype={constructor:Qu,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?fs():+n)+(e==null?0:+e),!this._next&&eu!==this&&(eu?eu._next=this:Rc=this,eu=this),this._call=t,this._time=n,Vg()},stop:function(){this._call&&(this._call=null,this._time=1/0,Vg())}};function od(t,e,n){var r=new Qu;return r.restart(t,e,n),r}function KA(){fs(),++zo;for(var t=Rc,e;t;)(e=ma-t._time)>=0&&t._call.call(null,e),t=t._next;--zo}function Y1(){ma=(kc=Zu.now())+ad,zo=tu=0;try{KA()}finally{zo=0,nO(),ma=0}}function eO(){var t=Zu.now(),e=t-kc;e>ZA&&(ad-=e,kc=t)}function nO(){for(var t,e=Rc,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Rc=n);eu=t,Vg(r)}function Vg(t){if(!zo){tu&&(tu=clearTimeout(tu));var e=t-ma;e>24?(t<1/0&&(tu=setTimeout(Y1,t-Zu.now()-ad)),Ss&&(Ss=clearInterval(Ss))):(Ss||(kc=Zu.now(),Ss=setInterval(eO,ZA)),zo=1,QA(Y1))}}function Fg(t,e,n){var r=new Qu;return e=e==null?0:+e,r.restart(function(i){r.stop(),t(i+e)},e,n),r}function rO(t,e,n){var r=new Qu,i=e;return e==null?(r.restart(t,e,n),r):(e=+e,n=n==null?fs():+n,r.restart(function a(o){o+=i,r.restart(a,i+=e,n),t(o)},e,n),r)}var iO=Oa("start","end","cancel","interrupt"),aO=[],jA=0,Bg=1,zg=2,ic=3,X1=4,Hg=5,ac=6;function sd(t,e,n,r,i,a){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;oO(t,n,{name:e,index:r,group:i,on:iO,tween:aO,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:jA})}function um(t,e){var n=zn(t,e);if(n.state>jA)throw new Error("too late; already scheduled");return n}function $r(t,e){var n=zn(t,e);if(n.state>ic)throw new Error("too late; already running");return n}function zn(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function oO(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=od(a,0,n.time);function a(f){n.state=Bg,n.timer.restart(o,n.delay,n.time),n.delay<=f&&o(f-n.delay)}function o(f){var c,d,p,v;if(n.state!==Bg)return u();for(c in r)if(v=r[c],v.name===n.name){if(v.state===ic)return Fg(o);v.state===X1?(v.state=ac,v.timer.stop(),v.on.call("interrupt",t,t.__data__,v.index,v.group),delete r[c]):+c<e&&(v.state=ac,v.timer.stop(),v.on.call("cancel",t,t.__data__,v.index,v.group),delete r[c])}if(Fg(function(){n.state===ic&&(n.state=X1,n.timer.restart(s,n.delay,n.time),s(f))}),n.state=zg,n.on.call("start",t,t.__data__,n.index,n.group),n.state===zg){for(n.state=ic,i=new Array(p=n.tween.length),c=0,d=-1;c<p;++c)(v=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++d]=v);i.length=d+1}}function s(f){for(var c=f<n.duration?n.ease.call(null,f/n.duration):(n.timer.restart(u),n.state=Hg,1),d=-1,p=i.length;++d<p;)i[d].call(t,c);n.state===Hg&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){n.state=ac,n.timer.stop(),delete r[e];for(var f in r)return;delete t.__transition}}function fa(t,e){var n=t.__transition,r,i,a=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){a=!1;continue}i=r.state>zg&&r.state<Hg,r.state=ac,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}a&&delete t.__transition}}function sO(t){return this.each(function(){fa(this,t)})}function uO(t,e){var n,r;return function(){var i=$r(this,t),a=i.tween;if(a!==n){r=n=a;for(var o=0,s=r.length;o<s;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function lO(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var a=$r(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var s={name:e,value:n},u=0,f=i.length;u<f;++u)if(i[u].name===e){i[u]=s;break}u===f&&i.push(s)}a.tween=i}}function fO(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=zn(this.node(),n).tween,i=0,a=r.length,o;i<a;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?uO:lO)(n,t,e))}function lm(t,e,n){var r=t._id;return t.each(function(){var i=$r(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return zn(i,r).value[e]}}function JA(t,e){var n;return(typeof e=="number"?Sn:e instanceof pi?qu:(n=pi(e))?(e=n,qu):sm)(t,e)}function cO(t){return function(){this.removeAttribute(t)}}function hO(t){return function(){this.removeAttributeNS(t.space,t.local)}}function dO(t,e,n){var r,i=n+"",a;return function(){var o=this.getAttribute(t);return o===i?null:o===r?a:a=e(r=o,n)}}function pO(t,e,n){var r,i=n+"",a;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?a:a=e(r=o,n)}}function vO(t,e,n){var r,i,a;return function(){var o,s=n(this),u;return s==null?void this.removeAttribute(t):(o=this.getAttribute(t),u=s+"",o===u?null:o===r&&u===i?a:(i=u,a=e(r=o,s)))}}function gO(t,e,n){var r,i,a;return function(){var o,s=n(this),u;return s==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),u=s+"",o===u?null:o===r&&u===i?a:(i=u,a=e(r=o,s)))}}function yO(t,e){var n=Ml(t),r=n==="transform"?YA:JA;return this.attrTween(t,typeof e=="function"?(n.local?gO:vO)(n,r,lm(this,"attr."+t,e)):e==null?(n.local?hO:cO)(n):(n.local?pO:dO)(n,r,e))}function mO(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function _O(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function xO(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&_O(t,a)),n}return i._value=e,i}function wO(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&mO(t,a)),n}return i._value=e,i}function bO(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Ml(t);return this.tween(n,(r.local?xO:wO)(r,e))}function SO(t,e){return function(){um(this,t).delay=+e.apply(this,arguments)}}function TO(t,e){return e=+e,function(){um(this,t).delay=e}}function AO(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?SO:TO)(e,t)):zn(this.node(),e).delay}function CO(t,e){return function(){$r(this,t).duration=+e.apply(this,arguments)}}function MO(t,e){return e=+e,function(){$r(this,t).duration=e}}function PO(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?CO:MO)(e,t)):zn(this.node(),e).duration}function LO(t,e){if(typeof e!="function")throw new Error;return function(){$r(this,t).ease=e}}function DO(t){var e=this._id;return arguments.length?this.each(LO(e,t)):zn(this.node(),e).ease}function EO(t){typeof t!="function"&&(t=jy(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,s=r[i]=[],u,f=0;f<o;++f)(u=a[f])&&t.call(u,u.__data__,f,a)&&s.push(u);return new lr(r,this._parents,this._name,this._id)}function IO(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var u=e[s],f=n[s],c=u.length,d=o[s]=new Array(c),p,v=0;v<c;++v)(p=u[v]||f[v])&&(d[v]=p);for(;s<r;++s)o[s]=e[s];return new lr(o,this._parents,this._name,this._id)}function RO(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function kO(t,e,n){var r,i,a=RO(e)?um:$r;return function(){var o=a(this,t),s=o.on;s!==r&&(i=(r=s).copy()).on(e,n),o.on=i}}function OO(t,e){var n=this._id;return arguments.length<2?zn(this.node(),n).on.on(t):this.each(kO(n,t,e))}function NO(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function $O(){return this.on("end.remove",NO(this._id))}function GO(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Kh(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var s=r[o],u=s.length,f=a[o]=new Array(u),c,d,p=0;p<u;++p)(c=s[p])&&(d=t.call(c,c.__data__,p,s))&&("__data__"in c&&(d.__data__=c.__data__),f[p]=d,sd(f[p],e,n,p,f,zn(c,n)));return new lr(a,this._parents,e,n)}function VO(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Ky(t));for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s)for(var u=r[s],f=u.length,c,d=0;d<f;++d)if(c=u[d]){for(var p=t.call(c,c.__data__,d,u),v,y=zn(c,n),x=0,_=p.length;x<_;++x)(v=p[x])&&sd(v,e,n,x,p,y);a.push(p),o.push(c)}return new lr(a,o,e,n)}var FO=Na.prototype.constructor;function BO(){return new FO(this._groups,this._parents)}function zO(t,e){var n,r,i;return function(){var a=ga(this,t),o=(this.style.removeProperty(t),ga(this,t));return a===o?null:a===n&&o===r?i:i=e(n=a,r=o)}}function tC(t){return function(){this.style.removeProperty(t)}}function HO(t,e,n){var r,i=n+"",a;return function(){var o=ga(this,t);return o===i?null:o===r?a:a=e(r=o,n)}}function YO(t,e,n){var r,i,a;return function(){var o=ga(this,t),s=n(this),u=s+"";return s==null&&(u=s=(this.style.removeProperty(t),ga(this,t))),o===u?null:o===r&&u===i?a:(i=u,a=e(r=o,s))}}function XO(t,e){var n,r,i,a="style."+e,o="end."+a,s;return function(){var u=$r(this,t),f=u.on,c=u.value[a]==null?s||(s=tC(e)):void 0;(f!==n||i!==c)&&(r=(n=f).copy()).on(o,i=c),u.on=r}}function UO(t,e,n){var r=(t+="")=="transform"?HA:JA;return e==null?this.styleTween(t,zO(t,r)).on("end.style."+t,tC(t)):typeof e=="function"?this.styleTween(t,YO(t,r,lm(this,"style."+t,e))).each(XO(this._id,t)):this.styleTween(t,HO(t,r,e),n).on("end.style."+t,null)}function WO(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function qO(t,e,n){var r,i;function a(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&WO(t,o,n)),r}return a._value=e,a}function ZO(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,qO(t,e,n??""))}function QO(t){return function(){this.textContent=t}}function KO(t){return function(){var e=t(this);this.textContent=e??""}}function jO(t){return this.tween("text",typeof t=="function"?KO(lm(this,"text",t)):QO(t==null?"":t+""))}function JO(t){return function(e){this.textContent=t.call(this,e)}}function t4(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&JO(i)),e}return r._value=t,r}function e4(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,t4(t))}function n4(){for(var t=this._name,e=this._id,n=nC(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],s=o.length,u,f=0;f<s;++f)if(u=o[f]){var c=zn(u,e);sd(u,t,n,f,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new lr(r,this._parents,t,n)}function r4(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(a,o){var s={value:o},u={value:function(){--i===0&&a()}};n.each(function(){var f=$r(this,r),c=f.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(u)),f.on=e})})}var i4=0;function lr(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function eC(t){return Na().transition(t)}function nC(){return++i4}var Ua=Na.prototype;lr.prototype=eC.prototype={constructor:lr,select:GO,selectAll:VO,filter:EO,merge:IO,selection:BO,transition:n4,call:Ua.call,nodes:Ua.nodes,node:Ua.node,size:Ua.size,empty:Ua.empty,each:Ua.each,on:OO,attr:yO,attrTween:bO,style:UO,styleTween:ZO,text:jO,textTween:e4,remove:$O,tween:fO,delay:AO,duration:PO,ease:DO,end:r4};function a4(t){return+t}function o4(t){return t*t}function s4(t){return t*(2-t)}function U1(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function u4(t){return t*t*t}function l4(t){return--t*t*t+1}function Yg(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var fm=3,f4=function t(e){e=+e;function n(r){return Math.pow(r,e)}return n.exponent=t,n}(fm),c4=function t(e){e=+e;function n(r){return 1-Math.pow(1-r,e)}return n.exponent=t,n}(fm),W1=function t(e){e=+e;function n(r){return((r*=2)<=1?Math.pow(r,e):2-Math.pow(2-r,e))/2}return n.exponent=t,n}(fm),rC=Math.PI,iC=rC/2;function h4(t){return+t==1?1:1-Math.cos(t*iC)}function d4(t){return Math.sin(t*iC)}function q1(t){return(1-Math.cos(rC*t))/2}function vi(t){return(Math.pow(2,-10*t)-.0009765625)*1.0009775171065494}function p4(t){return vi(1-+t)}function v4(t){return 1-vi(t)}function Z1(t){return((t*=2)<=1?vi(1-t):2-vi(t-1))/2}function g4(t){return 1-Math.sqrt(1-t*t)}function y4(t){return Math.sqrt(1- --t*t)}function Q1(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var Xg=4/11,m4=6/11,_4=8/11,x4=3/4,w4=9/11,b4=10/11,S4=15/16,T4=21/22,A4=63/64,Kl=1/Xg/Xg;function C4(t){return 1-Ku(1-t)}function Ku(t){return(t=+t)<Xg?Kl*t*t:t<_4?Kl*(t-=m4)*t+x4:t<b4?Kl*(t-=w4)*t+S4:Kl*(t-=T4)*t+A4}function M4(t){return((t*=2)<=1?1-Ku(1-t):Ku(t-1)+1)/2}var cm=1.70158,P4=function t(e){e=+e;function n(r){return(r=+r)*r*(e*(r-1)+r)}return n.overshoot=t,n}(cm),L4=function t(e){e=+e;function n(r){return--r*r*((r+1)*e+r)+1}return n.overshoot=t,n}(cm),K1=function t(e){e=+e;function n(r){return((r*=2)<1?r*r*((e+1)*r-e):(r-=2)*r*((e+1)*r+e)+2)/2}return n.overshoot=t,n}(cm),Ho=2*Math.PI,hm=1,dm=.3,D4=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Ho);function i(a){return e*vi(- --a)*Math.sin((r-a)/n)}return i.amplitude=function(a){return t(a,n*Ho)},i.period=function(a){return t(e,a)},i}(hm,dm),j1=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Ho);function i(a){return 1-e*vi(a=+a)*Math.sin((a+r)/n)}return i.amplitude=function(a){return t(a,n*Ho)},i.period=function(a){return t(e,a)},i}(hm,dm),E4=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Ho);function i(a){return((a=a*2-1)<0?e*vi(-a)*Math.sin((r-a)/n):2-e*vi(a)*Math.sin((r+a)/n))/2}return i.amplitude=function(a){return t(a,n*Ho)},i.period=function(a){return t(e,a)},i}(hm,dm),Ug={time:null,delay:0,duration:250,ease:Yg};function I4(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return Ug.time=fs(),Ug;return n}function R4(t){var e,n;t instanceof lr?(e=t._id,t=t._name):(e=nC(),(n=Ug).time=fs(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],s=o.length,u,f=0;f<s;++f)(u=o[f])&&sd(u,t,e,f,o,n||I4(u,e));return new lr(r,this._parents,t,e)}Na.prototype.interrupt=sO;Na.prototype.transition=R4;var k4=[null];function O4(t,e){var n=t.__transition,r,i;if(n){e=e==null?null:e+"";for(i in n)if((r=n[i]).state>Bg&&r.name===e)return new lr([[t]],k4,e,+i)}return null}function Pp(t){return function(){return t}}function N4(t,e,n){this.target=t,this.type=e,this.selection=n}function J1(){rt.stopImmediatePropagation()}function Lp(){rt.preventDefault(),rt.stopImmediatePropagation()}var tx={name:"drag"},Dp={name:"space"},Wa={name:"handle"},qa={name:"center"};function ex(t){return[+t[0],+t[1]]}function Wg(t){return[ex(t[0]),ex(t[1])]}function $4(t){return function(e){return Xu(e,rt.touches,t)}}var oc={name:"x",handles:["w","e"].map(ju),input:function(t,e){return t==null?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},sc={name:"y",handles:["n","s"].map(ju),input:function(t,e){return t==null?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},G4={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(ju),input:function(t){return t==null?null:Wg(t)},output:function(t){return t}},_r={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},nx={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},rx={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},V4={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},F4={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function ju(t){return{type:t}}function B4(){return!rt.ctrlKey&&!rt.button}function z4(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function H4(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ep(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function Y4(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function X4(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function U4(){return pm(oc)}function W4(){return pm(sc)}function q4(){return pm(G4)}function pm(t){var e=z4,n=B4,r=H4,i=!0,a=Oa("start","brush","end"),o=6,s;function u(_){var w=_.property("__brush",x).selectAll(".overlay").data([ju("overlay")]);w.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",_r.overlay).merge(w).each(function(){var S=Ep(this).extent;tn(this).attr("x",S[0][0]).attr("y",S[0][1]).attr("width",S[1][0]-S[0][0]).attr("height",S[1][1]-S[0][1])}),_.selectAll(".selection").data([ju("selection")]).enter().append("rect").attr("class","selection").attr("cursor",_r.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var b=_.selectAll(".handle").data(t.handles,function(S){return S.type});b.exit().remove(),b.enter().append("rect").attr("class",function(S){return"handle handle--"+S.type}).attr("cursor",function(S){return _r[S.type]}),_.each(f).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",p).filter(r).on("touchstart.brush",p).on("touchmove.brush",v).on("touchend.brush touchcancel.brush",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}u.move=function(_,w){_.selection?_.on("start.brush",function(){c(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){c(this,arguments).end()}).tween("brush",function(){var b=this,S=b.__brush,A=c(b,arguments),L=S.selection,P=t.input(typeof w=="function"?w.apply(this,arguments):w,S.extent),E=Ll(L,P);function O(R){S.selection=R===1&&P===null?null:E(R),f.call(b),A.brush()}return L!==null&&P!==null?O:O(1)}):_.each(function(){var b=this,S=arguments,A=b.__brush,L=t.input(typeof w=="function"?w.apply(b,S):w,A.extent),P=c(b,S).beforestart();fa(b),A.selection=L===null?null:L,f.call(b),P.start().brush().end()})},u.clear=function(_){u.move(_,null)};function f(){var _=tn(this),w=Ep(this).selection;w?(_.selectAll(".selection").style("display",null).attr("x",w[0][0]).attr("y",w[0][1]).attr("width",w[1][0]-w[0][0]).attr("height",w[1][1]-w[0][1]),_.selectAll(".handle").style("display",null).attr("x",function(b){return b.type[b.type.length-1]==="e"?w[1][0]-o/2:w[0][0]-o/2}).attr("y",function(b){return b.type[0]==="s"?w[1][1]-o/2:w[0][1]-o/2}).attr("width",function(b){return b.type==="n"||b.type==="s"?w[1][0]-w[0][0]+o:o}).attr("height",function(b){return b.type==="e"||b.type==="w"?w[1][1]-w[0][1]+o:o})):_.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function c(_,w,b){var S=_.__brush.emitter;return S&&(!b||!S.clean)?S:new d(_,w,b)}function d(_,w,b){this.that=_,this.args=w,this.state=_.__brush,this.active=0,this.clean=b}d.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting?(this.starting=!1,this.emit("start")):this.emit("brush"),this},brush:function(){return this.emit("brush"),this},end:function(){return--this.active===0&&(delete this.state.emitter,this.emit("end")),this},emit:function(_){Yu(new N4(u,_,t.output(this.state.selection)),a.apply,a,[_,this.that,this.args])}};function p(){if(s&&!rt.touches||!n.apply(this,arguments))return;var _=this,w=rt.target.__data__.type,b=(i&&rt.metaKey?w="overlay":w)==="selection"?tx:i&&rt.altKey?qa:Wa,S=t===sc?null:V4[w],A=t===oc?null:F4[w],L=Ep(_),P=L.extent,E=L.selection,O=P[0][0],R,C,N=P[0][1],D,G,X=P[1][0],H,W,K=P[1][1],Q,l,h=0,g=0,m,T=S&&A&&i&&rt.shiftKey,M,I,k=rt.touches?$4(rt.changedTouches[0].identifier):aa,V=k(_),$=V,F=c(_,arguments,!0).beforestart();w==="overlay"?(E&&(m=!0),L.selection=E=[[R=t===sc?O:V[0],D=t===oc?N:V[1]],[H=t===sc?X:R,Q=t===oc?K:D]]):(R=E[0][0],D=E[0][1],H=E[1][0],Q=E[1][1]),C=R,G=D,W=H,l=Q;var z=tn(_).attr("pointer-events","none"),U=z.selectAll(".overlay").attr("cursor",_r[w]);if(rt.touches)F.moved=Z,F.ended=j;else{var B=tn(rt.view).on("mousemove.brush",Z,!0).on("mouseup.brush",j,!0);i&&B.on("keydown.brush",J,!0).on("keyup.brush",dt,!0),Jh(rt.view)}J1(),fa(_),f.call(_),F.start();function Z(){var vt=k(_);T&&!M&&!I&&(Math.abs(vt[0]-$[0])>Math.abs(vt[1]-$[1])?I=!0:M=!0),$=vt,m=!0,Lp(),q()}function q(){var vt;switch(h=$[0]-V[0],g=$[1]-V[1],b){case Dp:case tx:{S&&(h=Math.max(O-R,Math.min(X-H,h)),C=R+h,W=H+h),A&&(g=Math.max(N-D,Math.min(K-Q,g)),G=D+g,l=Q+g);break}case Wa:{S<0?(h=Math.max(O-R,Math.min(X-R,h)),C=R+h,W=H):S>0&&(h=Math.max(O-H,Math.min(X-H,h)),C=R,W=H+h),A<0?(g=Math.max(N-D,Math.min(K-D,g)),G=D+g,l=Q):A>0&&(g=Math.max(N-Q,Math.min(K-Q,g)),G=D,l=Q+g);break}case qa:{S&&(C=Math.max(O,Math.min(X,R-h*S)),W=Math.max(O,Math.min(X,H+h*S))),A&&(G=Math.max(N,Math.min(K,D-g*A)),l=Math.max(N,Math.min(K,Q+g*A)));break}}W<C&&(S*=-1,vt=R,R=H,H=vt,vt=C,C=W,W=vt,w in nx&&U.attr("cursor",_r[w=nx[w]])),l<G&&(A*=-1,vt=D,D=Q,Q=vt,vt=G,G=l,l=vt,w in rx&&U.attr("cursor",_r[w=rx[w]])),L.selection&&(E=L.selection),M&&(C=E[0][0],W=E[1][0]),I&&(G=E[0][1],l=E[1][1]),(E[0][0]!==C||E[0][1]!==G||E[1][0]!==W||E[1][1]!==l)&&(L.selection=[[C,G],[W,l]],f.call(_),F.brush())}function j(){if(J1(),rt.touches){if(rt.touches.length)return;s&&clearTimeout(s),s=setTimeout(function(){s=null},500)}else td(rt.view,m),B.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);z.attr("pointer-events","all"),U.attr("cursor",_r.overlay),L.selection&&(E=L.selection),Y4(E)&&(L.selection=null,f.call(_)),F.end()}function J(){switch(rt.keyCode){case 16:{T=S&&A;break}case 18:{b===Wa&&(S&&(H=W-h*S,R=C+h*S),A&&(Q=l-g*A,D=G+g*A),b=qa,q());break}case 32:{(b===Wa||b===qa)&&(S<0?H=W-h:S>0&&(R=C-h),A<0?Q=l-g:A>0&&(D=G-g),b=Dp,U.attr("cursor",_r.selection),q());break}default:return}Lp()}function dt(){switch(rt.keyCode){case 16:{T&&(M=I=T=!1,q());break}case 18:{b===qa&&(S<0?H=W:S>0&&(R=C),A<0?Q=l:A>0&&(D=G),b=Wa,q());break}case 32:{b===Dp&&(rt.altKey?(S&&(H=W-h*S,R=C+h*S),A&&(Q=l-g*A,D=G+g*A),b=qa):(S<0?H=W:S>0&&(R=C),A<0?Q=l:A>0&&(D=G),b=Wa),U.attr("cursor",_r[w]),q());break}default:return}Lp()}}function v(){c(this,arguments).moved()}function y(){c(this,arguments).ended()}function x(){var _=this.__brush||{selection:null};return _.extent=Wg(e.apply(this,arguments)),_.dim=t,_}return u.extent=function(_){return arguments.length?(e=typeof _=="function"?_:Pp(Wg(_)),u):e},u.filter=function(_){return arguments.length?(n=typeof _=="function"?_:Pp(!!_),u):n},u.touchable=function(_){return arguments.length?(r=typeof _=="function"?_:Pp(!!_),u):r},u.handleSize=function(_){return arguments.length?(o=+_,u):o},u.keyModifiers=function(_){return arguments.length?(i=!!_,u):i},u.on=function(){var _=a.on.apply(a,arguments);return _===a?u:_},u}var ix=Math.cos,ax=Math.sin,aC=Math.PI,jl=aC/2,ox=aC*2,sx=Math.max;function Z4(t){return function(e,n){return t(e.source.value+e.target.value,n.source.value+n.target.value)}}function Q4(){var t=0,e=null,n=null,r=null;function i(a){var o=a.length,s=[],u=ln(o),f=[],c=[],d=c.groups=new Array(o),p=new Array(o*o),v,y,x,_,w,b;for(v=0,w=-1;++w<o;){for(y=0,b=-1;++b<o;)y+=a[w][b];s.push(y),f.push(ln(o)),v+=y}for(e&&u.sort(function(C,N){return e(s[C],s[N])}),n&&f.forEach(function(C,N){C.sort(function(D,G){return n(a[N][D],a[N][G])})}),v=sx(0,ox-t*o)/v,_=v?t:ox/o,y=0,w=-1;++w<o;){for(x=y,b=-1;++b<o;){var S=u[w],A=f[S][b],L=a[S][A],P=y,E=y+=L*v;p[A*o+S]={index:S,subindex:A,startAngle:P,endAngle:E,value:L}}d[S]={index:S,startAngle:x,endAngle:y,value:s[S]},y+=_}for(w=-1;++w<o;)for(b=w-1;++b<o;){var O=p[b*o+w],R=p[w*o+b];(O.value||R.value)&&c.push(O.value<R.value?{source:R,target:O}:{source:O,target:R})}return r?c.sort(r):c}return i.padAngle=function(a){return arguments.length?(t=sx(0,a),i):t},i.sortGroups=function(a){return arguments.length?(e=a,i):e},i.sortSubgroups=function(a){return arguments.length?(n=a,i):n},i.sortChords=function(a){return arguments.length?(a==null?r=null:(r=Z4(a))._=a,i):r&&r._},i}var K4=Array.prototype.slice;function Ip(t){return function(){return t}}var qg=Math.PI,Zg=2*qg,Ki=1e-6,j4=Zg-Ki;function Qg(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Si(){return new Qg}Qg.prototype=Si.prototype={constructor:Qg,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,a){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var a=this._x1,o=this._y1,s=n-t,u=r-e,f=a-t,c=o-e,d=f*f+c*c;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(d>Ki)if(!(Math.abs(c*s-u*f)>Ki)||!i)this._+="L"+(this._x1=t)+","+(this._y1=e);else{var p=n-a,v=r-o,y=s*s+u*u,x=p*p+v*v,_=Math.sqrt(y),w=Math.sqrt(d),b=i*Math.tan((qg-Math.acos((y+d-x)/(2*_*w)))/2),S=b/w,A=b/_;Math.abs(S-1)>Ki&&(this._+="L"+(t+S*f)+","+(e+S*c)),this._+="A"+i+","+i+",0,0,"+ +(c*p>f*v)+","+(this._x1=t+A*s)+","+(this._y1=e+A*u)}},arc:function(t,e,n,r,i,a){t=+t,e=+e,n=+n,a=!!a;var o=n*Math.cos(r),s=n*Math.sin(r),u=t+o,f=e+s,c=1^a,d=a?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);this._x1===null?this._+="M"+u+","+f:(Math.abs(this._x1-u)>Ki||Math.abs(this._y1-f)>Ki)&&(this._+="L"+u+","+f),n&&(d<0&&(d=d%Zg+Zg),d>j4?this._+="A"+n+","+n+",0,1,"+c+","+(t-o)+","+(e-s)+"A"+n+","+n+",0,1,"+c+","+(this._x1=u)+","+(this._y1=f):d>Ki&&(this._+="A"+n+","+n+",0,"+ +(d>=qg)+","+c+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};function J4(t){return t.source}function t6(t){return t.target}function e6(t){return t.radius}function n6(t){return t.startAngle}function r6(t){return t.endAngle}function i6(){var t=J4,e=t6,n=e6,r=n6,i=r6,a=null;function o(){var s,u=K4.call(arguments),f=t.apply(this,u),c=e.apply(this,u),d=+n.apply(this,(u[0]=f,u)),p=r.apply(this,u)-jl,v=i.apply(this,u)-jl,y=d*ix(p),x=d*ax(p),_=+n.apply(this,(u[0]=c,u)),w=r.apply(this,u)-jl,b=i.apply(this,u)-jl;if(a||(a=s=Si()),a.moveTo(y,x),a.arc(0,0,d,p,v),(p!==w||v!==b)&&(a.quadraticCurveTo(0,0,_*ix(w),_*ax(w)),a.arc(0,0,_,w,b)),a.quadraticCurveTo(0,0,y,x),a.closePath(),s)return a=null,s+""||null}return o.radius=function(s){return arguments.length?(n=typeof s=="function"?s:Ip(+s),o):n},o.startAngle=function(s){return arguments.length?(r=typeof s=="function"?s:Ip(+s),o):r},o.endAngle=function(s){return arguments.length?(i=typeof s=="function"?s:Ip(+s),o):i},o.source=function(s){return arguments.length?(t=s,o):t},o.target=function(s){return arguments.length?(e=s,o):e},o.context=function(s){return arguments.length?(a=s??null,o):a},o}var mn="$";function Oc(){}Oc.prototype=Rr.prototype={constructor:Oc,has:function(t){return mn+t in this},get:function(t){return this[mn+t]},set:function(t,e){return this[mn+t]=e,this},remove:function(t){var e=mn+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===mn&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===mn&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===mn&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===mn&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===mn&&++t;return t},empty:function(){for(var t in this)if(t[0]===mn)return!1;return!0},each:function(t){for(var e in this)e[0]===mn&&t(this[e],e.slice(1),this)}};function Rr(t,e){var n=new Oc;if(t instanceof Oc)t.each(function(s,u){n.set(u,s)});else if(Array.isArray(t)){var r=-1,i=t.length,a;if(e==null)for(;++r<i;)n.set(r,t[r]);else for(;++r<i;)n.set(e(a=t[r],r,t),a)}else if(t)for(var o in t)n.set(o,t[o]);return n}function a6(){var t=[],e=[],n,r,i;function a(s,u,f,c){if(u>=t.length)return n!=null&&s.sort(n),r!=null?r(s):s;for(var d=-1,p=s.length,v=t[u++],y,x,_=Rr(),w,b=f();++d<p;)(w=_.get(y=v(x=s[d])+""))?w.push(x):_.set(y,[x]);return _.each(function(S,A){c(b,A,a(S,u,f,c))}),b}function o(s,u){if(++u>t.length)return s;var f,c=e[u-1];return r!=null&&u>=t.length?f=s.entries():(f=[],s.each(function(d,p){f.push({key:p,values:o(d,u)})})),c!=null?f.sort(function(d,p){return c(d.key,p.key)}):f}return i={object:function(s){return a(s,0,o6,s6)},map:function(s){return a(s,0,ux,lx)},entries:function(s){return o(a(s,0,ux,lx),0)},key:function(s){return t.push(s),i},sortKeys:function(s){return e[t.length-1]=s,i},sortValues:function(s){return n=s,i},rollup:function(s){return r=s,i}}}function o6(){return{}}function s6(t,e,n){t[e]=n}function ux(){return Rr()}function lx(t,e,n){t.set(e,n)}function Nc(){}var Ci=Rr.prototype;Nc.prototype=oC.prototype={constructor:Nc,has:Ci.has,add:function(t){return t+="",this[mn+t]=t,this},remove:Ci.remove,clear:Ci.clear,values:Ci.keys,size:Ci.size,empty:Ci.empty,each:Ci.each};function oC(t,e){var n=new Nc;if(t instanceof Nc)t.each(function(a){n.add(a)});else if(t){var r=-1,i=t.length;if(e==null)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}function u6(t){var e=[];for(var n in t)e.push(n);return e}function l6(t){var e=[];for(var n in t)e.push(t[n]);return e}function f6(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e}var c6=Array.prototype,sC=c6.slice;function h6(t,e){return t-e}function d6(t){for(var e=0,n=t.length,r=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];++e<n;)r+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return r}function ei(t){return function(){return t}}function p6(t,e){for(var n=-1,r=e.length,i;++n<r;)if(i=v6(t,e[n]))return i;return 0}function v6(t,e){for(var n=e[0],r=e[1],i=-1,a=0,o=t.length,s=o-1;a<o;s=a++){var u=t[a],f=u[0],c=u[1],d=t[s],p=d[0],v=d[1];if(g6(u,d,e))return 0;c>r!=v>r&&n<(p-f)*(r-c)/(v-c)+f&&(i=-i)}return i}function g6(t,e,n){var r;return y6(t,e,n)&&m6(t[r=+(t[0]===e[0])],n[r],e[r])}function y6(t,e,n){return(e[0]-t[0])*(n[1]-t[1])===(n[0]-t[0])*(e[1]-t[1])}function m6(t,e,n){return t<=e&&e<=n||n<=e&&e<=t}function _6(){}var xr=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function uC(){var t=1,e=1,n=Zy,r=u;function i(f){var c=n(f);if(Array.isArray(c))c=c.slice().sort(h6);else{var d=Wy(f),p=d[0],v=d[1];c=va(p,v,c),c=ln(Math.floor(p/c)*c,Math.floor(v/c)*c,c)}return c.map(function(y){return a(f,y)})}function a(f,c){var d=[],p=[];return o(f,c,function(v){r(v,f,c),d6(v)>0?d.push([v]):p.push(v)}),p.forEach(function(v){for(var y=0,x=d.length,_;y<x;++y)if(p6((_=d[y])[0],v)!==-1){_.push(v);return}}),{type:"MultiPolygon",value:c,coordinates:d}}function o(f,c,d){var p=new Array,v=new Array,y,x,_,w,b,S;for(y=x=-1,w=f[0]>=c,xr[w<<1].forEach(A);++y<t-1;)_=w,w=f[y+1]>=c,xr[_|w<<1].forEach(A);for(xr[w<<0].forEach(A);++x<e-1;){for(y=-1,w=f[x*t+t]>=c,b=f[x*t]>=c,xr[w<<1|b<<2].forEach(A);++y<t-1;)_=w,w=f[x*t+t+y+1]>=c,S=b,b=f[x*t+y+1]>=c,xr[_|w<<1|b<<2|S<<3].forEach(A);xr[w|b<<3].forEach(A)}for(y=-1,b=f[x*t]>=c,xr[b<<2].forEach(A);++y<t-1;)S=b,b=f[x*t+y+1]>=c,xr[b<<2|S<<3].forEach(A);xr[b<<3].forEach(A);function A(L){var P=[L[0][0]+y,L[0][1]+x],E=[L[1][0]+y,L[1][1]+x],O=s(P),R=s(E),C,N;(C=v[O])?(N=p[R])?(delete v[C.end],delete p[N.start],C===N?(C.ring.push(E),d(C.ring)):p[C.start]=v[N.end]={start:C.start,end:N.end,ring:C.ring.concat(N.ring)}):(delete v[C.end],C.ring.push(E),v[C.end=R]=C):(C=p[R])?(N=v[O])?(delete p[C.start],delete v[N.end],C===N?(C.ring.push(E),d(C.ring)):p[N.start]=v[C.end]={start:N.start,end:C.end,ring:N.ring.concat(C.ring)}):(delete p[C.start],C.ring.unshift(P),p[C.start=O]=C):p[O]=v[R]={start:O,end:R,ring:[P,E]}}}function s(f){return f[0]*2+f[1]*(t+1)*4}function u(f,c,d){f.forEach(function(p){var v=p[0],y=p[1],x=v|0,_=y|0,w,b=c[_*t+x];v>0&&v<t&&x===v&&(w=c[_*t+x-1],p[0]=v+(d-w)/(b-w)-.5),y>0&&y<e&&_===y&&(w=c[(_-1)*t+x],p[1]=y+(d-w)/(b-w)-.5)})}return i.contour=a,i.size=function(f){if(!arguments.length)return[t,e];var c=Math.ceil(f[0]),d=Math.ceil(f[1]);if(!(c>0)||!(d>0))throw new Error("invalid size");return t=c,e=d,i},i.thresholds=function(f){return arguments.length?(n=typeof f=="function"?f:Array.isArray(f)?ei(sC.call(f)):ei(f),i):n},i.smooth=function(f){return arguments.length?(r=f?u:_6,i):r===u},i}function Rp(t,e,n){for(var r=t.width,i=t.height,a=(n<<1)+1,o=0;o<i;++o)for(var s=0,u=0;s<r+n;++s)s<r&&(u+=t.data[s+o*r]),s>=n&&(s>=a&&(u-=t.data[s-a+o*r]),e.data[s-n+o*r]=u/Math.min(s+1,r-1+a-s,a))}function kp(t,e,n){for(var r=t.width,i=t.height,a=(n<<1)+1,o=0;o<r;++o)for(var s=0,u=0;s<i+n;++s)s<i&&(u+=t.data[o+s*r]),s>=n&&(s>=a&&(u-=t.data[o+(s-a)*r]),e.data[o+(s-n)*r]=u/Math.min(s+1,i-1+a-s,a))}function x6(t){return t[0]}function w6(t){return t[1]}function b6(){return 1}function S6(){var t=x6,e=w6,n=b6,r=960,i=500,a=20,o=2,s=a*3,u=r+s*2>>o,f=i+s*2>>o,c=ei(20);function d(w){var b=new Float32Array(u*f),S=new Float32Array(u*f);w.forEach(function(P,E,O){var R=+t(P,E,O)+s>>o,C=+e(P,E,O)+s>>o,N=+n(P,E,O);R>=0&&R<u&&C>=0&&C<f&&(b[R+C*u]+=N)}),Rp({width:u,height:f,data:b},{width:u,height:f,data:S},a>>o),kp({width:u,height:f,data:S},{width:u,height:f,data:b},a>>o),Rp({width:u,height:f,data:b},{width:u,height:f,data:S},a>>o),kp({width:u,height:f,data:S},{width:u,height:f,data:b},a>>o),Rp({width:u,height:f,data:b},{width:u,height:f,data:S},a>>o),kp({width:u,height:f,data:S},{width:u,height:f,data:b},a>>o);var A=c(b);if(!Array.isArray(A)){var L=oA(b);A=va(0,L,A),A=ln(0,Math.floor(L/A)*A,A),A.shift()}return uC().thresholds(A).size([u,f])(b).map(p)}function p(w){return w.value*=Math.pow(2,-2*o),w.coordinates.forEach(v),w}function v(w){w.forEach(y)}function y(w){w.forEach(x)}function x(w){w[0]=w[0]*Math.pow(2,o)-s,w[1]=w[1]*Math.pow(2,o)-s}function _(){return s=a*3,u=r+s*2>>o,f=i+s*2>>o,d}return d.x=function(w){return arguments.length?(t=typeof w=="function"?w:ei(+w),d):t},d.y=function(w){return arguments.length?(e=typeof w=="function"?w:ei(+w),d):e},d.weight=function(w){return arguments.length?(n=typeof w=="function"?w:ei(+w),d):n},d.size=function(w){if(!arguments.length)return[r,i];var b=Math.ceil(w[0]),S=Math.ceil(w[1]);if(!(b>=0)&&!(b>=0))throw new Error("invalid size");return r=b,i=S,_()},d.cellSize=function(w){if(!arguments.length)return 1<<o;if(!((w=+w)>=1))throw new Error("invalid cell size");return o=Math.floor(Math.log(w)/Math.LN2),_()},d.thresholds=function(w){return arguments.length?(c=typeof w=="function"?w:Array.isArray(w)?ei(sC.call(w)):ei(w),d):c},d.bandwidth=function(w){if(!arguments.length)return Math.sqrt(a*(a+1));if(!((w=+w)>=0))throw new Error("invalid bandwidth");return a=Math.round((Math.sqrt(4*w*w+1)-1)/2),_()},d}var fx={},Op={},Np=34,Ts=10,$p=13;function lC(t){return new Function("d","return {"+t.map(function(e,n){return JSON.stringify(e)+": d["+n+'] || ""'}).join(",")+"}")}function T6(t,e){var n=lC(t);return function(r,i){return e(n(r),i,t)}}function cx(t){var e=Object.create(null),n=[];return t.forEach(function(r){for(var i in r)i in e||n.push(e[i]=i)}),n}function qe(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function A6(t){return t<0?"-"+qe(-t,6):t>9999?"+"+qe(t,6):qe(t,4)}function C6(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":A6(t.getUTCFullYear())+"-"+qe(t.getUTCMonth()+1,2)+"-"+qe(t.getUTCDate(),2)+(i?"T"+qe(e,2)+":"+qe(n,2)+":"+qe(r,2)+"."+qe(i,3)+"Z":r?"T"+qe(e,2)+":"+qe(n,2)+":"+qe(r,2)+"Z":n||e?"T"+qe(e,2)+":"+qe(n,2)+"Z":"")}function ud(t){var e=new RegExp('["'+t+`
\r]`),n=t.charCodeAt(0);function r(d,p){var v,y,x=i(d,function(_,w){if(v)return v(_,w-1);y=_,v=p?T6(_,p):lC(_)});return x.columns=y||[],x}function i(d,p){var v=[],y=d.length,x=0,_=0,w,b=y<=0,S=!1;d.charCodeAt(y-1)===Ts&&--y,d.charCodeAt(y-1)===$p&&--y;function A(){if(b)return Op;if(S)return S=!1,fx;var P,E=x,O;if(d.charCodeAt(E)===Np){for(;x++<y&&d.charCodeAt(x)!==Np||d.charCodeAt(++x)===Np;);return(P=x)>=y?b=!0:(O=d.charCodeAt(x++))===Ts?S=!0:O===$p&&(S=!0,d.charCodeAt(x)===Ts&&++x),d.slice(E+1,P-1).replace(/""/g,'"')}for(;x<y;){if((O=d.charCodeAt(P=x++))===Ts)S=!0;else if(O===$p)S=!0,d.charCodeAt(x)===Ts&&++x;else if(O!==n)continue;return d.slice(E,P)}return b=!0,d.slice(E,y)}for(;(w=A())!==Op;){for(var L=[];w!==fx&&w!==Op;)L.push(w),w=A();p&&(L=p(L,_++))==null||v.push(L)}return v}function a(d,p){return d.map(function(v){return p.map(function(y){return c(v[y])}).join(t)})}function o(d,p){return p==null&&(p=cx(d)),[p.map(c).join(t)].concat(a(d,p)).join(`
`)}function s(d,p){return p==null&&(p=cx(d)),a(d,p).join(`
`)}function u(d){return d.map(f).join(`
`)}function f(d){return d.map(c).join(t)}function c(d){return d==null?"":d instanceof Date?C6(d):e.test(d+="")?'"'+d.replace(/"/g,'""')+'"':d}return{parse:r,parseRows:i,format:o,formatBody:s,formatRows:u,formatRow:f,formatValue:c}}var $a=ud(","),fC=$a.parse,M6=$a.parseRows,P6=$a.format,L6=$a.formatBody,D6=$a.formatRows,E6=$a.formatRow,I6=$a.formatValue,Ga=ud("	"),cC=Ga.parse,R6=Ga.parseRows,k6=Ga.format,O6=Ga.formatBody,N6=Ga.formatRows,$6=Ga.formatRow,G6=Ga.formatValue;function V6(t){for(var e in t){var n=t[e].trim(),r,i;if(!n)n=null;else if(n==="true")n=!0;else if(n==="false")n=!1;else if(n==="NaN")n=NaN;else if(!isNaN(r=+n))n=r;else if(i=n.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))F6&&i[4]&&!i[7]&&(n=n.replace(/-/g,"/").replace(/T/," ")),n=new Date(n);else continue;t[e]=n}return t}var F6=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function B6(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}function z6(t,e){return fetch(t,e).then(B6)}function H6(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}function Y6(t,e){return fetch(t,e).then(H6)}function X6(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function ld(t,e){return fetch(t,e).then(X6)}function hC(t){return function(e,n,r){return arguments.length===2&&typeof n=="function"&&(r=n,n=void 0),ld(e,n).then(function(i){return t(i,r)})}}function U6(t,e,n,r){arguments.length===3&&typeof n=="function"&&(r=n,n=void 0);var i=ud(t);return ld(e,n).then(function(a){return i.parse(a,r)})}var W6=hC(fC),q6=hC(cC);function Z6(t,e){return new Promise(function(n,r){var i=new Image;for(var a in e)i[a]=e[a];i.onerror=r,i.onload=function(){n(i)},i.src=t})}function Q6(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(!(t.status===204||t.status===205))return t.json()}function K6(t,e){return fetch(t,e).then(Q6)}function vm(t){return function(e,n){return ld(e,n).then(function(r){return new DOMParser().parseFromString(r,t)})}}const j6=vm("application/xml");var J6=vm("text/html"),t8=vm("image/svg+xml");function e8(t,e){var n;t==null&&(t=0),e==null&&(e=0);function r(){var i,a=n.length,o,s=0,u=0;for(i=0;i<a;++i)o=n[i],s+=o.x,u+=o.y;for(s=s/a-t,u=u/a-e,i=0;i<a;++i)o=n[i],o.x-=s,o.y-=u}return r.initialize=function(i){n=i},r.x=function(i){return arguments.length?(t=+i,r):t},r.y=function(i){return arguments.length?(e=+i,r):e},r}function fe(t){return function(){return t}}function ai(){return(Math.random()-.5)*1e-6}function n8(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return dC(this.cover(e,n),e,n,t)}function dC(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,a=t._root,o={data:r},s=t._x0,u=t._y0,f=t._x1,c=t._y1,d,p,v,y,x,_,w,b;if(!a)return t._root=o,t;for(;a.length;)if((x=e>=(d=(s+f)/2))?s=d:f=d,(_=n>=(p=(u+c)/2))?u=p:c=p,i=a,!(a=a[w=_<<1|x]))return i[w]=o,t;if(v=+t._x.call(null,a.data),y=+t._y.call(null,a.data),e===v&&n===y)return o.next=a,i?i[w]=o:t._root=o,t;do i=i?i[w]=new Array(4):t._root=new Array(4),(x=e>=(d=(s+f)/2))?s=d:f=d,(_=n>=(p=(u+c)/2))?u=p:c=p;while((w=_<<1|x)===(b=(y>=p)<<1|v>=d));return i[b]=a,i[w]=o,t}function r8(t){var e,n,r=t.length,i,a,o=new Array(r),s=new Array(r),u=1/0,f=1/0,c=-1/0,d=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(a=+this._y.call(null,e))||(o[n]=i,s[n]=a,i<u&&(u=i),i>c&&(c=i),a<f&&(f=a),a>d&&(d=a));if(u>c||f>d)return this;for(this.cover(u,f).cover(c,d),n=0;n<r;++n)dC(this,o[n],s[n],t[n]);return this}function i8(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,a=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,a=(r=Math.floor(e))+1;else{for(var o=i-n,s=this._root,u,f;n>t||t>=i||r>e||e>=a;)switch(f=(e<r)<<1|t<n,u=new Array(4),u[f]=s,s=u,o*=2,f){case 0:i=n+o,a=r+o;break;case 1:n=i-o,a=r+o;break;case 2:i=n+o,r=a-o;break;case 3:n=i-o,r=a-o;break}this._root&&this._root.length&&(this._root=s)}return this._x0=n,this._y0=r,this._x1=i,this._y1=a,this}function a8(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function o8(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Oe(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function s8(t,e,n){var r,i=this._x0,a=this._y0,o,s,u,f,c=this._x1,d=this._y1,p=[],v=this._root,y,x;for(v&&p.push(new Oe(v,i,a,c,d)),n==null?n=1/0:(i=t-n,a=e-n,c=t+n,d=e+n,n*=n);y=p.pop();)if(!(!(v=y.node)||(o=y.x0)>c||(s=y.y0)>d||(u=y.x1)<i||(f=y.y1)<a))if(v.length){var _=(o+u)/2,w=(s+f)/2;p.push(new Oe(v[3],_,w,u,f),new Oe(v[2],o,w,_,f),new Oe(v[1],_,s,u,w),new Oe(v[0],o,s,_,w)),(x=(e>=w)<<1|t>=_)&&(y=p[p.length-1],p[p.length-1]=p[p.length-1-x],p[p.length-1-x]=y)}else{var b=t-+this._x.call(null,v.data),S=e-+this._y.call(null,v.data),A=b*b+S*S;if(A<n){var L=Math.sqrt(n=A);i=t-L,a=e-L,c=t+L,d=e+L,r=v.data}}return r}function u8(t){if(isNaN(c=+this._x.call(null,t))||isNaN(d=+this._y.call(null,t)))return this;var e,n=this._root,r,i,a,o=this._x0,s=this._y0,u=this._x1,f=this._y1,c,d,p,v,y,x,_,w;if(!n)return this;if(n.length)for(;;){if((y=c>=(p=(o+u)/2))?o=p:u=p,(x=d>=(v=(s+f)/2))?s=v:f=v,e=n,!(n=n[_=x<<1|y]))return this;if(!n.length)break;(e[_+1&3]||e[_+2&3]||e[_+3&3])&&(r=e,w=_)}for(;n.data!==t;)if(i=n,!(n=n.next))return this;return(a=n.next)&&delete n.next,i?(a?i.next=a:delete i.next,this):e?(a?e[_]=a:delete e[_],(n=e[0]||e[1]||e[2]||e[3])&&n===(e[3]||e[2]||e[1]||e[0])&&!n.length&&(r?r[w]=n:this._root=n),this):(this._root=a,this)}function l8(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function f8(){return this._root}function c8(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function h8(t){var e=[],n,r=this._root,i,a,o,s,u;for(r&&e.push(new Oe(r,this._x0,this._y0,this._x1,this._y1));n=e.pop();)if(!t(r=n.node,a=n.x0,o=n.y0,s=n.x1,u=n.y1)&&r.length){var f=(a+s)/2,c=(o+u)/2;(i=r[3])&&e.push(new Oe(i,f,c,s,u)),(i=r[2])&&e.push(new Oe(i,a,c,f,u)),(i=r[1])&&e.push(new Oe(i,f,o,s,c)),(i=r[0])&&e.push(new Oe(i,a,o,f,c))}return this}function d8(t){var e=[],n=[],r;for(this._root&&e.push(new Oe(this._root,this._x0,this._y0,this._x1,this._y1));r=e.pop();){var i=r.node;if(i.length){var a,o=r.x0,s=r.y0,u=r.x1,f=r.y1,c=(o+u)/2,d=(s+f)/2;(a=i[0])&&e.push(new Oe(a,o,s,c,d)),(a=i[1])&&e.push(new Oe(a,c,s,u,d)),(a=i[2])&&e.push(new Oe(a,o,d,c,f)),(a=i[3])&&e.push(new Oe(a,c,d,u,f))}n.push(r)}for(;r=n.pop();)t(r.node,r.x0,r.y0,r.x1,r.y1);return this}function p8(t){return t[0]}function v8(t){return arguments.length?(this._x=t,this):this._x}function g8(t){return t[1]}function y8(t){return arguments.length?(this._y=t,this):this._y}function fd(t,e,n){var r=new gm(e??p8,n??g8,NaN,NaN,NaN,NaN);return t==null?r:r.addAll(t)}function gm(t,e,n,r,i,a){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=a,this._root=void 0}function hx(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var He=fd.prototype=gm.prototype;He.copy=function(){var t=new gm(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,n,r;if(!e)return t;if(!e.length)return t._root=hx(e),t;for(n=[{source:e,target:t._root=new Array(4)}];e=n.pop();)for(var i=0;i<4;++i)(r=e.source[i])&&(r.length?n.push({source:r,target:e.target[i]=new Array(4)}):e.target[i]=hx(r));return t};He.add=n8;He.addAll=r8;He.cover=i8;He.data=a8;He.extent=o8;He.find=s8;He.remove=u8;He.removeAll=l8;He.root=f8;He.size=c8;He.visit=h8;He.visitAfter=d8;He.x=v8;He.y=y8;function m8(t){return t.x+t.vx}function _8(t){return t.y+t.vy}function x8(t){var e,n,r=1,i=1;typeof t!="function"&&(t=fe(t==null?1:+t));function a(){for(var u,f=e.length,c,d,p,v,y,x,_=0;_<i;++_)for(c=fd(e,m8,_8).visitAfter(o),u=0;u<f;++u)d=e[u],y=n[d.index],x=y*y,p=d.x+d.vx,v=d.y+d.vy,c.visit(w);function w(b,S,A,L,P){var E=b.data,O=b.r,R=y+O;if(E){if(E.index>d.index){var C=p-E.x-E.vx,N=v-E.y-E.vy,D=C*C+N*N;D<R*R&&(C===0&&(C=ai(),D+=C*C),N===0&&(N=ai(),D+=N*N),D=(R-(D=Math.sqrt(D)))/D*r,d.vx+=(C*=D)*(R=(O*=O)/(x+O)),d.vy+=(N*=D)*R,E.vx-=C*(R=1-R),E.vy-=N*R)}return}return S>p+R||L<p-R||A>v+R||P<v-R}}function o(u){if(u.data)return u.r=n[u.data.index];for(var f=u.r=0;f<4;++f)u[f]&&u[f].r>u.r&&(u.r=u[f].r)}function s(){if(e){var u,f=e.length,c;for(n=new Array(f),u=0;u<f;++u)c=e[u],n[c.index]=+t(c,u,e)}}return a.initialize=function(u){e=u,s()},a.iterations=function(u){return arguments.length?(i=+u,a):i},a.strength=function(u){return arguments.length?(r=+u,a):r},a.radius=function(u){return arguments.length?(t=typeof u=="function"?u:fe(+u),s(),a):t},a}function w8(t){return t.index}function dx(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}function b8(t){var e=w8,n=c,r,i=fe(30),a,o,s,u,f=1;t==null&&(t=[]);function c(x){return 1/Math.min(s[x.source.index],s[x.target.index])}function d(x){for(var _=0,w=t.length;_<f;++_)for(var b=0,S,A,L,P,E,O,R;b<w;++b)S=t[b],A=S.source,L=S.target,P=L.x+L.vx-A.x-A.vx||ai(),E=L.y+L.vy-A.y-A.vy||ai(),O=Math.sqrt(P*P+E*E),O=(O-a[b])/O*x*r[b],P*=O,E*=O,L.vx-=P*(R=u[b]),L.vy-=E*R,A.vx+=P*(R=1-R),A.vy+=E*R}function p(){if(o){var x,_=o.length,w=t.length,b=Rr(o,e),S;for(x=0,s=new Array(_);x<w;++x)S=t[x],S.index=x,typeof S.source!="object"&&(S.source=dx(b,S.source)),typeof S.target!="object"&&(S.target=dx(b,S.target)),s[S.source.index]=(s[S.source.index]||0)+1,s[S.target.index]=(s[S.target.index]||0)+1;for(x=0,u=new Array(w);x<w;++x)S=t[x],u[x]=s[S.source.index]/(s[S.source.index]+s[S.target.index]);r=new Array(w),v(),a=new Array(w),y()}}function v(){if(o)for(var x=0,_=t.length;x<_;++x)r[x]=+n(t[x],x,t)}function y(){if(o)for(var x=0,_=t.length;x<_;++x)a[x]=+i(t[x],x,t)}return d.initialize=function(x){o=x,p()},d.links=function(x){return arguments.length?(t=x,p(),d):t},d.id=function(x){return arguments.length?(e=x,d):e},d.iterations=function(x){return arguments.length?(f=+x,d):f},d.strength=function(x){return arguments.length?(n=typeof x=="function"?x:fe(+x),v(),d):n},d.distance=function(x){return arguments.length?(i=typeof x=="function"?x:fe(+x),y(),d):i},d}function S8(t){return t.x}function T8(t){return t.y}var A8=10,C8=Math.PI*(3-Math.sqrt(5));function M8(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),a=0,o=.6,s=Rr(),u=od(c),f=Oa("tick","end");t==null&&(t=[]);function c(){d(),f.call("tick",e),n<r&&(u.stop(),f.call("end",e))}function d(y){var x,_=t.length,w;y===void 0&&(y=1);for(var b=0;b<y;++b)for(n+=(a-n)*i,s.each(function(S){S(n)}),x=0;x<_;++x)w=t[x],w.fx==null?w.x+=w.vx*=o:(w.x=w.fx,w.vx=0),w.fy==null?w.y+=w.vy*=o:(w.y=w.fy,w.vy=0);return e}function p(){for(var y=0,x=t.length,_;y<x;++y){if(_=t[y],_.index=y,_.fx!=null&&(_.x=_.fx),_.fy!=null&&(_.y=_.fy),isNaN(_.x)||isNaN(_.y)){var w=A8*Math.sqrt(y),b=y*C8;_.x=w*Math.cos(b),_.y=w*Math.sin(b)}(isNaN(_.vx)||isNaN(_.vy))&&(_.vx=_.vy=0)}}function v(y){return y.initialize&&y.initialize(t),y}return p(),e={tick:d,restart:function(){return u.restart(c),e},stop:function(){return u.stop(),e},nodes:function(y){return arguments.length?(t=y,p(),s.each(v),e):t},alpha:function(y){return arguments.length?(n=+y,e):n},alphaMin:function(y){return arguments.length?(r=+y,e):r},alphaDecay:function(y){return arguments.length?(i=+y,e):+i},alphaTarget:function(y){return arguments.length?(a=+y,e):a},velocityDecay:function(y){return arguments.length?(o=1-y,e):1-o},force:function(y,x){return arguments.length>1?(x==null?s.remove(y):s.set(y,v(x)),e):s.get(y)},find:function(y,x,_){var w=0,b=t.length,S,A,L,P,E;for(_==null?_=1/0:_*=_,w=0;w<b;++w)P=t[w],S=y-P.x,A=x-P.y,L=S*S+A*A,L<_&&(E=P,_=L);return E},on:function(y,x){return arguments.length>1?(f.on(y,x),e):f.on(y)}}}function P8(){var t,e,n,r=fe(-30),i,a=1,o=1/0,s=.81;function u(p){var v,y=t.length,x=fd(t,S8,T8).visitAfter(c);for(n=p,v=0;v<y;++v)e=t[v],x.visit(d)}function f(){if(t){var p,v=t.length,y;for(i=new Array(v),p=0;p<v;++p)y=t[p],i[y.index]=+r(y,p,t)}}function c(p){var v=0,y,x,_=0,w,b,S;if(p.length){for(w=b=S=0;S<4;++S)(y=p[S])&&(x=Math.abs(y.value))&&(v+=y.value,_+=x,w+=x*y.x,b+=x*y.y);p.x=w/_,p.y=b/_}else{y=p,y.x=y.data.x,y.y=y.data.y;do v+=i[y.data.index];while(y=y.next)}p.value=v}function d(p,v,y,x){if(!p.value)return!0;var _=p.x-e.x,w=p.y-e.y,b=x-v,S=_*_+w*w;if(b*b/s<S)return S<o&&(_===0&&(_=ai(),S+=_*_),w===0&&(w=ai(),S+=w*w),S<a&&(S=Math.sqrt(a*S)),e.vx+=_*p.value*n/S,e.vy+=w*p.value*n/S),!0;if(p.length||S>=o)return;(p.data!==e||p.next)&&(_===0&&(_=ai(),S+=_*_),w===0&&(w=ai(),S+=w*w),S<a&&(S=Math.sqrt(a*S)));do p.data!==e&&(b=i[p.data.index]*n/S,e.vx+=_*b,e.vy+=w*b);while(p=p.next)}return u.initialize=function(p){t=p,f()},u.strength=function(p){return arguments.length?(r=typeof p=="function"?p:fe(+p),f(),u):r},u.distanceMin=function(p){return arguments.length?(a=p*p,u):Math.sqrt(a)},u.distanceMax=function(p){return arguments.length?(o=p*p,u):Math.sqrt(o)},u.theta=function(p){return arguments.length?(s=p*p,u):Math.sqrt(s)},u}function L8(t,e,n){var r,i=fe(.1),a,o;typeof t!="function"&&(t=fe(+t)),e==null&&(e=0),n==null&&(n=0);function s(f){for(var c=0,d=r.length;c<d;++c){var p=r[c],v=p.x-e||1e-6,y=p.y-n||1e-6,x=Math.sqrt(v*v+y*y),_=(o[c]-x)*a[c]*f/x;p.vx+=v*_,p.vy+=y*_}}function u(){if(r){var f,c=r.length;for(a=new Array(c),o=new Array(c),f=0;f<c;++f)o[f]=+t(r[f],f,r),a[f]=isNaN(o[f])?0:+i(r[f],f,r)}}return s.initialize=function(f){r=f,u()},s.strength=function(f){return arguments.length?(i=typeof f=="function"?f:fe(+f),u(),s):i},s.radius=function(f){return arguments.length?(t=typeof f=="function"?f:fe(+f),u(),s):t},s.x=function(f){return arguments.length?(e=+f,s):e},s.y=function(f){return arguments.length?(n=+f,s):n},s}function D8(t){var e=fe(.1),n,r,i;typeof t!="function"&&(t=fe(t==null?0:+t));function a(s){for(var u=0,f=n.length,c;u<f;++u)c=n[u],c.vx+=(i[u]-c.x)*r[u]*s}function o(){if(n){var s,u=n.length;for(r=new Array(u),i=new Array(u),s=0;s<u;++s)r[s]=isNaN(i[s]=+t(n[s],s,n))?0:+e(n[s],s,n)}}return a.initialize=function(s){n=s,o()},a.strength=function(s){return arguments.length?(e=typeof s=="function"?s:fe(+s),o(),a):e},a.x=function(s){return arguments.length?(t=typeof s=="function"?s:fe(+s),o(),a):t},a}function E8(t){var e=fe(.1),n,r,i;typeof t!="function"&&(t=fe(t==null?0:+t));function a(s){for(var u=0,f=n.length,c;u<f;++u)c=n[u],c.vy+=(i[u]-c.y)*r[u]*s}function o(){if(n){var s,u=n.length;for(r=new Array(u),i=new Array(u),s=0;s<u;++s)r[s]=isNaN(i[s]=+t(n[s],s,n))?0:+e(n[s],s,n)}}return a.initialize=function(s){n=s,o()},a.strength=function(s){return arguments.length?(e=typeof s=="function"?s:fe(+s),o(),a):e},a.y=function(s){return arguments.length?(t=typeof s=="function"?s:fe(+s),o(),a):t},a}function I8(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function $c(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Yo(t){return t=$c(Math.abs(t)),t?t[1]:NaN}function R8(t,e){return function(n,r){for(var i=n.length,a=[],o=0,s=t[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),a.push(n.substring(i-=s,i+s)),!((u+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function k8(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var O8=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ju(t){if(!(e=O8.exec(t)))throw new Error("invalid format: "+t);var e;return new cd({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ju.prototype=cd.prototype;function cd(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}cd.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function N8(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var pC;function $8(t,e){var n=$c(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(pC=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+$c(t,Math.max(0,e+a-1))[0]}function px(t,e){var n=$c(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const vx={"%":function(t,e){return(t*100).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:I8,e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return px(t*100,e)},r:px,s:$8,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function gx(t){return t}var yx=Array.prototype.map,mx=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function vC(t){var e=t.grouping===void 0||t.thousands===void 0?gx:R8(yx.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?gx:k8(yx.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"-":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function f(d){d=Ju(d);var p=d.fill,v=d.align,y=d.sign,x=d.symbol,_=d.zero,w=d.width,b=d.comma,S=d.precision,A=d.trim,L=d.type;L==="n"?(b=!0,L="g"):vx[L]||(S===void 0&&(S=12),A=!0,L="g"),(_||p==="0"&&v==="=")&&(_=!0,p="0",v="=");var P=x==="$"?n:x==="#"&&/[boxX]/.test(L)?"0"+L.toLowerCase():"",E=x==="$"?r:/[%p]/.test(L)?o:"",O=vx[L],R=/[defgprs%]/.test(L);S=S===void 0?6:/[gprs]/.test(L)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function C(N){var D=P,G=E,X,H,W;if(L==="c")G=O(N)+G,N="";else{N=+N;var K=N<0||1/N<0;if(N=isNaN(N)?u:O(Math.abs(N),S),A&&(N=N8(N)),K&&+N==0&&y!=="+"&&(K=!1),D=(K?y==="("?y:s:y==="-"||y==="("?"":y)+D,G=(L==="s"?mx[8+pC/3]:"")+G+(K&&y==="("?")":""),R){for(X=-1,H=N.length;++X<H;)if(W=N.charCodeAt(X),48>W||W>57){G=(W===46?i+N.slice(X+1):N.slice(X))+G,N=N.slice(0,X);break}}}b&&!_&&(N=e(N,1/0));var Q=D.length+N.length+G.length,l=Q<w?new Array(w-Q+1).join(p):"";switch(b&&_&&(N=e(l+N,l.length?w-G.length:1/0),l=""),v){case"<":N=D+N+G+l;break;case"=":N=D+l+N+G;break;case"^":N=l.slice(0,Q=l.length>>1)+D+N+G+l.slice(Q);break;default:N=l+D+N+G;break}return a(N)}return C.toString=function(){return d+""},C}function c(d,p){var v=f((d=Ju(d),d.type="f",d)),y=Math.max(-8,Math.min(8,Math.floor(Yo(p)/3)))*3,x=Math.pow(10,-y),_=mx[8+y/3];return function(w){return v(x*w)+_}}return{format:f,formatPrefix:c}}var Jl,hd,ym;gC({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function gC(t){return Jl=vC(t),hd=Jl.format,ym=Jl.formatPrefix,Jl}function yC(t){return Math.max(0,-Yo(Math.abs(t)))}function mC(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Yo(e)/3)))*3-Yo(Math.abs(t)))}function _C(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Yo(e)-Yo(t))+1}function Ti(){return new Gc}function Gc(){this.reset()}Gc.prototype={constructor:Gc,reset:function(){this.s=this.t=0},add:function(t){_x(tf,t,this.t),_x(this,tf.s,this.s),this.s?this.t+=tf.t:this.s=tf.t},valueOf:function(){return this.s}};var tf=new Gc;function _x(t,e,n){var r=t.s=e+n,i=r-e,a=r-i;t.t=e-a+(n-i)}var ft=1e-6,Vc=1e-12,At=Math.PI,ne=At/2,Fc=At/4,Ve=At*2,Xt=180/At,ct=At/180,It=Math.abs,cs=Math.atan,Fe=Math.atan2,st=Math.cos,ef=Math.ceil,xC=Math.exp,Bc=Math.log,Gp=Math.pow,it=Math.sin,Mn=Math.sign||function(t){return t>0?1:t<0?-1:0},ue=Math.sqrt,mm=Math.tan;function wC(t){return t>1?0:t<-1?At:Math.acos(t)}function Be(t){return t>1?ne:t<-1?-ne:Math.asin(t)}function xx(t){return(t=it(t/2))*t}function te(){}function zc(t,e){t&&Sx.hasOwnProperty(t.type)&&Sx[t.type](t,e)}var bx={Feature:function(t,e){zc(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)zc(n[r].geometry,e)}},Sx={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){Kg(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Kg(n[r],e,0)},Polygon:function(t,e){Tx(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Tx(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)zc(n[r],e)}};function Kg(t,e,n){var r=-1,i=t.length-n,a;for(e.lineStart();++r<i;)a=t[r],e.point(a[0],a[1],a[2]);e.lineEnd()}function Tx(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)Kg(t[n],e,1);e.polygonEnd()}function $n(t,e){t&&bx.hasOwnProperty(t.type)?bx[t.type](t,e):zc(t,e)}var Hc=Ti(),Yc=Ti(),bC,SC,jg,Jg,t0,fr={point:te,lineStart:te,lineEnd:te,polygonStart:function(){Hc.reset(),fr.lineStart=G8,fr.lineEnd=V8},polygonEnd:function(){var t=+Hc;Yc.add(t<0?Ve+t:t),this.lineStart=this.lineEnd=this.point=te},sphere:function(){Yc.add(Ve)}};function G8(){fr.point=F8}function V8(){TC(bC,SC)}function F8(t,e){fr.point=TC,bC=t,SC=e,t*=ct,e*=ct,jg=t,Jg=st(e=e/2+Fc),t0=it(e)}function TC(t,e){t*=ct,e*=ct,e=e/2+Fc;var n=t-jg,r=n>=0?1:-1,i=r*n,a=st(e),o=it(e),s=t0*o,u=Jg*a+s*st(i),f=s*r*it(i);Hc.add(Fe(f,u)),jg=t,Jg=a,t0=o}function B8(t){return Yc.reset(),$n(t,fr),Yc*2}function Xc(t){return[Fe(t[1],t[0]),Be(t[2])]}function _a(t){var e=t[0],n=t[1],r=st(n);return[r*st(e),r*it(e),it(n)]}function nf(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Xo(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Vp(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function rf(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Uc(t){var e=ue(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var Jt,Ze,ee,on,ji,AC,CC,Eo,Tu=Ti(),ni,kr,Ar={point:e0,lineStart:Ax,lineEnd:Cx,polygonStart:function(){Ar.point=PC,Ar.lineStart=z8,Ar.lineEnd=H8,Tu.reset(),fr.polygonStart()},polygonEnd:function(){fr.polygonEnd(),Ar.point=e0,Ar.lineStart=Ax,Ar.lineEnd=Cx,Hc<0?(Jt=-(ee=180),Ze=-(on=90)):Tu>ft?on=90:Tu<-ft&&(Ze=-90),kr[0]=Jt,kr[1]=ee},sphere:function(){Jt=-(ee=180),Ze=-(on=90)}};function e0(t,e){ni.push(kr=[Jt=t,ee=t]),e<Ze&&(Ze=e),e>on&&(on=e)}function MC(t,e){var n=_a([t*ct,e*ct]);if(Eo){var r=Xo(Eo,n),i=[r[1],-r[0],0],a=Xo(i,r);Uc(a),a=Xc(a);var o=t-ji,s=o>0?1:-1,u=a[0]*Xt*s,f,c=It(o)>180;c^(s*ji<u&&u<s*t)?(f=a[1]*Xt,f>on&&(on=f)):(u=(u+360)%360-180,c^(s*ji<u&&u<s*t)?(f=-a[1]*Xt,f<Ze&&(Ze=f)):(e<Ze&&(Ze=e),e>on&&(on=e))),c?t<ji?an(Jt,t)>an(Jt,ee)&&(ee=t):an(t,ee)>an(Jt,ee)&&(Jt=t):ee>=Jt?(t<Jt&&(Jt=t),t>ee&&(ee=t)):t>ji?an(Jt,t)>an(Jt,ee)&&(ee=t):an(t,ee)>an(Jt,ee)&&(Jt=t)}else ni.push(kr=[Jt=t,ee=t]);e<Ze&&(Ze=e),e>on&&(on=e),Eo=n,ji=t}function Ax(){Ar.point=MC}function Cx(){kr[0]=Jt,kr[1]=ee,Ar.point=e0,Eo=null}function PC(t,e){if(Eo){var n=t-ji;Tu.add(It(n)>180?n+(n>0?360:-360):n)}else AC=t,CC=e;fr.point(t,e),MC(t,e)}function z8(){fr.lineStart()}function H8(){PC(AC,CC),fr.lineEnd(),It(Tu)>ft&&(Jt=-(ee=180)),kr[0]=Jt,kr[1]=ee,Eo=null}function an(t,e){return(e-=t)<0?e+360:e}function Y8(t,e){return t[0]-e[0]}function Mx(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function X8(t){var e,n,r,i,a,o,s;if(on=ee=-(Jt=Ze=1/0),ni=[],$n(t,Ar),n=ni.length){for(ni.sort(Y8),e=1,r=ni[0],a=[r];e<n;++e)i=ni[e],Mx(r,i[0])||Mx(r,i[1])?(an(r[0],i[1])>an(r[0],r[1])&&(r[1]=i[1]),an(i[0],r[1])>an(r[0],r[1])&&(r[0]=i[0])):a.push(r=i);for(o=-1/0,n=a.length-1,e=0,r=a[n];e<=n;r=i,++e)i=a[e],(s=an(r[1],i[0]))>o&&(o=s,Jt=i[0],ee=r[1])}return ni=kr=null,Jt===1/0||Ze===1/0?[[NaN,NaN],[NaN,NaN]]:[[Jt,Ze],[ee,on]]}var nu,Wc,qc,Zc,Qc,Kc,jc,Jc,n0,r0,i0,LC,DC,Ee,Ie,Re,Vn={sphere:te,point:_m,lineStart:Px,lineEnd:Lx,polygonStart:function(){Vn.lineStart=q8,Vn.lineEnd=Z8},polygonEnd:function(){Vn.lineStart=Px,Vn.lineEnd=Lx}};function _m(t,e){t*=ct,e*=ct;var n=st(e);Dl(n*st(t),n*it(t),it(e))}function Dl(t,e,n){++nu,qc+=(t-qc)/nu,Zc+=(e-Zc)/nu,Qc+=(n-Qc)/nu}function Px(){Vn.point=U8}function U8(t,e){t*=ct,e*=ct;var n=st(e);Ee=n*st(t),Ie=n*it(t),Re=it(e),Vn.point=W8,Dl(Ee,Ie,Re)}function W8(t,e){t*=ct,e*=ct;var n=st(e),r=n*st(t),i=n*it(t),a=it(e),o=Fe(ue((o=Ie*a-Re*i)*o+(o=Re*r-Ee*a)*o+(o=Ee*i-Ie*r)*o),Ee*r+Ie*i+Re*a);Wc+=o,Kc+=o*(Ee+(Ee=r)),jc+=o*(Ie+(Ie=i)),Jc+=o*(Re+(Re=a)),Dl(Ee,Ie,Re)}function Lx(){Vn.point=_m}function q8(){Vn.point=Q8}function Z8(){EC(LC,DC),Vn.point=_m}function Q8(t,e){LC=t,DC=e,t*=ct,e*=ct,Vn.point=EC;var n=st(e);Ee=n*st(t),Ie=n*it(t),Re=it(e),Dl(Ee,Ie,Re)}function EC(t,e){t*=ct,e*=ct;var n=st(e),r=n*st(t),i=n*it(t),a=it(e),o=Ie*a-Re*i,s=Re*r-Ee*a,u=Ee*i-Ie*r,f=ue(o*o+s*s+u*u),c=Be(f),d=f&&-c/f;n0+=d*o,r0+=d*s,i0+=d*u,Wc+=c,Kc+=c*(Ee+(Ee=r)),jc+=c*(Ie+(Ie=i)),Jc+=c*(Re+(Re=a)),Dl(Ee,Ie,Re)}function K8(t){nu=Wc=qc=Zc=Qc=Kc=jc=Jc=n0=r0=i0=0,$n(t,Vn);var e=n0,n=r0,r=i0,i=e*e+n*n+r*r;return i<Vc&&(e=Kc,n=jc,r=Jc,Wc<ft&&(e=qc,n=Zc,r=Qc),i=e*e+n*n+r*r,i<Vc)?[NaN,NaN]:[Fe(n,e)*Xt,Be(r/ue(i))*Xt]}function Za(t){return function(){return t}}function a0(t,e){function n(r,i){return r=t(r,i),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,i){return r=e.invert(r,i),r&&t.invert(r[0],r[1])}),n}function o0(t,e){return[It(t)>At?t+Math.round(-t/Ve)*Ve:t,e]}o0.invert=o0;function xm(t,e,n){return(t%=Ve)?e||n?a0(Ex(t),Ix(e,n)):Ex(t):e||n?Ix(e,n):o0}function Dx(t){return function(e,n){return e+=t,[e>At?e-Ve:e<-At?e+Ve:e,n]}}function Ex(t){var e=Dx(t);return e.invert=Dx(-t),e}function Ix(t,e){var n=st(t),r=it(t),i=st(e),a=it(e);function o(s,u){var f=st(u),c=st(s)*f,d=it(s)*f,p=it(u),v=p*n+c*r;return[Fe(d*i-v*a,c*n-p*r),Be(v*i+d*a)]}return o.invert=function(s,u){var f=st(u),c=st(s)*f,d=it(s)*f,p=it(u),v=p*i-d*a;return[Fe(d*i+p*a,c*n+v*r),Be(v*n-c*r)]},o}function IC(t){t=xm(t[0]*ct,t[1]*ct,t.length>2?t[2]*ct:0);function e(n){return n=t(n[0]*ct,n[1]*ct),n[0]*=Xt,n[1]*=Xt,n}return e.invert=function(n){return n=t.invert(n[0]*ct,n[1]*ct),n[0]*=Xt,n[1]*=Xt,n},e}function RC(t,e,n,r,i,a){if(n){var o=st(e),s=it(e),u=r*n;i==null?(i=e+r*Ve,a=e-u/2):(i=Rx(o,i),a=Rx(o,a),(r>0?i<a:i>a)&&(i+=r*Ve));for(var f,c=i;r>0?c>a:c<a;c-=u)f=Xc([o,-s*st(c),-s*it(c)]),t.point(f[0],f[1])}}function Rx(t,e){e=_a(e),e[0]-=t,Uc(e);var n=wC(-e[1]);return((-e[2]<0?-n:n)+Ve-ft)%Ve}function j8(){var t=Za([0,0]),e=Za(90),n=Za(6),r,i,a={point:o};function o(u,f){r.push(u=i(u,f)),u[0]*=Xt,u[1]*=Xt}function s(){var u=t.apply(this,arguments),f=e.apply(this,arguments)*ct,c=n.apply(this,arguments)*ct;return r=[],i=xm(-u[0]*ct,-u[1]*ct,0).invert,RC(a,f,c,1),u={type:"Polygon",coordinates:[r]},r=i=null,u}return s.center=function(u){return arguments.length?(t=typeof u=="function"?u:Za([+u[0],+u[1]]),s):t},s.radius=function(u){return arguments.length?(e=typeof u=="function"?u:Za(+u),s):e},s.precision=function(u){return arguments.length?(n=typeof u=="function"?u:Za(+u),s):n},s}function kC(){var t=[],e;return{point:function(n,r,i){e.push([n,r,i])},lineStart:function(){t.push(e=[])},lineEnd:te,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function uc(t,e){return It(t[0]-e[0])<ft&&It(t[1]-e[1])<ft}function af(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function OC(t,e,n,r,i){var a=[],o=[],s,u;if(t.forEach(function(y){if(!((x=y.length-1)<=0)){var x,_=y[0],w=y[x],b;if(uc(_,w)){if(!_[2]&&!w[2]){for(i.lineStart(),s=0;s<x;++s)i.point((_=y[s])[0],_[1]);i.lineEnd();return}w[0]+=2*ft}a.push(b=new af(_,y,null,!0)),o.push(b.o=new af(_,null,b,!1)),a.push(b=new af(w,y,null,!1)),o.push(b.o=new af(w,null,b,!0))}}),!!a.length){for(o.sort(e),kx(a),kx(o),s=0,u=o.length;s<u;++s)o[s].e=n=!n;for(var f=a[0],c,d;;){for(var p=f,v=!0;p.v;)if((p=p.n)===f)return;c=p.z,i.lineStart();do{if(p.v=p.o.v=!0,p.e){if(v)for(s=0,u=c.length;s<u;++s)i.point((d=c[s])[0],d[1]);else r(p.x,p.n.x,1,i);p=p.n}else{if(v)for(c=p.p.z,s=c.length-1;s>=0;--s)i.point((d=c[s])[0],d[1]);else r(p.x,p.p.x,-1,i);p=p.p}p=p.o,c=p.z,v=!v}while(!p.v);i.lineEnd()}}}function kx(t){if(e=t.length){for(var e,n=0,r=t[0],i;++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}var Fp=Ti();function Bp(t){return It(t[0])<=At?t[0]:Mn(t[0])*((It(t[0])+At)%Ve-At)}function NC(t,e){var n=Bp(e),r=e[1],i=it(r),a=[it(n),-st(n),0],o=0,s=0;Fp.reset(),i===1?r=ne+ft:i===-1&&(r=-ne-ft);for(var u=0,f=t.length;u<f;++u)if(d=(c=t[u]).length)for(var c,d,p=c[d-1],v=Bp(p),y=p[1]/2+Fc,x=it(y),_=st(y),w=0;w<d;++w,v=S,x=L,_=P,p=b){var b=c[w],S=Bp(b),A=b[1]/2+Fc,L=it(A),P=st(A),E=S-v,O=E>=0?1:-1,R=O*E,C=R>At,N=x*L;if(Fp.add(Fe(N*O*it(R),_*P+N*st(R))),o+=C?E+O*Ve:E,C^v>=n^S>=n){var D=Xo(_a(p),_a(b));Uc(D);var G=Xo(a,D);Uc(G);var X=(C^E>=0?-1:1)*Be(G[2]);(r>X||r===X&&(D[0]||D[1]))&&(s+=C^E>=0?1:-1)}}return(o<-ft||o<ft&&Fp<-ft)^s&1}function $C(t,e,n,r){return function(i){var a=e(i),o=kC(),s=e(o),u=!1,f,c,d,p={point:v,lineStart:x,lineEnd:_,polygonStart:function(){p.point=w,p.lineStart=b,p.lineEnd=S,c=[],f=[]},polygonEnd:function(){p.point=v,p.lineStart=x,p.lineEnd=_,c=Qy(c);var A=NC(f,r);c.length?(u||(i.polygonStart(),u=!0),OC(c,tN,A,n,i)):A&&(u||(i.polygonStart(),u=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),u&&(i.polygonEnd(),u=!1),c=f=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function v(A,L){t(A,L)&&i.point(A,L)}function y(A,L){a.point(A,L)}function x(){p.point=y,a.lineStart()}function _(){p.point=v,a.lineEnd()}function w(A,L){d.push([A,L]),s.point(A,L)}function b(){s.lineStart(),d=[]}function S(){w(d[0][0],d[0][1]),s.lineEnd();var A=s.clean(),L=o.result(),P,E=L.length,O,R,C;if(d.pop(),f.push(d),d=null,!!E){if(A&1){if(R=L[0],(O=R.length-1)>0){for(u||(i.polygonStart(),u=!0),i.lineStart(),P=0;P<O;++P)i.point((C=R[P])[0],C[1]);i.lineEnd()}return}E>1&&A&2&&L.push(L.pop().concat(L.shift())),c.push(L.filter(J8))}}return p}}function J8(t){return t.length>1}function tN(t,e){return((t=t.x)[0]<0?t[1]-ne-ft:ne-t[1])-((e=e.x)[0]<0?e[1]-ne-ft:ne-e[1])}const s0=$C(function(){return!0},eN,rN,[-At,-ne]);function eN(t){var e=NaN,n=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(a,o){var s=a>0?At:-At,u=It(a-e);It(u-At)<ft?(t.point(e,n=(n+o)/2>0?ne:-ne),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(s,n),t.point(a,n),i=0):r!==s&&u>=At&&(It(e-r)<ft&&(e-=r*ft),It(a-s)<ft&&(a-=s*ft),n=nN(e,n,a,o),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(s,n),i=0),t.point(e=a,n=o),r=s},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-i}}}function nN(t,e,n,r){var i,a,o=it(t-n);return It(o)>ft?cs((it(e)*(a=st(r))*it(n)-it(r)*(i=st(e))*it(t))/(i*a*o)):(e+r)/2}function rN(t,e,n,r){var i;if(t==null)i=n*ne,r.point(-At,i),r.point(0,i),r.point(At,i),r.point(At,0),r.point(At,-i),r.point(0,-i),r.point(-At,-i),r.point(-At,0),r.point(-At,i);else if(It(t[0]-e[0])>ft){var a=t[0]<e[0]?At:-At;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(e[0],e[1])}function GC(t){var e=st(t),n=6*ct,r=e>0,i=It(e)>ft;function a(c,d,p,v){RC(v,t,n,p,c,d)}function o(c,d){return st(c)*st(d)>e}function s(c){var d,p,v,y,x;return{lineStart:function(){y=v=!1,x=1},point:function(_,w){var b=[_,w],S,A=o(_,w),L=r?A?0:f(_,w):A?f(_+(_<0?At:-At),w):0;if(!d&&(y=v=A)&&c.lineStart(),A!==v&&(S=u(d,b),(!S||uc(d,S)||uc(b,S))&&(b[2]=1)),A!==v)x=0,A?(c.lineStart(),S=u(b,d),c.point(S[0],S[1])):(S=u(d,b),c.point(S[0],S[1],2),c.lineEnd()),d=S;else if(i&&d&&r^A){var P;!(L&p)&&(P=u(b,d,!0))&&(x=0,r?(c.lineStart(),c.point(P[0][0],P[0][1]),c.point(P[1][0],P[1][1]),c.lineEnd()):(c.point(P[1][0],P[1][1]),c.lineEnd(),c.lineStart(),c.point(P[0][0],P[0][1],3)))}A&&(!d||!uc(d,b))&&c.point(b[0],b[1]),d=b,v=A,p=L},lineEnd:function(){v&&c.lineEnd(),d=null},clean:function(){return x|(y&&v)<<1}}}function u(c,d,p){var v=_a(c),y=_a(d),x=[1,0,0],_=Xo(v,y),w=nf(_,_),b=_[0],S=w-b*b;if(!S)return!p&&c;var A=e*w/S,L=-e*b/S,P=Xo(x,_),E=rf(x,A),O=rf(_,L);Vp(E,O);var R=P,C=nf(E,R),N=nf(R,R),D=C*C-N*(nf(E,E)-1);if(!(D<0)){var G=ue(D),X=rf(R,(-C-G)/N);if(Vp(X,E),X=Xc(X),!p)return X;var H=c[0],W=d[0],K=c[1],Q=d[1],l;W<H&&(l=H,H=W,W=l);var h=W-H,g=It(h-At)<ft,m=g||h<ft;if(!g&&Q<K&&(l=K,K=Q,Q=l),m?g?K+Q>0^X[1]<(It(X[0]-H)<ft?K:Q):K<=X[1]&&X[1]<=Q:h>At^(H<=X[0]&&X[0]<=W)){var T=rf(R,(-C+G)/N);return Vp(T,E),[X,Xc(T)]}}}function f(c,d){var p=r?t:At-t,v=0;return c<-p?v|=1:c>p&&(v|=2),d<-p?v|=4:d>p&&(v|=8),v}return $C(o,s,a,r?[0,-t]:[-At,t-At])}function iN(t,e,n,r,i,a){var o=t[0],s=t[1],u=e[0],f=e[1],c=0,d=1,p=u-o,v=f-s,y;if(y=n-o,!(!p&&y>0)){if(y/=p,p<0){if(y<c)return;y<d&&(d=y)}else if(p>0){if(y>d)return;y>c&&(c=y)}if(y=i-o,!(!p&&y<0)){if(y/=p,p<0){if(y>d)return;y>c&&(c=y)}else if(p>0){if(y<c)return;y<d&&(d=y)}if(y=r-s,!(!v&&y>0)){if(y/=v,v<0){if(y<c)return;y<d&&(d=y)}else if(v>0){if(y>d)return;y>c&&(c=y)}if(y=a-s,!(!v&&y<0)){if(y/=v,v<0){if(y>d)return;y>c&&(c=y)}else if(v>0){if(y<c)return;y<d&&(d=y)}return c>0&&(t[0]=o+c*p,t[1]=s+c*v),d<1&&(e[0]=o+d*p,e[1]=s+d*v),!0}}}}}var ru=1e9,of=-ru;function dd(t,e,n,r){function i(f,c){return t<=f&&f<=n&&e<=c&&c<=r}function a(f,c,d,p){var v=0,y=0;if(f==null||(v=o(f,d))!==(y=o(c,d))||u(f,c)<0^d>0)do p.point(v===0||v===3?t:n,v>1?r:e);while((v=(v+d+4)%4)!==y);else p.point(c[0],c[1])}function o(f,c){return It(f[0]-t)<ft?c>0?0:3:It(f[0]-n)<ft?c>0?2:1:It(f[1]-e)<ft?c>0?1:0:c>0?3:2}function s(f,c){return u(f.x,c.x)}function u(f,c){var d=o(f,1),p=o(c,1);return d!==p?d-p:d===0?c[1]-f[1]:d===1?f[0]-c[0]:d===2?f[1]-c[1]:c[0]-f[0]}return function(f){var c=f,d=kC(),p,v,y,x,_,w,b,S,A,L,P,E={point:O,lineStart:D,lineEnd:G,polygonStart:C,polygonEnd:N};function O(H,W){i(H,W)&&c.point(H,W)}function R(){for(var H=0,W=0,K=v.length;W<K;++W)for(var Q=v[W],l=1,h=Q.length,g=Q[0],m,T,M=g[0],I=g[1];l<h;++l)m=M,T=I,g=Q[l],M=g[0],I=g[1],T<=r?I>r&&(M-m)*(r-T)>(I-T)*(t-m)&&++H:I<=r&&(M-m)*(r-T)<(I-T)*(t-m)&&--H;return H}function C(){c=d,p=[],v=[],P=!0}function N(){var H=R(),W=P&&H,K=(p=Qy(p)).length;(W||K)&&(f.polygonStart(),W&&(f.lineStart(),a(null,null,1,f),f.lineEnd()),K&&OC(p,s,H,a,f),f.polygonEnd()),c=f,p=v=y=null}function D(){E.point=X,v&&v.push(y=[]),L=!0,A=!1,b=S=NaN}function G(){p&&(X(x,_),w&&A&&d.rejoin(),p.push(d.result())),E.point=O,A&&c.lineEnd()}function X(H,W){var K=i(H,W);if(v&&y.push([H,W]),L)x=H,_=W,w=K,L=!1,K&&(c.lineStart(),c.point(H,W));else if(K&&A)c.point(H,W);else{var Q=[b=Math.max(of,Math.min(ru,b)),S=Math.max(of,Math.min(ru,S))],l=[H=Math.max(of,Math.min(ru,H)),W=Math.max(of,Math.min(ru,W))];iN(Q,l,t,e,n,r)?(A||(c.lineStart(),c.point(Q[0],Q[1])),c.point(l[0],l[1]),K||c.lineEnd(),P=!1):K&&(c.lineStart(),c.point(H,W),P=!1)}b=H,S=W,A=K}return E}}function aN(){var t=0,e=0,n=960,r=500,i,a,o;return o={stream:function(s){return i&&a===s?i:i=dd(t,e,n,r)(a=s)},extent:function(s){return arguments.length?(t=+s[0][0],e=+s[0][1],n=+s[1][0],r=+s[1][1],i=a=null,o):[[t,e],[n,r]]}}}var u0=Ti(),l0,lc,fc,Uo={sphere:te,point:te,lineStart:oN,lineEnd:te,polygonStart:te,polygonEnd:te};function oN(){Uo.point=uN,Uo.lineEnd=sN}function sN(){Uo.point=Uo.lineEnd=te}function uN(t,e){t*=ct,e*=ct,l0=t,lc=it(e),fc=st(e),Uo.point=lN}function lN(t,e){t*=ct,e*=ct;var n=it(e),r=st(e),i=It(t-l0),a=st(i),o=it(i),s=r*o,u=fc*n-lc*r*a,f=lc*n+fc*r*a;u0.add(Fe(ue(s*s+u*u),f)),l0=t,lc=n,fc=r}function VC(t){return u0.reset(),$n(t,Uo),+u0}var f0=[null,null],fN={type:"LineString",coordinates:f0};function th(t,e){return f0[0]=t,f0[1]=e,VC(fN)}var Ox={Feature:function(t,e){return eh(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if(eh(n[r].geometry,e))return!0;return!1}},Nx={Sphere:function(){return!0},Point:function(t,e){return $x(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if($x(n[r],e))return!0;return!1},LineString:function(t,e){return Gx(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(Gx(n[r],e))return!0;return!1},Polygon:function(t,e){return Vx(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(Vx(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if(eh(n[r],e))return!0;return!1}};function eh(t,e){return t&&Nx.hasOwnProperty(t.type)?Nx[t.type](t,e):!1}function $x(t,e){return th(t,e)===0}function Gx(t,e){for(var n,r,i,a=0,o=t.length;a<o;a++){if(r=th(t[a],e),r===0||a>0&&(i=th(t[a],t[a-1]),i>0&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<Vc*i))return!0;n=r}return!1}function Vx(t,e){return!!NC(t.map(cN),FC(e))}function cN(t){return t=t.map(FC),t.pop(),t}function FC(t){return[t[0]*ct,t[1]*ct]}function hN(t,e){return(t&&Ox.hasOwnProperty(t.type)?Ox[t.type]:eh)(t,e)}function Fx(t,e,n){var r=ln(t,e-ft,n).concat(e);return function(i){return r.map(function(a){return[i,a]})}}function Bx(t,e,n){var r=ln(t,e-ft,n).concat(e);return function(i){return r.map(function(a){return[a,i]})}}function BC(){var t,e,n,r,i,a,o,s,u=10,f=u,c=90,d=360,p,v,y,x,_=2.5;function w(){return{type:"MultiLineString",coordinates:b()}}function b(){return ln(ef(r/c)*c,n,c).map(y).concat(ln(ef(s/d)*d,o,d).map(x)).concat(ln(ef(e/u)*u,t,u).filter(function(S){return It(S%c)>ft}).map(p)).concat(ln(ef(a/f)*f,i,f).filter(function(S){return It(S%d)>ft}).map(v))}return w.lines=function(){return b().map(function(S){return{type:"LineString",coordinates:S}})},w.outline=function(){return{type:"Polygon",coordinates:[y(r).concat(x(o).slice(1),y(n).reverse().slice(1),x(s).reverse().slice(1))]}},w.extent=function(S){return arguments.length?w.extentMajor(S).extentMinor(S):w.extentMinor()},w.extentMajor=function(S){return arguments.length?(r=+S[0][0],n=+S[1][0],s=+S[0][1],o=+S[1][1],r>n&&(S=r,r=n,n=S),s>o&&(S=s,s=o,o=S),w.precision(_)):[[r,s],[n,o]]},w.extentMinor=function(S){return arguments.length?(e=+S[0][0],t=+S[1][0],a=+S[0][1],i=+S[1][1],e>t&&(S=e,e=t,t=S),a>i&&(S=a,a=i,i=S),w.precision(_)):[[e,a],[t,i]]},w.step=function(S){return arguments.length?w.stepMajor(S).stepMinor(S):w.stepMinor()},w.stepMajor=function(S){return arguments.length?(c=+S[0],d=+S[1],w):[c,d]},w.stepMinor=function(S){return arguments.length?(u=+S[0],f=+S[1],w):[u,f]},w.precision=function(S){return arguments.length?(_=+S,p=Fx(a,i,90),v=Bx(e,t,_),y=Fx(s,o,90),x=Bx(r,n,_),w):_},w.extentMajor([[-180,-90+ft],[180,90-ft]]).extentMinor([[-180,-80-ft],[180,80+ft]])}function dN(){return BC()()}function pN(t,e){var n=t[0]*ct,r=t[1]*ct,i=e[0]*ct,a=e[1]*ct,o=st(r),s=it(r),u=st(a),f=it(a),c=o*st(n),d=o*it(n),p=u*st(i),v=u*it(i),y=2*Be(ue(xx(a-r)+o*u*xx(i-n))),x=it(y),_=y?function(w){var b=it(w*=y)/x,S=it(y-w)/x,A=S*c+b*p,L=S*d+b*v,P=S*s+b*f;return[Fe(L,A)*Xt,Fe(P,ue(A*A+L*L))*Xt]}:function(){return[n*Xt,r*Xt]};return _.distance=y,_}function tl(t){return t}var zp=Ti(),c0=Ti(),zC,HC,h0,d0,ii={point:te,lineStart:te,lineEnd:te,polygonStart:function(){ii.lineStart=vN,ii.lineEnd=yN},polygonEnd:function(){ii.lineStart=ii.lineEnd=ii.point=te,zp.add(It(c0)),c0.reset()},result:function(){var t=zp/2;return zp.reset(),t}};function vN(){ii.point=gN}function gN(t,e){ii.point=YC,zC=h0=t,HC=d0=e}function YC(t,e){c0.add(d0*t-h0*e),h0=t,d0=e}function yN(){YC(zC,HC)}const zx=ii;var Wo=1/0,nh=Wo,el=-Wo,rh=el,mN={point:_N,lineStart:te,lineEnd:te,polygonStart:te,polygonEnd:te,result:function(){var t=[[Wo,nh],[el,rh]];return el=rh=-(nh=Wo=1/0),t}};function _N(t,e){t<Wo&&(Wo=t),t>el&&(el=t),e<nh&&(nh=e),e>rh&&(rh=e)}const ih=mN;var p0=0,v0=0,iu=0,ah=0,oh=0,_o=0,g0=0,y0=0,au=0,XC,UC,er,nr,Gn={point:xa,lineStart:Hx,lineEnd:Yx,polygonStart:function(){Gn.lineStart=bN,Gn.lineEnd=SN},polygonEnd:function(){Gn.point=xa,Gn.lineStart=Hx,Gn.lineEnd=Yx},result:function(){var t=au?[g0/au,y0/au]:_o?[ah/_o,oh/_o]:iu?[p0/iu,v0/iu]:[NaN,NaN];return p0=v0=iu=ah=oh=_o=g0=y0=au=0,t}};function xa(t,e){p0+=t,v0+=e,++iu}function Hx(){Gn.point=xN}function xN(t,e){Gn.point=wN,xa(er=t,nr=e)}function wN(t,e){var n=t-er,r=e-nr,i=ue(n*n+r*r);ah+=i*(er+t)/2,oh+=i*(nr+e)/2,_o+=i,xa(er=t,nr=e)}function Yx(){Gn.point=xa}function bN(){Gn.point=TN}function SN(){WC(XC,UC)}function TN(t,e){Gn.point=WC,xa(XC=er=t,UC=nr=e)}function WC(t,e){var n=t-er,r=e-nr,i=ue(n*n+r*r);ah+=i*(er+t)/2,oh+=i*(nr+e)/2,_o+=i,i=nr*t-er*e,g0+=i*(er+t),y0+=i*(nr+e),au+=i*3,xa(er=t,nr=e)}const Xx=Gn;function qC(t){this._context=t}qC.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Ve);break}}},result:te};var m0=Ti(),Hp,ZC,QC,ou,su,sh={point:te,lineStart:function(){sh.point=AN},lineEnd:function(){Hp&&KC(ZC,QC),sh.point=te},polygonStart:function(){Hp=!0},polygonEnd:function(){Hp=null},result:function(){var t=+m0;return m0.reset(),t}};function AN(t,e){sh.point=KC,ZC=ou=t,QC=su=e}function KC(t,e){ou-=t,su-=e,m0.add(ue(ou*ou+su*su)),ou=t,su=e}const Ux=sh;function jC(){this._string=[]}jC.prototype={_radius:4.5,_circle:Wx(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._string.push("M",t,",",e),this._point=1;break}case 1:{this._string.push("L",t,",",e);break}default:{this._circle==null&&(this._circle=Wx(this._radius)),this._string.push("M",t,",",e,this._circle);break}}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}else return null}};function Wx(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function CN(t,e){var n=4.5,r,i;function a(o){return o&&(typeof n=="function"&&i.pointRadius(+n.apply(this,arguments)),$n(o,r(i))),i.result()}return a.area=function(o){return $n(o,r(zx)),zx.result()},a.measure=function(o){return $n(o,r(Ux)),Ux.result()},a.bounds=function(o){return $n(o,r(ih)),ih.result()},a.centroid=function(o){return $n(o,r(Xx)),Xx.result()},a.projection=function(o){return arguments.length?(r=o==null?(t=null,tl):(t=o).stream,a):t},a.context=function(o){return arguments.length?(i=o==null?(e=null,new jC):new qC(e=o),typeof n!="function"&&i.pointRadius(n),a):e},a.pointRadius=function(o){return arguments.length?(n=typeof o=="function"?o:(i.pointRadius(+o),+o),a):n},a.projection(t).context(e)}function MN(t){return{stream:El(t)}}function El(t){return function(e){var n=new _0;for(var r in t)n[r]=t[r];return n.stream=e,n}}function _0(){}_0.prototype={constructor:_0,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function wm(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),$n(n,t.stream(ih)),e(ih.result()),r!=null&&t.clipExtent(r),t}function pd(t,e,n){return wm(t,function(r){var i=e[1][0]-e[0][0],a=e[1][1]-e[0][1],o=Math.min(i/(r[1][0]-r[0][0]),a/(r[1][1]-r[0][1])),s=+e[0][0]+(i-o*(r[1][0]+r[0][0]))/2,u=+e[0][1]+(a-o*(r[1][1]+r[0][1]))/2;t.scale(150*o).translate([s,u])},n)}function bm(t,e,n){return pd(t,[[0,0],e],n)}function Sm(t,e,n){return wm(t,function(r){var i=+e,a=i/(r[1][0]-r[0][0]),o=(i-a*(r[1][0]+r[0][0]))/2,s=-a*r[0][1];t.scale(150*a).translate([o,s])},n)}function Tm(t,e,n){return wm(t,function(r){var i=+e,a=i/(r[1][1]-r[0][1]),o=-a*r[0][0],s=(i-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([o,s])},n)}var qx=16,PN=st(30*ct);function Zx(t,e){return+e?DN(t,e):LN(t)}function LN(t){return El({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function DN(t,e){function n(r,i,a,o,s,u,f,c,d,p,v,y,x,_){var w=f-r,b=c-i,S=w*w+b*b;if(S>4*e&&x--){var A=o+p,L=s+v,P=u+y,E=ue(A*A+L*L+P*P),O=Be(P/=E),R=It(It(P)-1)<ft||It(a-d)<ft?(a+d)/2:Fe(L,A),C=t(R,O),N=C[0],D=C[1],G=N-r,X=D-i,H=b*G-w*X;(H*H/S>e||It((w*G+b*X)/S-.5)>.3||o*p+s*v+u*y<PN)&&(n(r,i,a,o,s,u,N,D,R,A/=E,L/=E,P,x,_),_.point(N,D),n(N,D,R,A,L,P,f,c,d,p,v,y,x,_))}}return function(r){var i,a,o,s,u,f,c,d,p,v,y,x,_={point:w,lineStart:b,lineEnd:A,polygonStart:function(){r.polygonStart(),_.lineStart=L},polygonEnd:function(){r.polygonEnd(),_.lineStart=b}};function w(O,R){O=t(O,R),r.point(O[0],O[1])}function b(){d=NaN,_.point=S,r.lineStart()}function S(O,R){var C=_a([O,R]),N=t(O,R);n(d,p,c,v,y,x,d=N[0],p=N[1],c=O,v=C[0],y=C[1],x=C[2],qx,r),r.point(d,p)}function A(){_.point=w,r.lineEnd()}function L(){b(),_.point=P,_.lineEnd=E}function P(O,R){S(i=O,R),a=d,o=p,s=v,u=y,f=x,_.point=S}function E(){n(d,p,c,v,y,x,a,o,i,s,u,f,qx,r),_.lineEnd=A,A()}return _}}var EN=El({point:function(t,e){this.stream.point(t*ct,e*ct)}});function IN(t){return El({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function RN(t,e,n,r,i){function a(o,s){return o*=r,s*=i,[e+t*o,n-t*s]}return a.invert=function(o,s){return[(o-e)/t*r,(n-s)/t*i]},a}function Qx(t,e,n,r,i,a){var o=st(a),s=it(a),u=o*t,f=s*t,c=o/t,d=s/t,p=(s*n-o*e)/t,v=(s*e+o*n)/t;function y(x,_){return x*=r,_*=i,[u*x-f*_+e,n-f*x-u*_]}return y.invert=function(x,_){return[r*(c*x-d*_+p),i*(v-d*x-c*_)]},y}function vr(t){return Am(function(){return t})()}function Am(t){var e,n=150,r=480,i=250,a=0,o=0,s=0,u=0,f=0,c,d=0,p=1,v=1,y=null,x=s0,_=null,w,b,S,A=tl,L=.5,P,E,O,R,C;function N(H){return O(H[0]*ct,H[1]*ct)}function D(H){return H=O.invert(H[0],H[1]),H&&[H[0]*Xt,H[1]*Xt]}N.stream=function(H){return R&&C===H?R:R=EN(IN(c)(x(P(A(C=H)))))},N.preclip=function(H){return arguments.length?(x=H,y=void 0,X()):x},N.postclip=function(H){return arguments.length?(A=H,_=w=b=S=null,X()):A},N.clipAngle=function(H){return arguments.length?(x=+H?GC(y=H*ct):(y=null,s0),X()):y*Xt},N.clipExtent=function(H){return arguments.length?(A=H==null?(_=w=b=S=null,tl):dd(_=+H[0][0],w=+H[0][1],b=+H[1][0],S=+H[1][1]),X()):_==null?null:[[_,w],[b,S]]},N.scale=function(H){return arguments.length?(n=+H,G()):n},N.translate=function(H){return arguments.length?(r=+H[0],i=+H[1],G()):[r,i]},N.center=function(H){return arguments.length?(a=H[0]%360*ct,o=H[1]%360*ct,G()):[a*Xt,o*Xt]},N.rotate=function(H){return arguments.length?(s=H[0]%360*ct,u=H[1]%360*ct,f=H.length>2?H[2]%360*ct:0,G()):[s*Xt,u*Xt,f*Xt]},N.angle=function(H){return arguments.length?(d=H%360*ct,G()):d*Xt},N.reflectX=function(H){return arguments.length?(p=H?-1:1,G()):p<0},N.reflectY=function(H){return arguments.length?(v=H?-1:1,G()):v<0},N.precision=function(H){return arguments.length?(P=Zx(E,L=H*H),X()):ue(L)},N.fitExtent=function(H,W){return pd(N,H,W)},N.fitSize=function(H,W){return bm(N,H,W)},N.fitWidth=function(H,W){return Sm(N,H,W)},N.fitHeight=function(H,W){return Tm(N,H,W)};function G(){var H=Qx(n,0,0,p,v,d).apply(null,e(a,o)),W=(d?Qx:RN)(n,r-H[0],i-H[1],p,v,d);return c=xm(s,u,f),E=a0(e,W),O=a0(c,E),P=Zx(E,L),X()}function X(){return R=C=null,N}return function(){return e=t.apply(this,arguments),N.invert=e.invert&&D,G()}}function Cm(t){var e=0,n=At/3,r=Am(t),i=r(e,n);return i.parallels=function(a){return arguments.length?r(e=a[0]*ct,n=a[1]*ct):[e*Xt,n*Xt]},i}function kN(t){var e=st(t);function n(r,i){return[r*e,it(i)/e]}return n.invert=function(r,i){return[r/e,Be(i*e)]},n}function JC(t,e){var n=it(t),r=(n+it(e))/2;if(It(r)<ft)return kN(t);var i=1+n*(2*r-n),a=ue(i)/r;function o(s,u){var f=ue(i-2*r*it(u))/r;return[f*it(s*=r),a-f*st(s)]}return o.invert=function(s,u){var f=a-u,c=Fe(s,It(f))*Mn(f);return f*r<0&&(c-=At*Mn(s)*Mn(f)),[c/r,Be((i-(s*s+f*f)*r*r)/(2*r))]},o}function uh(){return Cm(JC).scale(155.424).center([0,33.6442])}function tM(){return uh().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function ON(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function NN(){var t,e,n=tM(),r,i=uh().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,o=uh().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s,u,f={point:function(p,v){u=[p,v]}};function c(p){var v=p[0],y=p[1];return u=null,r.point(v,y),u||(a.point(v,y),u)||(s.point(v,y),u)}c.invert=function(p){var v=n.scale(),y=n.translate(),x=(p[0]-y[0])/v,_=(p[1]-y[1])/v;return(_>=.12&&_<.234&&x>=-.425&&x<-.214?i:_>=.166&&_<.234&&x>=-.214&&x<-.115?o:n).invert(p)},c.stream=function(p){return t&&e===p?t:t=ON([n.stream(e=p),i.stream(p),o.stream(p)])},c.precision=function(p){return arguments.length?(n.precision(p),i.precision(p),o.precision(p),d()):n.precision()},c.scale=function(p){return arguments.length?(n.scale(p),i.scale(p*.35),o.scale(p),c.translate(n.translate())):n.scale()},c.translate=function(p){if(!arguments.length)return n.translate();var v=n.scale(),y=+p[0],x=+p[1];return r=n.translate(p).clipExtent([[y-.455*v,x-.238*v],[y+.455*v,x+.238*v]]).stream(f),a=i.translate([y-.307*v,x+.201*v]).clipExtent([[y-.425*v+ft,x+.12*v+ft],[y-.214*v-ft,x+.234*v-ft]]).stream(f),s=o.translate([y-.205*v,x+.212*v]).clipExtent([[y-.214*v+ft,x+.166*v+ft],[y-.115*v-ft,x+.234*v-ft]]).stream(f),d()},c.fitExtent=function(p,v){return pd(c,p,v)},c.fitSize=function(p,v){return bm(c,p,v)},c.fitWidth=function(p,v){return Sm(c,p,v)},c.fitHeight=function(p,v){return Tm(c,p,v)};function d(){return t=e=null,c}return c.scale(1070)}function eM(t){return function(e,n){var r=st(e),i=st(n),a=t(r*i);return[a*i*it(e),a*it(n)]}}function Il(t){return function(e,n){var r=ue(e*e+n*n),i=t(r),a=it(i),o=st(i);return[Fe(e*a,r*o),Be(r&&n*a/r)]}}var Mm=eM(function(t){return ue(2/(1+t))});Mm.invert=Il(function(t){return 2*Be(t/2)});function $N(){return vr(Mm).scale(124.75).clipAngle(180-.001)}var Pm=eM(function(t){return(t=wC(t))&&t/it(t)});Pm.invert=Il(function(t){return t});function GN(){return vr(Pm).scale(79.4188).clipAngle(180-.001)}function Rl(t,e){return[t,Bc(mm((ne+e)/2))]}Rl.invert=function(t,e){return[t,2*cs(xC(e))-ne]};function VN(){return nM(Rl).scale(961/Ve)}function nM(t){var e=vr(t),n=e.center,r=e.scale,i=e.translate,a=e.clipExtent,o=null,s,u,f;e.scale=function(d){return arguments.length?(r(d),c()):r()},e.translate=function(d){return arguments.length?(i(d),c()):i()},e.center=function(d){return arguments.length?(n(d),c()):n()},e.clipExtent=function(d){return arguments.length?(d==null?o=s=u=f=null:(o=+d[0][0],s=+d[0][1],u=+d[1][0],f=+d[1][1]),c()):o==null?null:[[o,s],[u,f]]};function c(){var d=At*r(),p=e(IC(e.rotate()).invert([0,0]));return a(o==null?[[p[0]-d,p[1]-d],[p[0]+d,p[1]+d]]:t===Rl?[[Math.max(p[0]-d,o),s],[Math.min(p[0]+d,u),f]]:[[o,Math.max(p[1]-d,s)],[u,Math.min(p[1]+d,f)]])}return c()}function sf(t){return mm((ne+t)/2)}function rM(t,e){var n=st(t),r=t===e?it(t):Bc(n/st(e))/Bc(sf(e)/sf(t)),i=n*Gp(sf(t),r)/r;if(!r)return Rl;function a(o,s){i>0?s<-ne+ft&&(s=-ne+ft):s>ne-ft&&(s=ne-ft);var u=i/Gp(sf(s),r);return[u*it(r*o),i-u*st(r*o)]}return a.invert=function(o,s){var u=i-s,f=Mn(r)*ue(o*o+u*u),c=Fe(o,It(u))*Mn(u);return u*r<0&&(c-=At*Mn(o)*Mn(u)),[c/r,2*cs(Gp(i/f,1/r))-ne]},a}function FN(){return Cm(rM).scale(109.5).parallels([30,30])}function nl(t,e){return[t,e]}nl.invert=nl;function BN(){return vr(nl).scale(152.63)}function iM(t,e){var n=st(t),r=t===e?it(t):(n-st(e))/(e-t),i=n/r+t;if(It(r)<ft)return nl;function a(o,s){var u=i-s,f=r*o;return[u*it(f),i-u*st(f)]}return a.invert=function(o,s){var u=i-s,f=Fe(o,It(u))*Mn(u);return u*r<0&&(f-=At*Mn(o)*Mn(u)),[f/r,i-Mn(r)*ue(o*o+u*u)]},a}function zN(){return Cm(iM).scale(131.154).center([0,13.9389])}var Au=1.340264,Cu=-.081106,Mu=893e-6,Pu=.003796,lh=ue(3)/2,HN=12;function Lm(t,e){var n=Be(lh*it(e)),r=n*n,i=r*r*r;return[t*st(n)/(lh*(Au+3*Cu*r+i*(7*Mu+9*Pu*r))),n*(Au+Cu*r+i*(Mu+Pu*r))]}Lm.invert=function(t,e){for(var n=e,r=n*n,i=r*r*r,a=0,o,s,u;a<HN&&(s=n*(Au+Cu*r+i*(Mu+Pu*r))-e,u=Au+3*Cu*r+i*(7*Mu+9*Pu*r),n-=o=s/u,r=n*n,i=r*r*r,!(It(o)<Vc));++a);return[lh*t*(Au+3*Cu*r+i*(7*Mu+9*Pu*r))/st(n),Be(it(n)/lh)]};function YN(){return vr(Lm).scale(177.158)}function Dm(t,e){var n=st(e),r=st(t)*n;return[n*it(t)/r,it(e)/r]}Dm.invert=Il(cs);function XN(){return vr(Dm).scale(144.049).clipAngle(60)}function UN(){var t=1,e=0,n=0,r=1,i=1,a=0,o,s,u=null,f,c,d,p=1,v=1,y=El({point:function(A,L){var P=S([A,L]);this.stream.point(P[0],P[1])}}),x=tl,_,w;function b(){return p=t*r,v=t*i,_=w=null,S}function S(A){var L=A[0]*p,P=A[1]*v;if(a){var E=P*o-L*s;L=L*o+P*s,P=E}return[L+e,P+n]}return S.invert=function(A){var L=A[0]-e,P=A[1]-n;if(a){var E=P*o+L*s;L=L*o-P*s,P=E}return[L/p,P/v]},S.stream=function(A){return _&&w===A?_:_=y(x(w=A))},S.postclip=function(A){return arguments.length?(x=A,u=f=c=d=null,b()):x},S.clipExtent=function(A){return arguments.length?(x=A==null?(u=f=c=d=null,tl):dd(u=+A[0][0],f=+A[0][1],c=+A[1][0],d=+A[1][1]),b()):u==null?null:[[u,f],[c,d]]},S.scale=function(A){return arguments.length?(t=+A,b()):t},S.translate=function(A){return arguments.length?(e=+A[0],n=+A[1],b()):[e,n]},S.angle=function(A){return arguments.length?(a=A%360*ct,s=it(a),o=st(a),b()):a*Xt},S.reflectX=function(A){return arguments.length?(r=A?-1:1,b()):r<0},S.reflectY=function(A){return arguments.length?(i=A?-1:1,b()):i<0},S.fitExtent=function(A,L){return pd(S,A,L)},S.fitSize=function(A,L){return bm(S,A,L)},S.fitWidth=function(A,L){return Sm(S,A,L)},S.fitHeight=function(A,L){return Tm(S,A,L)},S}function Em(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),e*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}Em.invert=function(t,e){var n=e,r=25,i;do{var a=n*n,o=a*a;n-=i=(n*(1.007226+a*(.015085+o*(-.044475+.028874*a-.005916*o)))-e)/(1.007226+a*(.015085*3+o*(-.044475*7+.028874*9*a-.005916*11*o)))}while(It(i)>ft&&--r>0);return[t/(.8707+(a=n*n)*(-.131979+a*(-.013791+a*a*a*(.003971-.001529*a)))),n]};function WN(){return vr(Em).scale(175.295)}function Im(t,e){return[st(e)*it(t),it(e)]}Im.invert=Il(Be);function qN(){return vr(Im).scale(249.5).clipAngle(90+ft)}function Rm(t,e){var n=st(e),r=1+st(t)*n;return[n*it(t)/r,it(e)/r]}Rm.invert=Il(function(t){return 2*cs(t)});function ZN(){return vr(Rm).scale(250).clipAngle(142)}function km(t,e){return[Bc(mm((ne+e)/2)),-t]}km.invert=function(t,e){return[-e,2*cs(xC(t))-ne]};function QN(){var t=nM(km),e=t.center,n=t.rotate;return t.center=function(r){return arguments.length?e([-r[1],r[0]]):(r=e(),[r[1],-r[0]])},t.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}function KN(t,e){return t.parent===e.parent?1:2}function jN(t){return t.reduce(JN,0)/t.length}function JN(t,e){return t+e.x}function t$(t){return 1+t.reduce(e$,0)}function e$(t,e){return Math.max(t,e.y)}function n$(t){for(var e;e=t.children;)t=e[0];return t}function r$(t){for(var e;e=t.children;)t=e[e.length-1];return t}function i$(){var t=KN,e=1,n=1,r=!1;function i(a){var o,s=0;a.eachAfter(function(p){var v=p.children;v?(p.x=jN(v),p.y=t$(v)):(p.x=o?s+=t(p,o):0,p.y=0,o=p)});var u=n$(a),f=r$(a),c=u.x-t(u,f)/2,d=f.x+t(f,u)/2;return a.eachAfter(r?function(p){p.x=(p.x-a.x)*e,p.y=(a.y-p.y)*n}:function(p){p.x=(p.x-c)/(d-c)*e,p.y=(1-(a.y?p.y/a.y:1))*n})}return i.separation=function(a){return arguments.length?(t=a,i):t},i.size=function(a){return arguments.length?(r=!1,e=+a[0],n=+a[1],i):r?null:[e,n]},i.nodeSize=function(a){return arguments.length?(r=!0,e=+a[0],n=+a[1],i):r?[e,n]:null},i}function a$(t){var e=0,n=t.children,r=n&&n.length;if(!r)e=1;else for(;--r>=0;)e+=n[r].value;t.value=e}function o$(){return this.eachAfter(a$)}function s$(t){var e=this,n,r=[e],i,a,o;do for(n=r.reverse(),r=[];e=n.pop();)if(t(e),i=e.children,i)for(a=0,o=i.length;a<o;++a)r.push(i[a]);while(r.length);return this}function u$(t){for(var e=this,n=[e],r,i;e=n.pop();)if(t(e),r=e.children,r)for(i=r.length-1;i>=0;--i)n.push(r[i]);return this}function l$(t){for(var e=this,n=[e],r=[],i,a,o;e=n.pop();)if(r.push(e),i=e.children,i)for(a=0,o=i.length;a<o;++a)n.push(i[a]);for(;e=r.pop();)t(e);return this}function f$(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})}function c$(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function h$(t){for(var e=this,n=d$(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r}function d$(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}function p$(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function v$(){var t=[];return this.each(function(e){t.push(e)}),t}function g$(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function y$(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e}function Om(t,e){var n=new qo(t),r=+t.value&&(n.value=t.value),i,a=[n],o,s,u,f;for(e==null&&(e=_$);i=a.pop();)if(r&&(i.value=+i.data.value),(s=e(i.data))&&(f=s.length))for(i.children=new Array(f),u=f-1;u>=0;--u)a.push(o=i.children[u]=new qo(s[u])),o.parent=i,o.depth=i.depth+1;return n.eachBefore(aM)}function m$(){return Om(this).eachBefore(x$)}function _$(t){return t.children}function x$(t){t.data=t.data.data}function aM(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function qo(t){this.data=t,this.depth=this.height=0,this.parent=null}qo.prototype=Om.prototype={constructor:qo,count:o$,each:s$,eachAfter:l$,eachBefore:u$,sum:f$,sort:c$,path:h$,ancestors:p$,descendants:v$,leaves:g$,links:y$,copy:m$};var w$=Array.prototype.slice;function b$(t){for(var e=t.length,n,r;e;)r=Math.random()*e--|0,n=t[e],t[e]=t[r],t[r]=n;return t}function oM(t){for(var e=0,n=(t=b$(w$.call(t))).length,r=[],i,a;e<n;)i=t[e],a&&sM(a,i)?++e:(a=T$(r=S$(r,i)),e=0);return a}function S$(t,e){var n,r;if(Yp(e,t))return[e];for(n=0;n<t.length;++n)if(uf(e,t[n])&&Yp(uu(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(uf(uu(t[n],t[r]),e)&&uf(uu(t[n],e),t[r])&&uf(uu(t[r],e),t[n])&&Yp(uM(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function uf(t,e){var n=t.r-e.r,r=e.x-t.x,i=e.y-t.y;return n<0||n*n<r*r+i*i}function sM(t,e){var n=t.r-e.r+1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function Yp(t,e){for(var n=0;n<e.length;++n)if(!sM(t,e[n]))return!1;return!0}function T$(t){switch(t.length){case 1:return A$(t[0]);case 2:return uu(t[0],t[1]);case 3:return uM(t[0],t[1],t[2])}}function A$(t){return{x:t.x,y:t.y,r:t.r}}function uu(t,e){var n=t.x,r=t.y,i=t.r,a=e.x,o=e.y,s=e.r,u=a-n,f=o-r,c=s-i,d=Math.sqrt(u*u+f*f);return{x:(n+a+u/d*c)/2,y:(r+o+f/d*c)/2,r:(d+i+s)/2}}function uM(t,e,n){var r=t.x,i=t.y,a=t.r,o=e.x,s=e.y,u=e.r,f=n.x,c=n.y,d=n.r,p=r-o,v=r-f,y=i-s,x=i-c,_=u-a,w=d-a,b=r*r+i*i-a*a,S=b-o*o-s*s+u*u,A=b-f*f-c*c+d*d,L=v*y-p*x,P=(y*A-x*S)/(L*2)-r,E=(x*_-y*w)/L,O=(v*S-p*A)/(L*2)-i,R=(p*w-v*_)/L,C=E*E+R*R-1,N=2*(a+P*E+O*R),D=P*P+O*O-a*a,G=-(C?(N+Math.sqrt(N*N-4*C*D))/(2*C):D/N);return{x:r+P+E*G,y:i+O+R*G,r:G}}function Kx(t,e,n){var r=t.x-e.x,i,a,o=t.y-e.y,s,u,f=r*r+o*o;f?(a=e.r+n.r,a*=a,u=t.r+n.r,u*=u,a>u?(i=(f+u-a)/(2*f),s=Math.sqrt(Math.max(0,u/f-i*i)),n.x=t.x-i*r-s*o,n.y=t.y-i*o+s*r):(i=(f+a-u)/(2*f),s=Math.sqrt(Math.max(0,a/f-i*i)),n.x=e.x+i*r-s*o,n.y=e.y+i*o+s*r)):(n.x=e.x+n.r,n.y=e.y)}function jx(t,e){var n=t.r+e.r-1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function Jx(t){var e=t._,n=t.next._,r=e.r+n.r,i=(e.x*n.r+n.x*e.r)/r,a=(e.y*n.r+n.y*e.r)/r;return i*i+a*a}function lf(t){this._=t,this.next=null,this.previous=null}function lM(t){if(!(i=t.length))return 0;var e,n,r,i,a,o,s,u,f,c,d;if(e=t[0],e.x=0,e.y=0,!(i>1))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(i>2))return e.r+n.r;Kx(n,e,r=t[2]),e=new lf(e),n=new lf(n),r=new lf(r),e.next=r.previous=n,n.next=e.previous=r,r.next=n.previous=e;t:for(s=3;s<i;++s){Kx(e._,n._,r=t[s]),r=new lf(r),u=n.next,f=e.previous,c=n._.r,d=e._.r;do if(c<=d){if(jx(u._,r._)){n=u,e.next=n,n.previous=e,--s;continue t}c+=u._.r,u=u.next}else{if(jx(f._,r._)){e=f,e.next=n,n.previous=e,--s;continue t}d+=f._.r,f=f.previous}while(u!==f.next);for(r.previous=e,r.next=n,e.next=n.previous=n=r,a=Jx(e);(r=r.next)!==n;)(o=Jx(r))<a&&(e=r,a=o);n=e.next}for(e=[n._],r=n;(r=r.next)!==n;)e.push(r._);for(r=oM(e),s=0;s<i;++s)e=t[s],e.x-=r.x,e.y-=r.y;return r.r}function C$(t){return lM(t),t}function M$(t){return t==null?null:fh(t)}function fh(t){if(typeof t!="function")throw new Error;return t}function na(){return 0}function vo(t){return function(){return t}}function P$(t){return Math.sqrt(t.value)}function L$(){var t=null,e=1,n=1,r=na;function i(a){return a.x=e/2,a.y=n/2,t?a.eachBefore(tw(t)).eachAfter(Xp(r,.5)).eachBefore(ew(1)):a.eachBefore(tw(P$)).eachAfter(Xp(na,1)).eachAfter(Xp(r,a.r/Math.min(e,n))).eachBefore(ew(Math.min(e,n)/(2*a.r))),a}return i.radius=function(a){return arguments.length?(t=M$(a),i):t},i.size=function(a){return arguments.length?(e=+a[0],n=+a[1],i):[e,n]},i.padding=function(a){return arguments.length?(r=typeof a=="function"?a:vo(+a),i):r},i}function tw(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function Xp(t,e){return function(n){if(r=n.children){var r,i,a=r.length,o=t(n)*e||0,s;if(o)for(i=0;i<a;++i)r[i].r+=o;if(s=lM(r),o)for(i=0;i<a;++i)r[i].r-=o;n.r=s+o}}}function ew(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function fM(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function kl(t,e,n,r,i){for(var a=t.children,o,s=-1,u=a.length,f=t.value&&(r-e)/t.value;++s<u;)o=a[s],o.y0=n,o.y1=i,o.x0=e,o.x1=e+=o.value*f}function D$(){var t=1,e=1,n=0,r=!1;function i(o){var s=o.height+1;return o.x0=o.y0=n,o.x1=t,o.y1=e/s,o.eachBefore(a(e,s)),r&&o.eachBefore(fM),o}function a(o,s){return function(u){u.children&&kl(u,u.x0,o*(u.depth+1)/s,u.x1,o*(u.depth+2)/s);var f=u.x0,c=u.y0,d=u.x1-n,p=u.y1-n;d<f&&(f=d=(f+d)/2),p<c&&(c=p=(c+p)/2),u.x0=f,u.y0=c,u.x1=d,u.y1=p}}return i.round=function(o){return arguments.length?(r=!!o,i):r},i.size=function(o){return arguments.length?(t=+o[0],e=+o[1],i):[t,e]},i.padding=function(o){return arguments.length?(n=+o,i):n},i}var nw="$",E$={depth:-1},rw={};function I$(t){return t.id}function R$(t){return t.parentId}function k$(){var t=I$,e=R$;function n(r){var i,a,o=r.length,s,u,f,c=new Array(o),d,p,v={};for(a=0;a<o;++a)i=r[a],f=c[a]=new qo(i),(d=t(i,a,r))!=null&&(d+="")&&(p=nw+(f.id=d),v[p]=p in v?rw:f);for(a=0;a<o;++a)if(f=c[a],d=e(r[a],a,r),d==null||!(d+="")){if(s)throw new Error("multiple roots");s=f}else{if(u=v[nw+d],!u)throw new Error("missing: "+d);if(u===rw)throw new Error("ambiguous: "+d);u.children?u.children.push(f):u.children=[f],f.parent=u}if(!s)throw new Error("no root");if(s.parent=E$,s.eachBefore(function(y){y.depth=y.parent.depth+1,--o}).eachBefore(aM),s.parent=null,o>0)throw new Error("cycle");return s}return n.id=function(r){return arguments.length?(t=fh(r),n):t},n.parentId=function(r){return arguments.length?(e=fh(r),n):e},n}function O$(t,e){return t.parent===e.parent?1:2}function Up(t){var e=t.children;return e?e[0]:t.t}function Wp(t){var e=t.children;return e?e[e.length-1]:t.t}function N$(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function $$(t){for(var e=0,n=0,r=t.children,i=r.length,a;--i>=0;)a=r[i],a.z+=e,a.m+=e,e+=a.s+(n+=a.c)}function G$(t,e,n){return t.a.parent===e.parent?t.a:n}function cc(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}cc.prototype=Object.create(qo.prototype);function V$(t){for(var e=new cc(t,0),n,r=[e],i,a,o,s;n=r.pop();)if(a=n._.children)for(n.children=new Array(s=a.length),o=s-1;o>=0;--o)r.push(i=n.children[o]=new cc(a[o],o)),i.parent=n;return(e.parent=new cc(null,0)).children=[e],e}function F$(){var t=O$,e=1,n=1,r=null;function i(f){var c=V$(f);if(c.eachAfter(a),c.parent.m=-c.z,c.eachBefore(o),r)f.eachBefore(u);else{var d=f,p=f,v=f;f.eachBefore(function(b){b.x<d.x&&(d=b),b.x>p.x&&(p=b),b.depth>v.depth&&(v=b)});var y=d===p?1:t(d,p)/2,x=y-d.x,_=e/(p.x+y+x),w=n/(v.depth||1);f.eachBefore(function(b){b.x=(b.x+x)*_,b.y=b.depth*w})}return f}function a(f){var c=f.children,d=f.parent.children,p=f.i?d[f.i-1]:null;if(c){$$(f);var v=(c[0].z+c[c.length-1].z)/2;p?(f.z=p.z+t(f._,p._),f.m=f.z-v):f.z=v}else p&&(f.z=p.z+t(f._,p._));f.parent.A=s(f,p,f.parent.A||d[0])}function o(f){f._.x=f.z+f.parent.m,f.m+=f.parent.m}function s(f,c,d){if(c){for(var p=f,v=f,y=c,x=p.parent.children[0],_=p.m,w=v.m,b=y.m,S=x.m,A;y=Wp(y),p=Up(p),y&&p;)x=Up(x),v=Wp(v),v.a=f,A=y.z+b-p.z-_+t(y._,p._),A>0&&(N$(G$(y,f,d),f,A),_+=A,w+=A),b+=y.m,_+=p.m,S+=x.m,w+=v.m;y&&!Wp(v)&&(v.t=y,v.m+=b-w),p&&!Up(x)&&(x.t=p,x.m+=_-S,d=f)}return d}function u(f){f.x*=e,f.y=f.depth*n}return i.separation=function(f){return arguments.length?(t=f,i):t},i.size=function(f){return arguments.length?(r=!1,e=+f[0],n=+f[1],i):r?null:[e,n]},i.nodeSize=function(f){return arguments.length?(r=!0,e=+f[0],n=+f[1],i):r?[e,n]:null},i}function vd(t,e,n,r,i){for(var a=t.children,o,s=-1,u=a.length,f=t.value&&(i-n)/t.value;++s<u;)o=a[s],o.x0=e,o.x1=r,o.y0=n,o.y1=n+=o.value*f}var cM=(1+Math.sqrt(5))/2;function hM(t,e,n,r,i,a){for(var o=[],s=e.children,u,f,c=0,d=0,p=s.length,v,y,x=e.value,_,w,b,S,A,L,P;c<p;){v=i-n,y=a-r;do _=s[d++].value;while(!_&&d<p);for(w=b=_,L=Math.max(y/v,v/y)/(x*t),P=_*_*L,A=Math.max(b/P,P/w);d<p;++d){if(_+=f=s[d].value,f<w&&(w=f),f>b&&(b=f),P=_*_*L,S=Math.max(b/P,P/w),S>A){_-=f;break}A=S}o.push(u={value:_,dice:v<y,children:s.slice(c,d)}),u.dice?kl(u,n,r,i,x?r+=y*_/x:a):vd(u,n,r,x?n+=v*_/x:i,a),x-=_,c=d}return o}const dM=function t(e){function n(r,i,a,o,s){hM(e,r,i,a,o,s)}return n.ratio=function(r){return t((r=+r)>1?r:1)},n}(cM);function B$(){var t=dM,e=!1,n=1,r=1,i=[0],a=na,o=na,s=na,u=na,f=na;function c(p){return p.x0=p.y0=0,p.x1=n,p.y1=r,p.eachBefore(d),i=[0],e&&p.eachBefore(fM),p}function d(p){var v=i[p.depth],y=p.x0+v,x=p.y0+v,_=p.x1-v,w=p.y1-v;_<y&&(y=_=(y+_)/2),w<x&&(x=w=(x+w)/2),p.x0=y,p.y0=x,p.x1=_,p.y1=w,p.children&&(v=i[p.depth+1]=a(p)/2,y+=f(p)-v,x+=o(p)-v,_-=s(p)-v,w-=u(p)-v,_<y&&(y=_=(y+_)/2),w<x&&(x=w=(x+w)/2),t(p,y,x,_,w))}return c.round=function(p){return arguments.length?(e=!!p,c):e},c.size=function(p){return arguments.length?(n=+p[0],r=+p[1],c):[n,r]},c.tile=function(p){return arguments.length?(t=fh(p),c):t},c.padding=function(p){return arguments.length?c.paddingInner(p).paddingOuter(p):c.paddingInner()},c.paddingInner=function(p){return arguments.length?(a=typeof p=="function"?p:vo(+p),c):a},c.paddingOuter=function(p){return arguments.length?c.paddingTop(p).paddingRight(p).paddingBottom(p).paddingLeft(p):c.paddingTop()},c.paddingTop=function(p){return arguments.length?(o=typeof p=="function"?p:vo(+p),c):o},c.paddingRight=function(p){return arguments.length?(s=typeof p=="function"?p:vo(+p),c):s},c.paddingBottom=function(p){return arguments.length?(u=typeof p=="function"?p:vo(+p),c):u},c.paddingLeft=function(p){return arguments.length?(f=typeof p=="function"?p:vo(+p),c):f},c}function z$(t,e,n,r,i){var a=t.children,o,s=a.length,u,f=new Array(s+1);for(f[0]=u=o=0;o<s;++o)f[o+1]=u+=a[o].value;c(0,s,t.value,e,n,r,i);function c(d,p,v,y,x,_,w){if(d>=p-1){var b=a[d];b.x0=y,b.y0=x,b.x1=_,b.y1=w;return}for(var S=f[d],A=v/2+S,L=d+1,P=p-1;L<P;){var E=L+P>>>1;f[E]<A?L=E+1:P=E}A-f[L-1]<f[L]-A&&d+1<L&&--L;var O=f[L]-S,R=v-O;if(_-y>w-x){var C=(y*R+_*O)/v;c(d,L,O,y,x,C,w),c(L,p,R,C,x,_,w)}else{var N=(x*R+w*O)/v;c(d,L,O,y,x,_,N),c(L,p,R,y,N,_,w)}}}function H$(t,e,n,r,i){(t.depth&1?vd:kl)(t,e,n,r,i)}const Y$=function t(e){function n(r,i,a,o,s){if((u=r._squarify)&&u.ratio===e)for(var u,f,c,d,p=-1,v,y=u.length,x=r.value;++p<y;){for(f=u[p],c=f.children,d=f.value=0,v=c.length;d<v;++d)f.value+=c[d].value;f.dice?kl(f,i,a,o,a+=(s-a)*f.value/x):vd(f,i,a,i+=(o-i)*f.value/x,s),x-=f.value}else r._squarify=u=hM(e,r,i,a,o,s),u.ratio=e}return n.ratio=function(r){return t((r=+r)>1?r:1)},n}(cM);function X$(t){for(var e=-1,n=t.length,r,i=t[n-1],a=0;++e<n;)r=i,i=t[e],a+=r[1]*i[0]-r[0]*i[1];return a/2}function U$(t){for(var e=-1,n=t.length,r=0,i=0,a,o=t[n-1],s,u=0;++e<n;)a=o,o=t[e],u+=s=a[0]*o[1]-o[0]*a[1],r+=(a[0]+o[0])*s,i+=(a[1]+o[1])*s;return u*=3,[r/u,i/u]}function W$(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function q$(t,e){return t[0]-e[0]||t[1]-e[1]}function iw(t){for(var e=t.length,n=[0,1],r=2,i=2;i<e;++i){for(;r>1&&W$(t[n[r-2]],t[n[r-1]],t[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function Z$(t){if((n=t.length)<3)return null;var e,n,r=new Array(n),i=new Array(n);for(e=0;e<n;++e)r[e]=[+t[e][0],+t[e][1],e];for(r.sort(q$),e=0;e<n;++e)i[e]=[r[e][0],-r[e][1]];var a=iw(r),o=iw(i),s=o[0]===a[0],u=o[o.length-1]===a[a.length-1],f=[];for(e=a.length-1;e>=0;--e)f.push(t[r[a[e]][2]]);for(e=+s;e<o.length-u;++e)f.push(t[r[o[e]][2]]);return f}function Q$(t,e){for(var n=t.length,r=t[n-1],i=e[0],a=e[1],o=r[0],s=r[1],u,f,c=!1,d=0;d<n;++d)r=t[d],u=r[0],f=r[1],f>a!=s>a&&i<(o-u)*(a-f)/(s-f)+u&&(c=!c),o=u,s=f;return c}function K$(t){for(var e=-1,n=t.length,r=t[n-1],i,a,o=r[0],s=r[1],u=0;++e<n;)i=o,a=s,r=t[e],o=r[0],s=r[1],i-=o,a-=s,u+=Math.sqrt(i*i+a*a);return u}function hs(){return Math.random()}const j$=function t(e){function n(r,i){return r=r==null?0:+r,i=i==null?1:+i,arguments.length===1?(i=r,r=0):i-=r,function(){return e()*i+r}}return n.source=t,n}(hs),pM=function t(e){function n(r,i){var a,o;return r=r==null?0:+r,i=i==null?1:+i,function(){var s;if(a!=null)s=a,a=null;else do a=e()*2-1,s=e()*2-1,o=a*a+s*s;while(!o||o>1);return r+i*s*Math.sqrt(-2*Math.log(o)/o)}}return n.source=t,n}(hs),J$=function t(e){function n(){var r=pM.source(e).apply(this,arguments);return function(){return Math.exp(r())}}return n.source=t,n}(hs),vM=function t(e){function n(r){return function(){for(var i=0,a=0;a<r;++a)i+=e();return i}}return n.source=t,n}(hs),t7=function t(e){function n(r){var i=vM.source(e)(r);return function(){return i()/r}}return n.source=t,n}(hs),e7=function t(e){function n(r){return function(){return-Math.log(1-e())/r}}return n.source=t,n}(hs);function Hn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Gr(t,e){switch(arguments.length){case 0:break;case 1:this.interpolator(t);break;default:this.interpolator(e).domain(t);break}return this}var gM=Array.prototype,ch=gM.map,wa=gM.slice,x0={name:"implicit"};function Nm(){var t=Rr(),e=[],n=[],r=x0;function i(a){var o=a+"",s=t.get(o);if(!s){if(r!==x0)return r;t.set(o,s=e.push(a))}return n[(s-1)%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=Rr();for(var o=-1,s=a.length,u,f;++o<s;)t.has(f=(u=a[o])+"")||t.set(f,e.push(u));return i},i.range=function(a){return arguments.length?(n=wa.call(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Nm(e,n).unknown(r)},Hn.apply(i,arguments),i}function $m(){var t=Nm().unknown(void 0),e=t.domain,n=t.range,r=[0,1],i,a,o=!1,s=0,u=0,f=.5;delete t.unknown;function c(){var d=e().length,p=r[1]<r[0],v=r[p-0],y=r[1-p];i=(y-v)/Math.max(1,d-s+u*2),o&&(i=Math.floor(i)),v+=(y-v-i*(d-s))*f,a=i*(1-s),o&&(v=Math.round(v),a=Math.round(a));var x=ln(d).map(function(_){return v+i*_});return n(p?x.reverse():x)}return t.domain=function(d){return arguments.length?(e(d),c()):e()},t.range=function(d){return arguments.length?(r=[+d[0],+d[1]],c()):r.slice()},t.rangeRound=function(d){return r=[+d[0],+d[1]],o=!0,c()},t.bandwidth=function(){return a},t.step=function(){return i},t.round=function(d){return arguments.length?(o=!!d,c()):o},t.padding=function(d){return arguments.length?(s=Math.min(1,u=+d),c()):s},t.paddingInner=function(d){return arguments.length?(s=Math.min(1,d),c()):s},t.paddingOuter=function(d){return arguments.length?(u=+d,c()):u},t.align=function(d){return arguments.length?(f=Math.max(0,Math.min(1,d)),c()):f},t.copy=function(){return $m(e(),r).round(o).paddingInner(s).paddingOuter(u).align(f)},Hn.apply(c(),arguments)}function yM(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return yM(e())},t}function n7(){return yM($m.apply(null,arguments).paddingInner(1))}function r7(t){return function(){return t}}function w0(t){return+t}var aw=[0,1];function me(t){return t}function b0(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:r7(isNaN(e)?NaN:.5)}function ow(t){var e=t[0],n=t[t.length-1],r;return e>n&&(r=e,e=n,n=r),function(i){return Math.max(e,Math.min(n,i))}}function i7(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=b0(i,r),a=n(o,a)):(r=b0(r,i),a=n(a,o)),function(s){return a(r(s))}}function a7(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=b0(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(s){var u=hi(t,s,1,r)-1;return a[u](i[u](s))}}function Ol(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function gd(){var t=aw,e=aw,n=Ll,r,i,a,o=me,s,u,f;function c(){return s=Math.min(t.length,e.length)>2?a7:i7,u=f=null,d}function d(p){return isNaN(p=+p)?a:(u||(u=s(t.map(r),e,n)))(r(o(p)))}return d.invert=function(p){return o(i((f||(f=s(e,t.map(r),Sn)))(p)))},d.domain=function(p){return arguments.length?(t=ch.call(p,w0),o===me||(o=ow(t)),c()):t.slice()},d.range=function(p){return arguments.length?(e=wa.call(p),c()):e.slice()},d.rangeRound=function(p){return e=wa.call(p),n=FA,c()},d.clamp=function(p){return arguments.length?(o=p?ow(t):me,d):o!==me},d.interpolate=function(p){return arguments.length?(n=p,c()):n},d.unknown=function(p){return arguments.length?(a=p,d):a},function(p,v){return r=p,i=v,c()}}function mM(t,e){return gd()(t,e)}function _M(t,e,n,r){var i=va(t,e,n),a;switch(r=Ju(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=mC(i,o))&&(r.precision=a),ym(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=_C(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=yC(i))&&(r.precision=a-(r.type==="%")*2);break}}return hd(r)}function Va(t){var e=t.domain;return t.ticks=function(n){var r=e();return qy(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return _M(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],s=r[a],u;return s<o&&(u=o,o=s,s=u,u=i,i=a,a=u),u=Su(o,s,n),u>0?(o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u,u=Su(o,s,n)):u<0&&(o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u,u=Su(o,s,n)),u>0?(r[i]=Math.floor(o/u)*u,r[a]=Math.ceil(s/u)*u,e(r)):u<0&&(r[i]=Math.ceil(o*u)/u,r[a]=Math.floor(s*u)/u,e(r)),t},t}function xM(){var t=mM(me,me);return t.copy=function(){return Ol(t,xM())},Hn.apply(t,arguments),Va(t)}function wM(t){var e;function n(r){return isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=ch.call(r,w0),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return wM(t).unknown(e)},t=arguments.length?ch.call(t,w0):[0,1],Va(n)}function bM(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}function sw(t){return Math.log(t)}function uw(t){return Math.exp(t)}function o7(t){return-Math.log(-t)}function s7(t){return-Math.exp(-t)}function u7(t){return isFinite(t)?+("1e"+t):t<0?0:t}function l7(t){return t===10?u7:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}function f7(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}function lw(t){return function(e){return-t(-e)}}function Gm(t){var e=t(sw,uw),n=e.domain,r=10,i,a;function o(){return i=f7(r),a=l7(r),n()[0]<0?(i=lw(i),a=lw(a),t(o7,s7)):t(sw,uw),e}return e.base=function(s){return arguments.length?(r=+s,o()):r},e.domain=function(s){return arguments.length?(n(s),o()):n()},e.ticks=function(s){var u=n(),f=u[0],c=u[u.length-1],d;(d=c<f)&&(p=f,f=c,c=p);var p=i(f),v=i(c),y,x,_,w=s==null?10:+s,b=[];if(!(r%1)&&v-p<w){if(p=Math.round(p)-1,v=Math.round(v)+1,f>0){for(;p<v;++p)for(x=1,y=a(p);x<r;++x)if(_=y*x,!(_<f)){if(_>c)break;b.push(_)}}else for(;p<v;++p)for(x=r-1,y=a(p);x>=1;--x)if(_=y*x,!(_<f)){if(_>c)break;b.push(_)}}else b=qy(p,v,Math.min(v-p,w)).map(a);return d?b.reverse():b},e.tickFormat=function(s,u){if(u==null&&(u=r===10?".0e":","),typeof u!="function"&&(u=hd(u)),s===1/0)return u;s==null&&(s=10);var f=Math.max(1,r*s/e.ticks().length);return function(c){var d=c/a(Math.round(i(c)));return d*r<r-.5&&(d*=r),d<=f?u(c):""}},e.nice=function(){return n(bM(n(),{floor:function(s){return a(Math.floor(i(s)))},ceil:function(s){return a(Math.ceil(i(s)))}}))},e}function SM(){var t=Gm(gd()).domain([1,10]);return t.copy=function(){return Ol(t,SM()).base(t.base())},Hn.apply(t,arguments),t}function fw(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function cw(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Vm(t){var e=1,n=t(fw(e),cw(e));return n.constant=function(r){return arguments.length?t(fw(e=+r),cw(e)):e},Va(n)}function TM(){var t=Vm(gd());return t.copy=function(){return Ol(t,TM()).constant(t.constant())},Hn.apply(t,arguments)}function hw(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function c7(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function h7(t){return t<0?-t*t:t*t}function Fm(t){var e=t(me,me),n=1;function r(){return n===1?t(me,me):n===.5?t(c7,h7):t(hw(n),hw(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Va(e)}function Bm(){var t=Fm(gd());return t.copy=function(){return Ol(t,Bm()).exponent(t.exponent())},Hn.apply(t,arguments),t}function d7(){return Bm.apply(null,arguments).exponent(.5)}function AM(){var t=[],e=[],n=[],r;function i(){var o=0,s=Math.max(1,e.length);for(n=new Array(s-1);++o<s;)n[o-1]=Hu(t,o/s);return a}function a(o){return isNaN(o=+o)?r:e[hi(n,o)]}return a.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(var s=0,u=o.length,f;s<u;++s)f=o[s],f!=null&&!isNaN(f=+f)&&t.push(f);return t.sort(wi),i()},a.range=function(o){return arguments.length?(e=wa.call(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return AM().domain(t).range(e).unknown(r)},Hn.apply(a,arguments)}function CM(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function o(u){return u<=u?i[hi(r,u,0,n)]:a}function s(){var u=-1;for(r=new Array(n);++u<n;)r[u]=((u+1)*e-(u-n)*t)/(n+1);return o}return o.domain=function(u){return arguments.length?(t=+u[0],e=+u[1],s()):[t,e]},o.range=function(u){return arguments.length?(n=(i=wa.call(u)).length-1,s()):i.slice()},o.invertExtent=function(u){var f=i.indexOf(u);return f<0?[NaN,NaN]:f<1?[t,r[0]]:f>=n?[r[n-1],e]:[r[f-1],r[f]]},o.unknown=function(u){return arguments.length&&(a=u),o},o.thresholds=function(){return r.slice()},o.copy=function(){return CM().domain([t,e]).range(i).unknown(a)},Hn.apply(Va(o),arguments)}function MM(){var t=[.5],e=[0,1],n,r=1;function i(a){return a<=a?e[hi(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=wa.call(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=wa.call(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return MM().domain(t).range(e).unknown(n)},Hn.apply(i,arguments)}var qp=new Date,Zp=new Date;function he(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=function(a){return t(a=new Date(+a)),a},i.ceil=function(a){return t(a=new Date(a-1)),e(a,1),t(a),a},i.round=function(a){var o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=function(a,o){return e(a=new Date(+a),o==null?1:Math.floor(o)),a},i.range=function(a,o,s){var u=[],f;if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return u;do u.push(f=new Date(+a)),e(a,s),t(a);while(f<a&&a<o);return u},i.filter=function(a){return he(function(o){if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},function(o,s){if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););})},n&&(i.count=function(a,o){return qp.setTime(+a),Zp.setTime(+o),t(qp),t(Zp),Math.floor(n(qp,Zp))},i.every=function(a){return a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?function(o){return r(o)%a===0}:function(o){return i.count(0,o)%a===0}):i}),i}var hh=he(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});hh.every=function(t){return t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?he(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):hh};const dh=hh;var dw=hh.range,ph=1e3,ba=6e4,vh=36e5,PM=864e5,LM=6048e5,DM=he(function(t){t.setTime(t-t.getMilliseconds())},function(t,e){t.setTime(+t+e*ph)},function(t,e){return(e-t)/ph},function(t){return t.getUTCSeconds()});const gh=DM;var pw=DM.range,EM=he(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*ph)},function(t,e){t.setTime(+t+e*ba)},function(t,e){return(e-t)/ba},function(t){return t.getMinutes()});const IM=EM;var p7=EM.range,RM=he(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*ph-t.getMinutes()*ba)},function(t,e){t.setTime(+t+e*vh)},function(t,e){return(e-t)/vh},function(t){return t.getHours()});const kM=RM;var v7=RM.range,OM=he(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ba)/PM},function(t){return t.getDate()-1});const yd=OM;var g7=OM.range;function Fa(t){return he(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(e,n){e.setDate(e.getDate()+n*7)},function(e,n){return(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ba)/LM})}var rl=Fa(0),il=Fa(1),NM=Fa(2),$M=Fa(3),Sa=Fa(4),GM=Fa(5),VM=Fa(6),vw=rl.range,y7=il.range,m7=NM.range,_7=$M.range,x7=Sa.range,w7=GM.range,b7=VM.range,FM=he(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12},function(t){return t.getMonth()});const BM=FM;var S7=FM.range,zm=he(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});zm.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:he(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)})};const Ta=zm;var T7=zm.range,zM=he(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*ba)},function(t,e){return(e-t)/ba},function(t){return t.getUTCMinutes()});const HM=zM;var A7=zM.range,YM=he(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+e*vh)},function(t,e){return(e-t)/vh},function(t){return t.getUTCHours()});const XM=YM;var C7=YM.range,UM=he(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/PM},function(t){return t.getUTCDate()-1});const md=UM;var M7=UM.range;function Ba(t){return he(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCDate(e.getUTCDate()+n*7)},function(e,n){return(n-e)/LM})}var al=Ba(0),ol=Ba(1),WM=Ba(2),qM=Ba(3),Aa=Ba(4),ZM=Ba(5),QM=Ba(6),gw=al.range,P7=ol.range,L7=WM.range,D7=qM.range,E7=Aa.range,I7=ZM.range,R7=QM.range,KM=he(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12},function(t){return t.getUTCMonth()});const jM=KM;var k7=KM.range,Hm=he(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});Hm.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:he(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})};const Ca=Hm;var O7=Hm.range;function Qp(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Kp(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function As(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function JM(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,u=t.shortMonths,f=Cs(i),c=Ms(i),d=Cs(a),p=Ms(a),v=Cs(o),y=Ms(o),x=Cs(s),_=Ms(s),w=Cs(u),b=Ms(u),S={a:K,A:Q,b:l,B:h,c:null,d:bw,e:bw,f:i9,g:p9,G:g9,H:e9,I:n9,j:r9,L:tP,m:a9,M:o9,p:g,q:m,Q:Aw,s:Cw,S:s9,u:u9,U:l9,V:f9,w:c9,W:h9,x:null,X:null,y:d9,Y:v9,Z:y9,"%":Tw},A={a:T,A:M,b:I,B:k,c:null,d:Sw,e:Sw,f:w9,g:E9,G:R9,H:m9,I:_9,j:x9,L:nP,m:b9,M:S9,p:V,q:$,Q:Aw,s:Cw,S:T9,u:A9,U:C9,V:M9,w:P9,W:L9,x:null,X:null,y:D9,Y:I9,Z:k9,"%":Tw},L={a:C,A:N,b:D,B:G,c:X,d:xw,e:xw,f:K7,g:_w,G:mw,H:ww,I:ww,j:W7,L:Q7,m:U7,M:q7,p:R,q:X7,Q:J7,s:t9,S:Z7,u:F7,U:B7,V:z7,w:V7,W:H7,x:H,X:W,y:_w,Y:mw,Z:Y7,"%":j7};S.x=P(n,S),S.X=P(r,S),S.c=P(e,S),A.x=P(n,A),A.X=P(r,A),A.c=P(e,A);function P(F,z){return function(U){var B=[],Z=-1,q=0,j=F.length,J,dt,vt;for(U instanceof Date||(U=new Date(+U));++Z<j;)F.charCodeAt(Z)===37&&(B.push(F.slice(q,Z)),(dt=yw[J=F.charAt(++Z)])!=null?J=F.charAt(++Z):dt=J==="e"?" ":"0",(vt=z[J])&&(J=vt(U,dt)),B.push(J),q=Z+1);return B.push(F.slice(q,Z)),B.join("")}}function E(F,z){return function(U){var B=As(1900,void 0,1),Z=O(B,F,U+="",0),q,j;if(Z!=U.length)return null;if("Q"in B)return new Date(B.Q);if("s"in B)return new Date(B.s*1e3+("L"in B?B.L:0));if(z&&!("Z"in B)&&(B.Z=0),"p"in B&&(B.H=B.H%12+B.p*12),B.m===void 0&&(B.m="q"in B?B.q:0),"V"in B){if(B.V<1||B.V>53)return null;"w"in B||(B.w=1),"Z"in B?(q=Kp(As(B.y,0,1)),j=q.getUTCDay(),q=j>4||j===0?ol.ceil(q):ol(q),q=md.offset(q,(B.V-1)*7),B.y=q.getUTCFullYear(),B.m=q.getUTCMonth(),B.d=q.getUTCDate()+(B.w+6)%7):(q=Qp(As(B.y,0,1)),j=q.getDay(),q=j>4||j===0?il.ceil(q):il(q),q=yd.offset(q,(B.V-1)*7),B.y=q.getFullYear(),B.m=q.getMonth(),B.d=q.getDate()+(B.w+6)%7)}else("W"in B||"U"in B)&&("w"in B||(B.w="u"in B?B.u%7:"W"in B?1:0),j="Z"in B?Kp(As(B.y,0,1)).getUTCDay():Qp(As(B.y,0,1)).getDay(),B.m=0,B.d="W"in B?(B.w+6)%7+B.W*7-(j+5)%7:B.w+B.U*7-(j+6)%7);return"Z"in B?(B.H+=B.Z/100|0,B.M+=B.Z%100,Kp(B)):Qp(B)}}function O(F,z,U,B){for(var Z=0,q=z.length,j=U.length,J,dt;Z<q;){if(B>=j)return-1;if(J=z.charCodeAt(Z++),J===37){if(J=z.charAt(Z++),dt=L[J in yw?z.charAt(Z++):J],!dt||(B=dt(F,U,B))<0)return-1}else if(J!=U.charCodeAt(B++))return-1}return B}function R(F,z,U){var B=f.exec(z.slice(U));return B?(F.p=c[B[0].toLowerCase()],U+B[0].length):-1}function C(F,z,U){var B=v.exec(z.slice(U));return B?(F.w=y[B[0].toLowerCase()],U+B[0].length):-1}function N(F,z,U){var B=d.exec(z.slice(U));return B?(F.w=p[B[0].toLowerCase()],U+B[0].length):-1}function D(F,z,U){var B=w.exec(z.slice(U));return B?(F.m=b[B[0].toLowerCase()],U+B[0].length):-1}function G(F,z,U){var B=x.exec(z.slice(U));return B?(F.m=_[B[0].toLowerCase()],U+B[0].length):-1}function X(F,z,U){return O(F,e,z,U)}function H(F,z,U){return O(F,n,z,U)}function W(F,z,U){return O(F,r,z,U)}function K(F){return o[F.getDay()]}function Q(F){return a[F.getDay()]}function l(F){return u[F.getMonth()]}function h(F){return s[F.getMonth()]}function g(F){return i[+(F.getHours()>=12)]}function m(F){return 1+~~(F.getMonth()/3)}function T(F){return o[F.getUTCDay()]}function M(F){return a[F.getUTCDay()]}function I(F){return u[F.getUTCMonth()]}function k(F){return s[F.getUTCMonth()]}function V(F){return i[+(F.getUTCHours()>=12)]}function $(F){return 1+~~(F.getUTCMonth()/3)}return{format:function(F){var z=P(F+="",S);return z.toString=function(){return F},z},parse:function(F){var z=E(F+="",!1);return z.toString=function(){return F},z},utcFormat:function(F){var z=P(F+="",A);return z.toString=function(){return F},z},utcParse:function(F){var z=E(F+="",!0);return z.toString=function(){return F},z}}}var yw={"-":"",_:" ",0:"0"},ge=/^\s*\d+/,N7=/^%/,$7=/[\\^$*+?|[\]().{}]/g;function $t(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function G7(t){return t.replace($7,"\\$&")}function Cs(t){return new RegExp("^(?:"+t.map(G7).join("|")+")","i")}function Ms(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function V7(t,e,n){var r=ge.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function F7(t,e,n){var r=ge.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function B7(t,e,n){var r=ge.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function z7(t,e,n){var r=ge.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function H7(t,e,n){var r=ge.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function mw(t,e,n){var r=ge.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function _w(t,e,n){var r=ge.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Y7(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function X7(t,e,n){var r=ge.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function U7(t,e,n){var r=ge.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function xw(t,e,n){var r=ge.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function W7(t,e,n){var r=ge.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function ww(t,e,n){var r=ge.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function q7(t,e,n){var r=ge.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Z7(t,e,n){var r=ge.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Q7(t,e,n){var r=ge.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function K7(t,e,n){var r=ge.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function j7(t,e,n){var r=N7.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function J7(t,e,n){var r=ge.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function t9(t,e,n){var r=ge.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function bw(t,e){return $t(t.getDate(),e,2)}function e9(t,e){return $t(t.getHours(),e,2)}function n9(t,e){return $t(t.getHours()%12||12,e,2)}function r9(t,e){return $t(1+yd.count(Ta(t),t),e,3)}function tP(t,e){return $t(t.getMilliseconds(),e,3)}function i9(t,e){return tP(t,e)+"000"}function a9(t,e){return $t(t.getMonth()+1,e,2)}function o9(t,e){return $t(t.getMinutes(),e,2)}function s9(t,e){return $t(t.getSeconds(),e,2)}function u9(t){var e=t.getDay();return e===0?7:e}function l9(t,e){return $t(rl.count(Ta(t)-1,t),e,2)}function eP(t){var e=t.getDay();return e>=4||e===0?Sa(t):Sa.ceil(t)}function f9(t,e){return t=eP(t),$t(Sa.count(Ta(t),t)+(Ta(t).getDay()===4),e,2)}function c9(t){return t.getDay()}function h9(t,e){return $t(il.count(Ta(t)-1,t),e,2)}function d9(t,e){return $t(t.getFullYear()%100,e,2)}function p9(t,e){return t=eP(t),$t(t.getFullYear()%100,e,2)}function v9(t,e){return $t(t.getFullYear()%1e4,e,4)}function g9(t,e){var n=t.getDay();return t=n>=4||n===0?Sa(t):Sa.ceil(t),$t(t.getFullYear()%1e4,e,4)}function y9(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+$t(e/60|0,"0",2)+$t(e%60,"0",2)}function Sw(t,e){return $t(t.getUTCDate(),e,2)}function m9(t,e){return $t(t.getUTCHours(),e,2)}function _9(t,e){return $t(t.getUTCHours()%12||12,e,2)}function x9(t,e){return $t(1+md.count(Ca(t),t),e,3)}function nP(t,e){return $t(t.getUTCMilliseconds(),e,3)}function w9(t,e){return nP(t,e)+"000"}function b9(t,e){return $t(t.getUTCMonth()+1,e,2)}function S9(t,e){return $t(t.getUTCMinutes(),e,2)}function T9(t,e){return $t(t.getUTCSeconds(),e,2)}function A9(t){var e=t.getUTCDay();return e===0?7:e}function C9(t,e){return $t(al.count(Ca(t)-1,t),e,2)}function rP(t){var e=t.getUTCDay();return e>=4||e===0?Aa(t):Aa.ceil(t)}function M9(t,e){return t=rP(t),$t(Aa.count(Ca(t),t)+(Ca(t).getUTCDay()===4),e,2)}function P9(t){return t.getUTCDay()}function L9(t,e){return $t(ol.count(Ca(t)-1,t),e,2)}function D9(t,e){return $t(t.getUTCFullYear()%100,e,2)}function E9(t,e){return t=rP(t),$t(t.getUTCFullYear()%100,e,2)}function I9(t,e){return $t(t.getUTCFullYear()%1e4,e,4)}function R9(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Aa(t):Aa.ceil(t),$t(t.getUTCFullYear()%1e4,e,4)}function k9(){return"+0000"}function Tw(){return"%"}function Aw(t){return+t}function Cw(t){return Math.floor(+t/1e3)}var Qa,Ym,iP,_d,Xm;aP({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function aP(t){return Qa=JM(t),Ym=Qa.format,iP=Qa.parse,_d=Qa.utcFormat,Xm=Qa.utcParse,Qa}var oP="%Y-%m-%dT%H:%M:%S.%LZ";function O9(t){return t.toISOString()}var N9=Date.prototype.toISOString?O9:_d(oP);const $9=N9;function G9(t){var e=new Date(t);return isNaN(e)?null:e}var V9=+new Date("2000-01-01T00:00:00.000Z")?G9:Xm(oP);const F9=V9;var lu=1e3,fu=lu*60,cu=fu*60,sl=cu*24,B9=sl*7,Mw=sl*30,jp=sl*365;function z9(t){return new Date(t)}function H9(t){return t instanceof Date?+t:+new Date(+t)}function Um(t,e,n,r,i,a,o,s,u){var f=mM(me,me),c=f.invert,d=f.domain,p=u(".%L"),v=u(":%S"),y=u("%I:%M"),x=u("%I %p"),_=u("%a %d"),w=u("%b %d"),b=u("%B"),S=u("%Y"),A=[[o,1,lu],[o,5,5*lu],[o,15,15*lu],[o,30,30*lu],[a,1,fu],[a,5,5*fu],[a,15,15*fu],[a,30,30*fu],[i,1,cu],[i,3,3*cu],[i,6,6*cu],[i,12,12*cu],[r,1,sl],[r,2,2*sl],[n,1,B9],[e,1,Mw],[e,3,3*Mw],[t,1,jp]];function L(E){return(o(E)<E?p:a(E)<E?v:i(E)<E?y:r(E)<E?x:e(E)<E?n(E)<E?_:w:t(E)<E?b:S)(E)}function P(E,O,R,C){if(E==null&&(E=10),typeof E=="number"){var N=Math.abs(R-O)/E,D=Uy(function(G){return G[2]}).right(A,N);D===A.length?(C=va(O/jp,R/jp,E),E=t):D?(D=A[N/A[D-1][2]<A[D][2]/N?D-1:D],C=D[1],E=D[0]):(C=Math.max(va(O,R,E),1),E=s)}return C==null?E:E.every(C)}return f.invert=function(E){return new Date(c(E))},f.domain=function(E){return arguments.length?d(ch.call(E,H9)):d().map(z9)},f.ticks=function(E,O){var R=d(),C=R[0],N=R[R.length-1],D=N<C,G;return D&&(G=C,C=N,N=G),G=P(E,C,N,O),G=G?G.range(C,N+1):[],D?G.reverse():G},f.tickFormat=function(E,O){return O==null?L:u(O)},f.nice=function(E,O){var R=d();return(E=P(E,R[0],R[R.length-1],O))?d(bM(R,E)):f},f.copy=function(){return Ol(f,Um(t,e,n,r,i,a,o,s,u))},f}function Y9(){return Hn.apply(Um(Ta,BM,rl,yd,kM,IM,gh,dh,Ym).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function X9(){return Hn.apply(Um(Ca,jM,al,md,XM,HM,gh,dh,_d).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function xd(){var t=0,e=1,n,r,i,a,o=me,s=!1,u;function f(c){return isNaN(c=+c)?u:o(i===0?.5:(c=(a(c)-n)*i,s?Math.max(0,Math.min(1,c)):c))}return f.domain=function(c){return arguments.length?(n=a(t=+c[0]),r=a(e=+c[1]),i=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(c){return arguments.length?(s=!!c,f):s},f.interpolator=function(c){return arguments.length?(o=c,f):o},f.unknown=function(c){return arguments.length?(u=c,f):u},function(c){return a=c,n=c(t),r=c(e),i=n===r?0:1/(r-n),f}}function Ai(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function sP(){var t=Va(xd()(me));return t.copy=function(){return Ai(t,sP())},Gr.apply(t,arguments)}function uP(){var t=Gm(xd()).domain([1,10]);return t.copy=function(){return Ai(t,uP()).base(t.base())},Gr.apply(t,arguments)}function lP(){var t=Vm(xd());return t.copy=function(){return Ai(t,lP()).constant(t.constant())},Gr.apply(t,arguments)}function Wm(){var t=Fm(xd());return t.copy=function(){return Ai(t,Wm()).exponent(t.exponent())},Gr.apply(t,arguments)}function U9(){return Wm.apply(null,arguments).exponent(.5)}function fP(){var t=[],e=me;function n(r){if(!isNaN(r=+r))return e((hi(t,r)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(var i=0,a=r.length,o;i<a;++i)o=r[i],o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(wi),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return fP(e).domain(t)},Gr.apply(n,arguments)}function wd(){var t=0,e=.5,n=1,r,i,a,o,s,u=me,f,c=!1,d;function p(v){return isNaN(v=+v)?d:(v=.5+((v=+f(v))-i)*(v<i?o:s),u(c?Math.max(0,Math.min(1,v)):v))}return p.domain=function(v){return arguments.length?(r=f(t=+v[0]),i=f(e=+v[1]),a=f(n=+v[2]),o=r===i?0:.5/(i-r),s=i===a?0:.5/(a-i),p):[t,e,n]},p.clamp=function(v){return arguments.length?(c=!!v,p):c},p.interpolator=function(v){return arguments.length?(u=v,p):u},p.unknown=function(v){return arguments.length?(d=v,p):d},function(v){return f=v,r=v(t),i=v(e),a=v(n),o=r===i?0:.5/(i-r),s=i===a?0:.5/(a-i),p}}function cP(){var t=Va(wd()(me));return t.copy=function(){return Ai(t,cP())},Gr.apply(t,arguments)}function hP(){var t=Gm(wd()).domain([.1,1,10]);return t.copy=function(){return Ai(t,hP()).base(t.base())},Gr.apply(t,arguments)}function dP(){var t=Vm(wd());return t.copy=function(){return Ai(t,dP()).constant(t.constant())},Gr.apply(t,arguments)}function qm(){var t=Fm(wd());return t.copy=function(){return Ai(t,qm()).exponent(t.exponent())},Gr.apply(t,arguments)}function W9(){return qm.apply(null,arguments).exponent(.5)}function St(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(r*6,++r*6);return n}const q9=St("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Z9=St("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Q9=St("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),K9=St("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),j9=St("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),J9=St("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),tG=St("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),eG=St("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),nG=St("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),rG=St("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function Wt(t){return OA(t[t.length-1])}var pP=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(St);const iG=Wt(pP);var vP=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(St);const aG=Wt(vP);var gP=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(St);const oG=Wt(gP);var yP=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(St);const sG=Wt(yP);var mP=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(St);const uG=Wt(mP);var _P=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(St);const lG=Wt(_P);var xP=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(St);const fG=Wt(xP);var wP=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(St);const cG=Wt(wP);var bP=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(St);const hG=Wt(bP);var SP=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(St);const dG=Wt(SP);var TP=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(St);const pG=Wt(TP);var AP=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(St);const vG=Wt(AP);var CP=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(St);const gG=Wt(CP);var MP=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(St);const yG=Wt(MP);var PP=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(St);const mG=Wt(PP);var LP=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(St);const _G=Wt(LP);var DP=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(St);const xG=Wt(DP);var EP=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(St);const wG=Wt(EP);var IP=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(St);const bG=Wt(IP);var RP=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(St);const SG=Wt(RP);var kP=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(St);const TG=Wt(kP);var OP=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(St);const AG=Wt(OP);var NP=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(St);const CG=Wt(NP);var $P=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(St);const MG=Wt($P);var GP=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(St);const PG=Wt(GP);var VP=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(St);const LG=Wt(VP);var FP=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(St);const DG=Wt(FP);function EG(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}const IG=id(Bn(300,.5,0),Bn(-240,.5,1));var RG=id(Bn(-100,.75,.35),Bn(80,1.5,.8)),kG=id(Bn(260,.75,.35),Bn(80,1.5,.8)),ff=Bn();function OG(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return ff.h=360*t-100,ff.s=1.5-1.5*e,ff.l=.8-.9*e,ff+""}var cf=Bo(),NG=Math.PI/3,$G=Math.PI*2/3;function GG(t){var e;return t=(.5-t)*Math.PI,cf.r=255*(e=Math.sin(t))*e,cf.g=255*(e=Math.sin(t+NG))*e,cf.b=255*(e=Math.sin(t+$G))*e,cf+""}function VG(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function bd(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}const FG=bd(St("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var BG=bd(St("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),zG=bd(St("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),HG=bd(St("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Lt(t){return function(){return t}}var Pw=Math.abs,we=Math.atan2,Mi=Math.cos,YG=Math.max,Jp=Math.min,qn=Math.sin,xo=Math.sqrt,Te=1e-12,gi=Math.PI,yh=gi/2,ui=2*gi;function XG(t){return t>1?0:t<-1?gi:Math.acos(t)}function Lw(t){return t>=1?yh:t<=-1?-yh:Math.asin(t)}function UG(t){return t.innerRadius}function WG(t){return t.outerRadius}function qG(t){return t.startAngle}function ZG(t){return t.endAngle}function QG(t){return t&&t.padAngle}function KG(t,e,n,r,i,a,o,s){var u=n-t,f=r-e,c=o-i,d=s-a,p=d*u-c*f;if(!(p*p<Te))return p=(c*(e-a)-d*(t-i))/p,[t+p*u,e+p*f]}function hf(t,e,n,r,i,a,o){var s=t-n,u=e-r,f=(o?a:-a)/xo(s*s+u*u),c=f*u,d=-f*s,p=t+c,v=e+d,y=n+c,x=r+d,_=(p+y)/2,w=(v+x)/2,b=y-p,S=x-v,A=b*b+S*S,L=i-a,P=p*x-y*v,E=(S<0?-1:1)*xo(YG(0,L*L*A-P*P)),O=(P*S-b*E)/A,R=(-P*b-S*E)/A,C=(P*S+b*E)/A,N=(-P*b+S*E)/A,D=O-_,G=R-w,X=C-_,H=N-w;return D*D+G*G>X*X+H*H&&(O=C,R=N),{cx:O,cy:R,x01:-c,y01:-d,x11:O*(i/L-1),y11:R*(i/L-1)}}function jG(){var t=UG,e=WG,n=Lt(0),r=null,i=qG,a=ZG,o=QG,s=null;function u(){var f,c,d=+t.apply(this,arguments),p=+e.apply(this,arguments),v=i.apply(this,arguments)-yh,y=a.apply(this,arguments)-yh,x=Pw(y-v),_=y>v;if(s||(s=f=Si()),p<d&&(c=p,p=d,d=c),!(p>Te))s.moveTo(0,0);else if(x>ui-Te)s.moveTo(p*Mi(v),p*qn(v)),s.arc(0,0,p,v,y,!_),d>Te&&(s.moveTo(d*Mi(y),d*qn(y)),s.arc(0,0,d,y,v,_));else{var w=v,b=y,S=v,A=y,L=x,P=x,E=o.apply(this,arguments)/2,O=E>Te&&(r?+r.apply(this,arguments):xo(d*d+p*p)),R=Jp(Pw(p-d)/2,+n.apply(this,arguments)),C=R,N=R,D,G;if(O>Te){var X=Lw(O/d*qn(E)),H=Lw(O/p*qn(E));(L-=X*2)>Te?(X*=_?1:-1,S+=X,A-=X):(L=0,S=A=(v+y)/2),(P-=H*2)>Te?(H*=_?1:-1,w+=H,b-=H):(P=0,w=b=(v+y)/2)}var W=p*Mi(w),K=p*qn(w),Q=d*Mi(A),l=d*qn(A);if(R>Te){var h=p*Mi(b),g=p*qn(b),m=d*Mi(S),T=d*qn(S),M;if(x<gi&&(M=KG(W,K,m,T,h,g,Q,l))){var I=W-M[0],k=K-M[1],V=h-M[0],$=g-M[1],F=1/qn(XG((I*V+k*$)/(xo(I*I+k*k)*xo(V*V+$*$)))/2),z=xo(M[0]*M[0]+M[1]*M[1]);C=Jp(R,(d-z)/(F-1)),N=Jp(R,(p-z)/(F+1))}}P>Te?N>Te?(D=hf(m,T,W,K,p,N,_),G=hf(h,g,Q,l,p,N,_),s.moveTo(D.cx+D.x01,D.cy+D.y01),N<R?s.arc(D.cx,D.cy,N,we(D.y01,D.x01),we(G.y01,G.x01),!_):(s.arc(D.cx,D.cy,N,we(D.y01,D.x01),we(D.y11,D.x11),!_),s.arc(0,0,p,we(D.cy+D.y11,D.cx+D.x11),we(G.cy+G.y11,G.cx+G.x11),!_),s.arc(G.cx,G.cy,N,we(G.y11,G.x11),we(G.y01,G.x01),!_))):(s.moveTo(W,K),s.arc(0,0,p,w,b,!_)):s.moveTo(W,K),!(d>Te)||!(L>Te)?s.lineTo(Q,l):C>Te?(D=hf(Q,l,h,g,d,-C,_),G=hf(W,K,m,T,d,-C,_),s.lineTo(D.cx+D.x01,D.cy+D.y01),C<R?s.arc(D.cx,D.cy,C,we(D.y01,D.x01),we(G.y01,G.x01),!_):(s.arc(D.cx,D.cy,C,we(D.y01,D.x01),we(D.y11,D.x11),!_),s.arc(0,0,d,we(D.cy+D.y11,D.cx+D.x11),we(G.cy+G.y11,G.cx+G.x11),_),s.arc(G.cx,G.cy,C,we(G.y11,G.x11),we(G.y01,G.x01),!_))):s.arc(0,0,d,A,S,_)}if(s.closePath(),f)return s=null,f+""||null}return u.centroid=function(){var f=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,c=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-gi/2;return[Mi(c)*f,qn(c)*f]},u.innerRadius=function(f){return arguments.length?(t=typeof f=="function"?f:Lt(+f),u):t},u.outerRadius=function(f){return arguments.length?(e=typeof f=="function"?f:Lt(+f),u):e},u.cornerRadius=function(f){return arguments.length?(n=typeof f=="function"?f:Lt(+f),u):n},u.padRadius=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Lt(+f),u):r},u.startAngle=function(f){return arguments.length?(i=typeof f=="function"?f:Lt(+f),u):i},u.endAngle=function(f){return arguments.length?(a=typeof f=="function"?f:Lt(+f),u):a},u.padAngle=function(f){return arguments.length?(o=typeof f=="function"?f:Lt(+f),u):o},u.context=function(f){return arguments.length?(s=f??null,u):s},u}function BP(t){this._context=t}BP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Sd(t){return new BP(t)}function Zm(t){return t[0]}function Qm(t){return t[1]}function Km(){var t=Zm,e=Qm,n=Lt(!0),r=null,i=Sd,a=null;function o(s){var u,f=s.length,c,d=!1,p;for(r==null&&(a=i(p=Si())),u=0;u<=f;++u)!(u<f&&n(c=s[u],u,s))===d&&((d=!d)?a.lineStart():a.lineEnd()),d&&a.point(+t(c,u,s),+e(c,u,s));if(p)return a=null,p+""||null}return o.x=function(s){return arguments.length?(t=typeof s=="function"?s:Lt(+s),o):t},o.y=function(s){return arguments.length?(e=typeof s=="function"?s:Lt(+s),o):e},o.defined=function(s){return arguments.length?(n=typeof s=="function"?s:Lt(!!s),o):n},o.curve=function(s){return arguments.length?(i=s,r!=null&&(a=i(r)),o):i},o.context=function(s){return arguments.length?(s==null?r=a=null:a=i(r=s),o):r},o}function zP(){var t=Zm,e=null,n=Lt(0),r=Qm,i=Lt(!0),a=null,o=Sd,s=null;function u(c){var d,p,v,y=c.length,x,_=!1,w,b=new Array(y),S=new Array(y);for(a==null&&(s=o(w=Si())),d=0;d<=y;++d){if(!(d<y&&i(x=c[d],d,c))===_)if(_=!_)p=d,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),v=d-1;v>=p;--v)s.point(b[v],S[v]);s.lineEnd(),s.areaEnd()}_&&(b[d]=+t(x,d,c),S[d]=+n(x,d,c),s.point(e?+e(x,d,c):b[d],r?+r(x,d,c):S[d]))}if(w)return s=null,w+""||null}function f(){return Km().defined(i).curve(o).context(a)}return u.x=function(c){return arguments.length?(t=typeof c=="function"?c:Lt(+c),e=null,u):t},u.x0=function(c){return arguments.length?(t=typeof c=="function"?c:Lt(+c),u):t},u.x1=function(c){return arguments.length?(e=c==null?null:typeof c=="function"?c:Lt(+c),u):e},u.y=function(c){return arguments.length?(n=typeof c=="function"?c:Lt(+c),r=null,u):n},u.y0=function(c){return arguments.length?(n=typeof c=="function"?c:Lt(+c),u):n},u.y1=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:Lt(+c),u):r},u.lineX0=u.lineY0=function(){return f().x(t).y(n)},u.lineY1=function(){return f().x(t).y(r)},u.lineX1=function(){return f().x(e).y(n)},u.defined=function(c){return arguments.length?(i=typeof c=="function"?c:Lt(!!c),u):i},u.curve=function(c){return arguments.length?(o=c,a!=null&&(s=o(a)),u):o},u.context=function(c){return arguments.length?(c==null?a=s=null:s=o(a=c),u):a},u}function JG(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function tV(t){return t}function eV(){var t=tV,e=JG,n=null,r=Lt(0),i=Lt(ui),a=Lt(0);function o(s){var u,f=s.length,c,d,p=0,v=new Array(f),y=new Array(f),x=+r.apply(this,arguments),_=Math.min(ui,Math.max(-ui,i.apply(this,arguments)-x)),w,b=Math.min(Math.abs(_)/f,a.apply(this,arguments)),S=b*(_<0?-1:1),A;for(u=0;u<f;++u)(A=y[v[u]=u]=+t(s[u],u,s))>0&&(p+=A);for(e!=null?v.sort(function(L,P){return e(y[L],y[P])}):n!=null&&v.sort(function(L,P){return n(s[L],s[P])}),u=0,d=p?(_-f*S)/p:0;u<f;++u,x=w)c=v[u],A=y[c],w=x+(A>0?A*d:0)+S,y[c]={data:s[c],index:u,value:A,startAngle:x,endAngle:w,padAngle:b};return y}return o.value=function(s){return arguments.length?(t=typeof s=="function"?s:Lt(+s),o):t},o.sortValues=function(s){return arguments.length?(e=s,n=null,o):e},o.sort=function(s){return arguments.length?(n=s,e=null,o):n},o.startAngle=function(s){return arguments.length?(r=typeof s=="function"?s:Lt(+s),o):r},o.endAngle=function(s){return arguments.length?(i=typeof s=="function"?s:Lt(+s),o):i},o.padAngle=function(s){return arguments.length?(a=typeof s=="function"?s:Lt(+s),o):a},o}var HP=jm(Sd);function YP(t){this._curve=t}YP.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};function jm(t){function e(n){return new YP(t(n))}return e._curve=t,e}function hu(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(n){return arguments.length?e(jm(n)):e()._curve},t}function Dw(){return hu(Km().curve(HP))}function Ew(){var t=zP().curve(HP),e=t.curve,n=t.lineX0,r=t.lineX1,i=t.lineY0,a=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return hu(n())},delete t.lineX0,t.lineEndAngle=function(){return hu(r())},delete t.lineX1,t.lineInnerRadius=function(){return hu(i())},delete t.lineY0,t.lineOuterRadius=function(){return hu(a())},delete t.lineY1,t.curve=function(o){return arguments.length?e(jm(o)):e()._curve},t}function du(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}var S0=Array.prototype.slice;function nV(t){return t.source}function rV(t){return t.target}function Jm(t){var e=nV,n=rV,r=Zm,i=Qm,a=null;function o(){var s,u=S0.call(arguments),f=e.apply(this,u),c=n.apply(this,u);if(a||(a=s=Si()),t(a,+r.apply(this,(u[0]=f,u)),+i.apply(this,u),+r.apply(this,(u[0]=c,u)),+i.apply(this,u)),s)return a=null,s+""||null}return o.source=function(s){return arguments.length?(e=s,o):e},o.target=function(s){return arguments.length?(n=s,o):n},o.x=function(s){return arguments.length?(r=typeof s=="function"?s:Lt(+s),o):r},o.y=function(s){return arguments.length?(i=typeof s=="function"?s:Lt(+s),o):i},o.context=function(s){return arguments.length?(a=s??null,o):a},o}function iV(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e=(e+r)/2,n,e,i,r,i)}function aV(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+i)/2,r,n,r,i)}function oV(t,e,n,r,i){var a=du(e,n),o=du(e,n=(n+i)/2),s=du(r,n),u=du(r,i);t.moveTo(a[0],a[1]),t.bezierCurveTo(o[0],o[1],s[0],s[1],u[0],u[1])}function sV(){return Jm(iV)}function uV(){return Jm(aV)}function lV(){var t=Jm(oV);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}const t_={draw:function(t,e){var n=Math.sqrt(e/gi);t.moveTo(n,0),t.arc(0,0,n,0,ui)}},XP={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}};var UP=Math.sqrt(1/3),fV=UP*2;const WP={draw:function(t,e){var n=Math.sqrt(e/fV),r=n*UP;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}};var cV=.8908130915292852,qP=Math.sin(gi/10)/Math.sin(7*gi/10),hV=Math.sin(ui/10)*qP,dV=-Math.cos(ui/10)*qP;const ZP={draw:function(t,e){var n=Math.sqrt(e*cV),r=hV*n,i=dV*n;t.moveTo(0,-n),t.lineTo(r,i);for(var a=1;a<5;++a){var o=ui*a/5,s=Math.cos(o),u=Math.sin(o);t.lineTo(u*n,-s*n),t.lineTo(s*r-u*i,u*r+s*i)}t.closePath()}},QP={draw:function(t,e){var n=Math.sqrt(e),r=-n/2;t.rect(r,r,n,n)}};var tv=Math.sqrt(3);const KP={draw:function(t,e){var n=-Math.sqrt(e/(tv*3));t.moveTo(0,n*2),t.lineTo(-tv*n,-n),t.lineTo(tv*n,-n),t.closePath()}};var pn=-.5,vn=Math.sqrt(3)/2,T0=1/Math.sqrt(12),pV=(T0/2+1)*3;const jP={draw:function(t,e){var n=Math.sqrt(e/pV),r=n/2,i=n*T0,a=r,o=n*T0+n,s=-a,u=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(s,u),t.lineTo(pn*r-vn*i,vn*r+pn*i),t.lineTo(pn*a-vn*o,vn*a+pn*o),t.lineTo(pn*s-vn*u,vn*s+pn*u),t.lineTo(pn*r+vn*i,pn*i-vn*r),t.lineTo(pn*a+vn*o,pn*o-vn*a),t.lineTo(pn*s+vn*u,pn*u-vn*s),t.closePath()}};var vV=[t_,XP,WP,QP,ZP,KP,jP];function gV(){var t=Lt(t_),e=Lt(64),n=null;function r(){var i;if(n||(n=i=Si()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),i)return n=null,i+""||null}return r.type=function(i){return arguments.length?(t=typeof i=="function"?i:Lt(i),r):t},r.size=function(i){return arguments.length?(e=typeof i=="function"?i:Lt(+i),r):e},r.context=function(i){return arguments.length?(n=i??null,r):n},r}function yi(){}function mh(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Td(t){this._context=t}Td.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:mh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:mh(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function yV(t){return new Td(t)}function JP(t){this._context=t}JP.prototype={areaStart:yi,areaEnd:yi,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:mh(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function mV(t){return new JP(t)}function tL(t){this._context=t}tL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:mh(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function _V(t){return new tL(t)}function eL(t,e){this._basis=new Td(t),this._beta=e}eL.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r=t[0],i=e[0],a=t[n]-r,o=e[n]-i,s=-1,u;++s<=n;)u=s/n,this._basis.point(this._beta*t[s]+(1-this._beta)*(r+u*a),this._beta*e[s]+(1-this._beta)*(i+u*o));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const xV=function t(e){function n(r){return e===1?new Td(r):new eL(r,e)}return n.beta=function(r){return t(+r)},n}(.85);function _h(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function e_(t,e){this._context=t,this._k=(1-e)/6}e_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:_h(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:_h(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const wV=function t(e){function n(r){return new e_(r,e)}return n.tension=function(r){return t(+r)},n}(0);function n_(t,e){this._context=t,this._k=(1-e)/6}n_.prototype={areaStart:yi,areaEnd:yi,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:_h(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const bV=function t(e){function n(r){return new n_(r,e)}return n.tension=function(r){return t(+r)},n}(0);function r_(t,e){this._context=t,this._k=(1-e)/6}r_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:_h(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const SV=function t(e){function n(r){return new r_(r,e)}return n.tension=function(r){return t(+r)},n}(0);function i_(t,e,n){var r=t._x1,i=t._y1,a=t._x2,o=t._y2;if(t._l01_a>Te){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>Te){var f=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,c=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*f+t._x1*t._l23_2a-e*t._l12_2a)/c,o=(o*f+t._y1*t._l23_2a-n*t._l12_2a)/c}t._context.bezierCurveTo(r,i,a,o,t._x2,t._y2)}function nL(t,e){this._context=t,this._alpha=e}nL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:i_(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const TV=function t(e){function n(r){return e?new nL(r,e):new e_(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function rL(t,e){this._context=t,this._alpha=e}rL.prototype={areaStart:yi,areaEnd:yi,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:i_(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const AV=function t(e){function n(r){return e?new rL(r,e):new n_(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function iL(t,e){this._context=t,this._alpha=e}iL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:i_(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const CV=function t(e){function n(r){return e?new iL(r,e):new r_(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function aL(t){this._context=t}aL.prototype={areaStart:yi,areaEnd:yi,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function MV(t){return new aL(t)}function Iw(t){return t<0?-1:1}function Rw(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(Iw(a)+Iw(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function kw(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function ev(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-r)/3;t._context.bezierCurveTo(r+s,i+s*e,a-s,o-s*n,a,o)}function xh(t){this._context=t}xh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ev(this,this._t0,kw(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,ev(this,kw(this,n=Rw(this,t,e)),n);break;default:ev(this,this._t0,n=Rw(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function oL(t){this._context=new sL(t)}(oL.prototype=Object.create(xh.prototype)).point=function(t,e){xh.prototype.point.call(this,e,t)};function sL(t){this._context=t}sL.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function PV(t){return new xh(t)}function LV(t){return new oL(t)}function uL(t){this._context=t}uL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=Ow(t),i=Ow(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function Ow(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function DV(t){return new uL(t)}function Ad(t,e){this._context=t,this._t=e}Ad.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function EV(t){return new Ad(t,.5)}function IV(t){return new Ad(t,0)}function RV(t){return new Ad(t,1)}function Zo(t,e){if((o=t.length)>1)for(var n=1,r,i,a=t[e[0]],o,s=a.length;n<o;++n)for(i=a,a=t[e[n]],r=0;r<s;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Qo(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function kV(t,e){return t[e]}function OV(){var t=Lt([]),e=Qo,n=Zo,r=kV;function i(a){var o=t.apply(this,arguments),s,u=a.length,f=o.length,c=new Array(f),d;for(s=0;s<f;++s){for(var p=o[s],v=c[s]=new Array(u),y=0,x;y<u;++y)v[y]=x=[0,+r(a[y],p,y,a)],x.data=a[y];v.key=p}for(s=0,d=e(c);s<f;++s)c[d[s]].index=s;return n(c,d),c}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Lt(S0.call(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Lt(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?Qo:typeof a=="function"?a:Lt(S0.call(a)),i):e},i.offset=function(a){return arguments.length?(n=a??Zo,i):n},i}function NV(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}Zo(t,e)}}function $V(t,e){if((u=t.length)>0)for(var n,r=0,i,a,o,s,u,f=t[e[0]].length;r<f;++r)for(o=s=0,n=0;n<u;++n)(a=(i=t[e[n]][r])[1]-i[0])>0?(i[0]=o,i[1]=o+=a):a<0?(i[1]=s,i[0]=s+=a):(i[0]=0,i[1]=a)}function GV(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var o=0,s=0;o<i;++o)s+=t[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}Zo(t,e)}}function VV(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var s=0,u=0,f=0;s<o;++s){for(var c=t[e[s]],d=c[r][1]||0,p=c[r-1][1]||0,v=(d-p)/2,y=0;y<s;++y){var x=t[e[y]],_=x[r][1]||0,w=x[r-1][1]||0;v+=_-w}u+=d,f+=v*d}i[r-1][1]+=i[r-1][0]=n,u&&(n-=f/u)}i[r-1][1]+=i[r-1][0]=n,Zo(t,e)}}function lL(t){var e=t.map(FV);return Qo(t).sort(function(n,r){return e[n]-e[r]})}function FV(t){for(var e=-1,n=0,r=t.length,i,a=-1/0;++e<r;)(i=+t[e][1])>a&&(a=i,n=e);return n}function fL(t){var e=t.map(cL);return Qo(t).sort(function(n,r){return e[n]-e[r]})}function cL(t){for(var e=0,n=-1,r=t.length,i;++n<r;)(i=+t[n][1])&&(e+=i);return e}function BV(t){return fL(t).reverse()}function zV(t){var e=t.length,n,r,i=t.map(cL),a=lL(t),o=0,s=0,u=[],f=[];for(n=0;n<e;++n)r=a[n],o<s?(o+=i[r],u.push(r)):(s+=i[r],f.push(r));return f.reverse().concat(u)}function HV(t){return Qo(t).reverse()}function Nw(t){return function(){return t}}function YV(t){return t[0]}function XV(t){return t[1]}function wh(){this._=null}function Cd(t){t.U=t.C=t.L=t.R=t.P=t.N=null}wh.prototype={constructor:wh,insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=$w(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)r=n.U,n===r.L?(i=r.R,i&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(Ps(this,n),t=n,n=t.U),n.C=!1,r.C=!0,Ls(this,r))):(i=r.L,i&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(Ls(this,n),t=n,n=t.U),n.C=!1,r.C=!0,Ps(this,r))),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e=t.U,n,r=t.L,i=t.R,a,o;if(r?i?a=$w(i):a=r:a=i,e?e.L===t?e.L=a:e.R=a:this._=a,r&&i?(o=a.C,a.C=t.C,a.L=r,r.U=a,a!==i?(e=a.U,a.U=t.U,t=a.R,e.L=t,a.R=i,i.U=a):(a.U=e,e=a,t=a.R)):(o=t.C,t=a),t&&(t.U=e),!o){if(t&&t.C){t.C=!1;return}do{if(t===this._)break;if(t===e.L){if(n=e.R,n.C&&(n.C=!1,e.C=!0,Ps(this,e),n=e.R),n.L&&n.L.C||n.R&&n.R.C){(!n.R||!n.R.C)&&(n.L.C=!1,n.C=!0,Ls(this,n),n=e.R),n.C=e.C,e.C=n.R.C=!1,Ps(this,e),t=this._;break}}else if(n=e.L,n.C&&(n.C=!1,e.C=!0,Ls(this,e),n=e.L),n.L&&n.L.C||n.R&&n.R.C){(!n.L||!n.L.C)&&(n.R.C=!1,n.C=!0,Ps(this,n),n=e.L),n.C=e.C,e.C=n.L.C=!1,Ls(this,e),t=this._;break}n.C=!0,t=e,e=e.U}while(!t.C);t&&(t.C=!1)}}};function Ps(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function Ls(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function $w(t){for(;t.L;)t=t.L;return t}function pu(t,e,n,r){var i=[null,null],a=Ae.push(i)-1;return i.left=t,i.right=e,n&&bh(i,t,e,n),r&&bh(i,e,t,r),sn[t.index].halfedges.push(a),sn[e.index].halfedges.push(a),i}function Ds(t,e,n){var r=[e,n];return r.left=t,r}function bh(t,e,n,r){!t[0]&&!t[1]?(t[0]=r,t.left=e,t.right=n):t.left===n?t[1]=r:t[0]=r}function UV(t,e,n,r,i){var a=t[0],o=t[1],s=a[0],u=a[1],f=o[0],c=o[1],d=0,p=1,v=f-s,y=c-u,x;if(x=e-s,!(!v&&x>0)){if(x/=v,v<0){if(x<d)return;x<p&&(p=x)}else if(v>0){if(x>p)return;x>d&&(d=x)}if(x=r-s,!(!v&&x<0)){if(x/=v,v<0){if(x>p)return;x>d&&(d=x)}else if(v>0){if(x<d)return;x<p&&(p=x)}if(x=n-u,!(!y&&x>0)){if(x/=y,y<0){if(x<d)return;x<p&&(p=x)}else if(y>0){if(x>p)return;x>d&&(d=x)}if(x=i-u,!(!y&&x<0)){if(x/=y,y<0){if(x>p)return;x>d&&(d=x)}else if(y>0){if(x<d)return;x<p&&(p=x)}return!(d>0)&&!(p<1)||(d>0&&(t[0]=[s+d*v,u+d*y]),p<1&&(t[1]=[s+p*v,u+p*y])),!0}}}}}function WV(t,e,n,r,i){var a=t[1];if(a)return!0;var o=t[0],s=t.left,u=t.right,f=s[0],c=s[1],d=u[0],p=u[1],v=(f+d)/2,y=(c+p)/2,x,_;if(p===c){if(v<e||v>=r)return;if(f>d){if(!o)o=[v,n];else if(o[1]>=i)return;a=[v,i]}else{if(!o)o=[v,i];else if(o[1]<n)return;a=[v,n]}}else if(x=(f-d)/(p-c),_=y-x*v,x<-1||x>1)if(f>d){if(!o)o=[(n-_)/x,n];else if(o[1]>=i)return;a=[(i-_)/x,i]}else{if(!o)o=[(i-_)/x,i];else if(o[1]<n)return;a=[(n-_)/x,n]}else if(c<p){if(!o)o=[e,x*e+_];else if(o[0]>=r)return;a=[r,x*r+_]}else{if(!o)o=[r,x*r+_];else if(o[0]<e)return;a=[e,x*e+_]}return t[0]=o,t[1]=a,!0}function qV(t,e,n,r){for(var i=Ae.length,a;i--;)(!WV(a=Ae[i],t,e,n,r)||!UV(a,t,e,n,r)||!(Math.abs(a[0][0]-a[1][0])>Ht||Math.abs(a[0][1]-a[1][1])>Ht))&&delete Ae[i]}function ZV(t){return sn[t.index]={site:t,halfedges:[]}}function QV(t,e){var n=t.site,r=e.left,i=e.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=e[1],i=e[0]):(r=e[0],i=e[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function hL(t,e){return e[+(e.left!==t.site)]}function KV(t,e){return e[+(e.left===t.site)]}function jV(){for(var t=0,e=sn.length,n,r,i,a;t<e;++t)if((n=sn[t])&&(a=(r=n.halfedges).length)){var o=new Array(a),s=new Array(a);for(i=0;i<a;++i)o[i]=i,s[i]=QV(n,Ae[r[i]]);for(o.sort(function(u,f){return s[f]-s[u]}),i=0;i<a;++i)s[i]=r[o[i]];for(i=0;i<a;++i)r[i]=s[i]}}function JV(t,e,n,r){var i=sn.length,a,o,s,u,f,c,d,p,v,y,x,_,w=!0;for(a=0;a<i;++a)if(o=sn[a]){for(s=o.site,f=o.halfedges,u=f.length;u--;)Ae[f[u]]||f.splice(u,1);for(u=0,c=f.length;u<c;)y=KV(o,Ae[f[u]]),x=y[0],_=y[1],d=hL(o,Ae[f[++u%c]]),p=d[0],v=d[1],(Math.abs(x-p)>Ht||Math.abs(_-v)>Ht)&&(f.splice(u,0,Ae.push(Ds(s,y,Math.abs(x-t)<Ht&&r-_>Ht?[t,Math.abs(p-t)<Ht?v:r]:Math.abs(_-r)<Ht&&n-x>Ht?[Math.abs(v-r)<Ht?p:n,r]:Math.abs(x-n)<Ht&&_-e>Ht?[n,Math.abs(p-n)<Ht?v:e]:Math.abs(_-e)<Ht&&x-t>Ht?[Math.abs(v-e)<Ht?p:t,e]:null))-1),++c);c&&(w=!1)}if(w){var b,S,A,L=1/0;for(a=0,w=null;a<i;++a)(o=sn[a])&&(s=o.site,b=s[0]-t,S=s[1]-e,A=b*b+S*S,A<L&&(L=A,w=o));if(w){var P=[t,e],E=[t,r],O=[n,r],R=[n,e];w.halfedges.push(Ae.push(Ds(s=w.site,P,E))-1,Ae.push(Ds(s,E,O))-1,Ae.push(Ds(s,O,R))-1,Ae.push(Ds(s,R,P))-1)}}for(a=0;a<i;++a)(o=sn[a])&&(o.halfedges.length||delete sn[a])}var dL=[],a_;function tF(){Cd(this),this.x=this.y=this.arc=this.site=this.cy=null}function wo(t){var e=t.P,n=t.N;if(!(!e||!n)){var r=e.site,i=t.site,a=n.site;if(r!==a){var o=i[0],s=i[1],u=r[0]-o,f=r[1]-s,c=a[0]-o,d=a[1]-s,p=2*(u*d-f*c);if(!(p>=-aF)){var v=u*u+f*f,y=c*c+d*d,x=(d*v-f*y)/p,_=(u*y-c*v)/p,w=dL.pop()||new tF;w.arc=t,w.site=i,w.x=x+o,w.y=(w.cy=_+s)+Math.sqrt(x*x+_*_),t.circle=w;for(var b=null,S=ul._;S;)if(w.y<S.y||w.y===S.y&&w.x<=S.x)if(S.L)S=S.L;else{b=S.P;break}else if(S.R)S=S.R;else{b=S;break}ul.insert(b,w),b||(a_=w)}}}}function Io(t){var e=t.circle;e&&(e.P||(a_=e.N),ul.remove(e),dL.push(e),Cd(e),t.circle=null)}var pL=[];function eF(){Cd(this),this.edge=this.site=this.circle=null}function Gw(t){var e=pL.pop()||new eF;return e.site=t,e}function nv(t){Io(t),Ro.remove(t),pL.push(t),Cd(t)}function nF(t){var e=t.circle,n=e.x,r=e.cy,i=[n,r],a=t.P,o=t.N,s=[t];nv(t);for(var u=a;u.circle&&Math.abs(n-u.circle.x)<Ht&&Math.abs(r-u.circle.cy)<Ht;)a=u.P,s.unshift(u),nv(u),u=a;s.unshift(u),Io(u);for(var f=o;f.circle&&Math.abs(n-f.circle.x)<Ht&&Math.abs(r-f.circle.cy)<Ht;)o=f.N,s.push(f),nv(f),f=o;s.push(f),Io(f);var c=s.length,d;for(d=1;d<c;++d)f=s[d],u=s[d-1],bh(f.edge,u.site,f.site,i);u=s[0],f=s[c-1],f.edge=pu(u.site,f.site,null,i),wo(u),wo(f)}function rF(t){for(var e=t[0],n=t[1],r,i,a,o,s=Ro._;s;)if(a=vL(s,n)-e,a>Ht)s=s.L;else if(o=e-iF(s,n),o>Ht){if(!s.R){r=s;break}s=s.R}else{a>-Ht?(r=s.P,i=s):o>-Ht?(r=s,i=s.N):r=i=s;break}ZV(t);var u=Gw(t);if(Ro.insert(r,u),!(!r&&!i)){if(r===i){Io(r),i=Gw(r.site),Ro.insert(u,i),u.edge=i.edge=pu(r.site,u.site),wo(r),wo(i);return}if(!i){u.edge=pu(r.site,u.site);return}Io(r),Io(i);var f=r.site,c=f[0],d=f[1],p=t[0]-c,v=t[1]-d,y=i.site,x=y[0]-c,_=y[1]-d,w=2*(p*_-v*x),b=p*p+v*v,S=x*x+_*_,A=[(_*b-v*S)/w+c,(p*S-x*b)/w+d];bh(i.edge,f,y,A),u.edge=pu(f,t,null,A),i.edge=pu(t,y,null,A),wo(r),wo(i)}}function vL(t,e){var n=t.site,r=n[0],i=n[1],a=i-e;if(!a)return r;var o=t.P;if(!o)return-1/0;n=o.site;var s=n[0],u=n[1],f=u-e;if(!f)return s;var c=s-r,d=1/a-1/f,p=c/f;return d?(-p+Math.sqrt(p*p-2*d*(c*c/(-2*f)-u+f/2+i-a/2)))/d+r:(r+s)/2}function iF(t,e){var n=t.N;if(n)return vL(n,e);var r=t.site;return r[1]===e?r[0]:1/0}var Ht=1e-6,aF=1e-12,Ro,sn,ul,Ae;function oF(t,e,n){return(t[0]-n[0])*(e[1]-t[1])-(t[0]-e[0])*(n[1]-t[1])}function sF(t,e){return e[1]-t[1]||e[0]-t[0]}function A0(t,e){var n=t.sort(sF).pop(),r,i,a;for(Ae=[],sn=new Array(t.length),Ro=new wh,ul=new wh;;)if(a=a_,n&&(!a||n[1]<a.y||n[1]===a.y&&n[0]<a.x))(n[0]!==r||n[1]!==i)&&(rF(n),r=n[0],i=n[1]),n=t.pop();else if(a)nF(a.arc);else break;if(jV(),e){var o=+e[0][0],s=+e[0][1],u=+e[1][0],f=+e[1][1];qV(o,s,u,f),JV(o,s,u,f)}this.edges=Ae,this.cells=sn,Ro=ul=Ae=sn=null}A0.prototype={constructor:A0,polygons:function(){var t=this.edges;return this.cells.map(function(e){var n=e.halfedges.map(function(r){return hL(e,t[r])});return n.data=e.site.data,n})},triangles:function(){var t=[],e=this.edges;return this.cells.forEach(function(n,r){if(s=(a=n.halfedges).length)for(var i=n.site,a,o=-1,s,u,f=e[a[s-1]],c=f.left===i?f.right:f.left;++o<s;)u=c,f=e[a[o]],c=f.left===i?f.right:f.left,u&&c&&r<u.index&&r<c.index&&oF(i,u,c)<0&&t.push([i.data,u.data,c.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,e,n){for(var r=this,i,a=r._found||0,o=r.cells.length,s;!(s=r.cells[a]);)if(++a>=o)return null;var u=t-s.site[0],f=e-s.site[1],c=u*u+f*f;do s=r.cells[i=a],a=null,s.halfedges.forEach(function(d){var p=r.edges[d],v=p.left;if(!((v===s.site||!v)&&!(v=p.right))){var y=t-v[0],x=e-v[1],_=y*y+x*x;_<c&&(c=_,a=v.index)}});while(a!==null);return r._found=i,n==null||c<=n*n?s.site:null}};function uF(){var t=YV,e=XV,n=null;function r(i){return new A0(i.map(function(a,o){var s=[Math.round(t(a,o,i)/Ht)*Ht,Math.round(e(a,o,i)/Ht)*Ht];return s.index=o,s.data=a,s}),n)}return r.polygons=function(i){return r(i).polygons()},r.links=function(i){return r(i).links()},r.triangles=function(i){return r(i).triangles()},r.x=function(i){return arguments.length?(t=typeof i=="function"?i:Nw(+i),r):t},r.y=function(i){return arguments.length?(e=typeof i=="function"?i:Nw(+i),r):e},r.extent=function(i){return arguments.length?(n=i==null?null:[[+i[0][0],+i[0][1]],[+i[1][0],+i[1][1]]],r):n&&[[n[0][0],n[0][1]],[n[1][0],n[1][1]]]},r.size=function(i){return arguments.length?(n=i==null?null:[[0,0],[+i[0],+i[1]]],r):n&&[n[1][0]-n[0][0],n[1][1]-n[0][1]]},r}function df(t){return function(){return t}}function lF(t,e,n){this.target=t,this.type=e,this.transform=n}function Cr(t,e,n){this.k=t,this.x=e,this.y=n}Cr.prototype={constructor:Cr,scale:function(t){return t===1?this:new Cr(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Cr(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Md=new Cr(1,0,0);gL.prototype=Cr.prototype;function gL(t){for(;!t.__zoom;)if(!(t=t.parentNode))return Md;return t.__zoom}function rv(){rt.stopImmediatePropagation()}function Es(){rt.preventDefault(),rt.stopImmediatePropagation()}function fF(){return!rt.ctrlKey&&!rt.button}function cF(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Vw(){return this.__zoom||Md}function hF(){return-rt.deltaY*(rt.deltaMode===1?.05:rt.deltaMode?1:.002)}function dF(){return navigator.maxTouchPoints||"ontouchstart"in this}function pF(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],a=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}function vF(){var t=fF,e=cF,n=pF,r=hF,i=dF,a=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],s=250,u=XA,f=Oa("start","zoom","end"),c,d,p=500,v=150,y=0;function x(D){D.property("__zoom",Vw).on("wheel.zoom",P).on("mousedown.zoom",E).on("dblclick.zoom",O).filter(i).on("touchstart.zoom",R).on("touchmove.zoom",C).on("touchend.zoom touchcancel.zoom",N).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}x.transform=function(D,G,X){var H=D.selection?D.selection():D;H.property("__zoom",Vw),D!==H?S(D,G,X):H.interrupt().each(function(){A(this,arguments).start().zoom(null,typeof G=="function"?G.apply(this,arguments):G).end()})},x.scaleBy=function(D,G,X){x.scaleTo(D,function(){var H=this.__zoom.k,W=typeof G=="function"?G.apply(this,arguments):G;return H*W},X)},x.scaleTo=function(D,G,X){x.transform(D,function(){var H=e.apply(this,arguments),W=this.__zoom,K=X==null?b(H):typeof X=="function"?X.apply(this,arguments):X,Q=W.invert(K),l=typeof G=="function"?G.apply(this,arguments):G;return n(w(_(W,l),K,Q),H,o)},X)},x.translateBy=function(D,G,X){x.transform(D,function(){return n(this.__zoom.translate(typeof G=="function"?G.apply(this,arguments):G,typeof X=="function"?X.apply(this,arguments):X),e.apply(this,arguments),o)})},x.translateTo=function(D,G,X,H){x.transform(D,function(){var W=e.apply(this,arguments),K=this.__zoom,Q=H==null?b(W):typeof H=="function"?H.apply(this,arguments):H;return n(Md.translate(Q[0],Q[1]).scale(K.k).translate(typeof G=="function"?-G.apply(this,arguments):-G,typeof X=="function"?-X.apply(this,arguments):-X),W,o)},H)};function _(D,G){return G=Math.max(a[0],Math.min(a[1],G)),G===D.k?D:new Cr(G,D.x,D.y)}function w(D,G,X){var H=G[0]-X[0]*D.k,W=G[1]-X[1]*D.k;return H===D.x&&W===D.y?D:new Cr(D.k,H,W)}function b(D){return[(+D[0][0]+ +D[1][0])/2,(+D[0][1]+ +D[1][1])/2]}function S(D,G,X){D.on("start.zoom",function(){A(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){A(this,arguments).end()}).tween("zoom",function(){var H=this,W=arguments,K=A(H,W),Q=e.apply(H,W),l=X==null?b(Q):typeof X=="function"?X.apply(H,W):X,h=Math.max(Q[1][0]-Q[0][0],Q[1][1]-Q[0][1]),g=H.__zoom,m=typeof G=="function"?G.apply(H,W):G,T=u(g.invert(l).concat(h/g.k),m.invert(l).concat(h/m.k));return function(M){if(M===1)M=m;else{var I=T(M),k=h/I[2];M=new Cr(k,l[0]-I[0]*k,l[1]-I[1]*k)}K.zoom(null,M)}})}function A(D,G,X){return!X&&D.__zooming||new L(D,G)}function L(D,G){this.that=D,this.args=G,this.active=0,this.extent=e.apply(D,G),this.taps=0}L.prototype={start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(D,G){return this.mouse&&D!=="mouse"&&(this.mouse[1]=G.invert(this.mouse[0])),this.touch0&&D!=="touch"&&(this.touch0[1]=G.invert(this.touch0[0])),this.touch1&&D!=="touch"&&(this.touch1[1]=G.invert(this.touch1[0])),this.that.__zoom=G,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(D){Yu(new lF(x,D,this.that.__zoom),f.apply,f,[D,this.that,this.args])}};function P(){if(!t.apply(this,arguments))return;var D=A(this,arguments),G=this.__zoom,X=Math.max(a[0],Math.min(a[1],G.k*Math.pow(2,r.apply(this,arguments)))),H=aa(this);if(D.wheel)(D.mouse[0][0]!==H[0]||D.mouse[0][1]!==H[1])&&(D.mouse[1]=G.invert(D.mouse[0]=H)),clearTimeout(D.wheel);else{if(G.k===X)return;D.mouse=[H,G.invert(H)],fa(this),D.start()}Es(),D.wheel=setTimeout(W,v),D.zoom("mouse",n(w(_(G,X),D.mouse[0],D.mouse[1]),D.extent,o));function W(){D.wheel=null,D.end()}}function E(){if(d||!t.apply(this,arguments))return;var D=A(this,arguments,!0),G=tn(rt.view).on("mousemove.zoom",K,!0).on("mouseup.zoom",Q,!0),X=aa(this),H=rt.clientX,W=rt.clientY;Jh(rt.view),rv(),D.mouse=[X,this.__zoom.invert(X)],fa(this),D.start();function K(){if(Es(),!D.moved){var l=rt.clientX-H,h=rt.clientY-W;D.moved=l*l+h*h>y}D.zoom("mouse",n(w(D.that.__zoom,D.mouse[0]=aa(D.that),D.mouse[1]),D.extent,o))}function Q(){G.on("mousemove.zoom mouseup.zoom",null),td(rt.view,D.moved),Es(),D.end()}}function O(){if(t.apply(this,arguments)){var D=this.__zoom,G=aa(this),X=D.invert(G),H=D.k*(rt.shiftKey?.5:2),W=n(w(_(D,H),G,X),e.apply(this,arguments),o);Es(),s>0?tn(this).transition().duration(s).call(S,W,G):tn(this).call(x.transform,W)}}function R(){if(t.apply(this,arguments)){var D=rt.touches,G=D.length,X=A(this,arguments,rt.changedTouches.length===G),H,W,K,Q;for(rv(),W=0;W<G;++W)K=D[W],Q=Xu(this,D,K.identifier),Q=[Q,this.__zoom.invert(Q),K.identifier],X.touch0?!X.touch1&&X.touch0[2]!==Q[2]&&(X.touch1=Q,X.taps=0):(X.touch0=Q,H=!0,X.taps=1+!!c);c&&(c=clearTimeout(c)),H&&(X.taps<2&&(c=setTimeout(function(){c=null},p)),fa(this),X.start())}}function C(){if(this.__zooming){var D=A(this,arguments),G=rt.changedTouches,X=G.length,H,W,K,Q;for(Es(),c&&(c=clearTimeout(c)),D.taps=0,H=0;H<X;++H)W=G[H],K=Xu(this,G,W.identifier),D.touch0&&D.touch0[2]===W.identifier?D.touch0[0]=K:D.touch1&&D.touch1[2]===W.identifier&&(D.touch1[0]=K);if(W=D.that.__zoom,D.touch1){var l=D.touch0[0],h=D.touch0[1],g=D.touch1[0],m=D.touch1[1],T=(T=g[0]-l[0])*T+(T=g[1]-l[1])*T,M=(M=m[0]-h[0])*M+(M=m[1]-h[1])*M;W=_(W,Math.sqrt(T/M)),K=[(l[0]+g[0])/2,(l[1]+g[1])/2],Q=[(h[0]+m[0])/2,(h[1]+m[1])/2]}else if(D.touch0)K=D.touch0[0],Q=D.touch0[1];else return;D.zoom("touch",n(w(W,K,Q),D.extent,o))}}function N(){if(this.__zooming){var D=A(this,arguments),G=rt.changedTouches,X=G.length,H,W;for(rv(),d&&clearTimeout(d),d=setTimeout(function(){d=null},p),H=0;H<X;++H)W=G[H],D.touch0&&D.touch0[2]===W.identifier?delete D.touch0:D.touch1&&D.touch1[2]===W.identifier&&delete D.touch1;if(D.touch1&&!D.touch0&&(D.touch0=D.touch1,delete D.touch1),D.touch0)D.touch0[1]=this.__zoom.invert(D.touch0[0]);else if(D.end(),D.taps===2){var K=tn(this).on("dblclick.zoom");K&&K.apply(this,arguments)}}}return x.wheelDelta=function(D){return arguments.length?(r=typeof D=="function"?D:df(+D),x):r},x.filter=function(D){return arguments.length?(t=typeof D=="function"?D:df(!!D),x):t},x.touchable=function(D){return arguments.length?(i=typeof D=="function"?D:df(!!D),x):i},x.extent=function(D){return arguments.length?(e=typeof D=="function"?D:df([[+D[0][0],+D[0][1]],[+D[1][0],+D[1][1]]]),x):e},x.scaleExtent=function(D){return arguments.length?(a[0]=+D[0],a[1]=+D[1],x):[a[0],a[1]]},x.translateExtent=function(D){return arguments.length?(o[0][0]=+D[0][0],o[1][0]=+D[1][0],o[0][1]=+D[0][1],o[1][1]=+D[1][1],x):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},x.constrain=function(D){return arguments.length?(n=D,x):n},x.duration=function(D){return arguments.length?(s=+D,x):s},x.interpolate=function(D){return arguments.length?(u=D,x):u},x.on=function(){var D=f.on.apply(f,arguments);return D===f?x:D},x.clickDistance=function(D){return arguments.length?(y=(D=+D)*D,x):Math.sqrt(y)},x}const gF=Object.freeze(Object.defineProperty({__proto__:null,FormatSpecifier:cd,active:O4,arc:jG,area:zP,areaRadial:Ew,ascending:wi,autoType:V6,axisBottom:z5,axisLeft:H5,axisRight:B5,axisTop:F5,bisect:hi,bisectLeft:g5,bisectRight:hi,bisector:Uy,blob:z6,brush:q4,brushSelection:X4,brushX:U4,brushY:W4,buffer:Y6,chord:Q4,clientPoint:jh,cluster:i$,color:pi,contourDensity:S6,contours:uC,create:hk,creator:Qh,cross:m5,csv:W6,csvFormat:P6,csvFormatBody:L6,csvFormatRow:E6,csvFormatRows:D6,csvFormatValue:I6,csvParse:fC,csvParseRows:M6,cubehelix:Bn,curveBasis:yV,curveBasisClosed:mV,curveBasisOpen:_V,curveBundle:xV,curveCardinal:wV,curveCardinalClosed:bV,curveCardinalOpen:SV,curveCatmullRom:TV,curveCatmullRomClosed:AV,curveCatmullRomOpen:CV,curveLinear:Sd,curveLinearClosed:MV,curveMonotoneX:PV,curveMonotoneY:LV,curveNatural:DV,curveStep:EV,curveStepAfter:RV,curveStepBefore:IV,customEvent:Yu,descending:_5,deviation:iA,dispatch:Oa,drag:xk,dragDisable:Jh,dragEnable:td,dsv:U6,dsvFormat:ud,easeBack:K1,easeBackIn:P4,easeBackInOut:K1,easeBackOut:L4,easeBounce:Ku,easeBounceIn:C4,easeBounceInOut:M4,easeBounceOut:Ku,easeCircle:Q1,easeCircleIn:g4,easeCircleInOut:Q1,easeCircleOut:y4,easeCubic:Yg,easeCubicIn:u4,easeCubicInOut:Yg,easeCubicOut:l4,easeElastic:j1,easeElasticIn:D4,easeElasticInOut:E4,easeElasticOut:j1,easeExp:Z1,easeExpIn:p4,easeExpInOut:Z1,easeExpOut:v4,easeLinear:a4,easePoly:W1,easePolyIn:f4,easePolyInOut:W1,easePolyOut:c4,easeQuad:U1,easeQuadIn:o4,easeQuadInOut:U1,easeQuadOut:s4,easeSin:q1,easeSinIn:h4,easeSinInOut:q1,easeSinOut:d4,entries:f6,get event(){return rt},extent:Wy,forceCenter:e8,forceCollide:x8,forceLink:b8,forceManyBody:P8,forceRadial:L8,forceSimulation:M8,forceX:D8,forceY:E8,get format(){return hd},formatDefaultLocale:gC,formatLocale:vC,get formatPrefix(){return ym},formatSpecifier:Ju,geoAlbers:tM,geoAlbersUsa:NN,geoArea:B8,geoAzimuthalEqualArea:$N,geoAzimuthalEqualAreaRaw:Mm,geoAzimuthalEquidistant:GN,geoAzimuthalEquidistantRaw:Pm,geoBounds:X8,geoCentroid:K8,geoCircle:j8,geoClipAntimeridian:s0,geoClipCircle:GC,geoClipExtent:aN,geoClipRectangle:dd,geoConicConformal:FN,geoConicConformalRaw:rM,geoConicEqualArea:uh,geoConicEqualAreaRaw:JC,geoConicEquidistant:zN,geoConicEquidistantRaw:iM,geoContains:hN,geoDistance:th,geoEqualEarth:YN,geoEqualEarthRaw:Lm,geoEquirectangular:BN,geoEquirectangularRaw:nl,geoGnomonic:XN,geoGnomonicRaw:Dm,geoGraticule:BC,geoGraticule10:dN,geoIdentity:UN,geoInterpolate:pN,geoLength:VC,geoMercator:VN,geoMercatorRaw:Rl,geoNaturalEarth1:WN,geoNaturalEarth1Raw:Em,geoOrthographic:qN,geoOrthographicRaw:Im,geoPath:CN,geoProjection:vr,geoProjectionMutator:Am,geoRotation:IC,geoStereographic:ZN,geoStereographicRaw:Rm,geoStream:$n,geoTransform:MN,geoTransverseMercator:QN,geoTransverseMercatorRaw:km,gray:Dk,hcl:Ic,hierarchy:Om,histogram:S5,hsl:Lc,html:J6,image:Z6,interpolate:Ll,interpolateArray:Nk,interpolateBasis:EA,interpolateBasisClosed:IA,interpolateBlues:AG,interpolateBrBG:iG,interpolateBuGn:dG,interpolateBuPu:pG,interpolateCividis:EG,interpolateCool:kG,interpolateCubehelix:Kk,interpolateCubehelixDefault:IG,interpolateCubehelixLong:id,interpolateDate:GA,interpolateDiscrete:Vk,interpolateGnBu:vG,interpolateGreens:CG,interpolateGreys:MG,interpolateHcl:Zk,interpolateHclLong:Qk,interpolateHsl:Uk,interpolateHslLong:Wk,interpolateHue:Fk,interpolateInferno:zG,interpolateLab:qk,interpolateMagma:BG,interpolateNumber:Sn,interpolateNumberArray:om,interpolateObject:VA,interpolateOrRd:gG,interpolateOranges:DG,interpolatePRGn:aG,interpolatePiYG:oG,interpolatePlasma:HG,interpolatePuBu:mG,interpolatePuBuGn:yG,interpolatePuOr:sG,interpolatePuRd:_G,interpolatePurples:PG,interpolateRainbow:OG,interpolateRdBu:uG,interpolateRdGy:lG,interpolateRdPu:xG,interpolateRdYlBu:fG,interpolateRdYlGn:cG,interpolateReds:LG,interpolateRgb:qu,interpolateRgbBasis:OA,interpolateRgbBasisClosed:Ok,interpolateRound:FA,interpolateSinebow:GG,interpolateSpectral:hG,interpolateString:sm,interpolateTransformCss:HA,interpolateTransformSvg:YA,interpolateTurbo:VG,interpolateViridis:FG,interpolateWarm:RG,interpolateYlGn:bG,interpolateYlGnBu:wG,interpolateYlOrBr:SG,interpolateYlOrRd:TG,interpolateZoom:XA,interrupt:fa,interval:rO,isoFormat:$9,isoParse:F9,json:K6,keys:u6,lab:Ec,lch:Ek,line:Km,lineRadial:Dw,linkHorizontal:sV,linkRadial:lV,linkVertical:uV,local:yA,map:Rr,matcher:jy,max:oA,mean:C5,median:M5,merge:Qy,min:sA,mouse:aa,namespace:Ml,namespaces:kg,nest:a6,now:fs,pack:L$,packEnclose:oM,packSiblings:C$,pairs:y5,partition:D$,path:Si,permute:P5,pie:eV,piecewise:jk,pointRadial:du,polygonArea:X$,polygonCentroid:U$,polygonContains:Q$,polygonHull:Z$,polygonLength:K$,precisionFixed:yC,precisionPrefix:mC,precisionRound:_C,quadtree:fd,quantile:Hu,quantize:Jk,radialArea:Ew,radialLine:Dw,randomBates:t7,randomExponential:e7,randomIrwinHall:vM,randomLogNormal:J$,randomNormal:pM,randomUniform:j$,range:ln,rgb:Bo,ribbon:i6,scaleBand:$m,scaleDiverging:cP,scaleDivergingLog:hP,scaleDivergingPow:qm,scaleDivergingSqrt:W9,scaleDivergingSymlog:dP,scaleIdentity:wM,scaleImplicit:x0,scaleLinear:xM,scaleLog:SM,scaleOrdinal:Nm,scalePoint:n7,scalePow:Bm,scaleQuantile:AM,scaleQuantize:CM,scaleSequential:sP,scaleSequentialLog:uP,scaleSequentialPow:Wm,scaleSequentialQuantile:fP,scaleSequentialSqrt:U9,scaleSequentialSymlog:lP,scaleSqrt:d7,scaleSymlog:TM,scaleThreshold:MM,scaleTime:Y9,scaleUtc:X9,scan:L5,schemeAccent:Z9,schemeBlues:OP,schemeBrBG:pP,schemeBuGn:SP,schemeBuPu:TP,schemeCategory10:q9,schemeDark2:Q9,schemeGnBu:AP,schemeGreens:NP,schemeGreys:$P,schemeOrRd:CP,schemeOranges:FP,schemePRGn:vP,schemePaired:K9,schemePastel1:j9,schemePastel2:J9,schemePiYG:gP,schemePuBu:PP,schemePuBuGn:MP,schemePuOr:yP,schemePuRd:LP,schemePurples:GP,schemeRdBu:mP,schemeRdGy:_P,schemeRdPu:DP,schemeRdYlBu:xP,schemeRdYlGn:wP,schemeReds:VP,schemeSet1:tG,schemeSet2:eG,schemeSet3:nG,schemeSpectral:bP,schemeTableau10:rG,schemeYlGn:IP,schemeYlGnBu:EP,schemeYlOrBr:RP,schemeYlOrRd:kP,select:tn,selectAll:pk,selection:Na,selector:Kh,selectorAll:Ky,set:oC,shuffle:D5,stack:OV,stackOffsetDiverging:$V,stackOffsetExpand:NV,stackOffsetNone:Zo,stackOffsetSilhouette:GV,stackOffsetWiggle:VV,stackOrderAppearance:lL,stackOrderAscending:fL,stackOrderDescending:BV,stackOrderInsideOut:zV,stackOrderNone:Qo,stackOrderReverse:HV,stratify:k$,style:ga,sum:E5,svg:t8,symbol:gV,symbolCircle:t_,symbolCross:XP,symbolDiamond:WP,symbolSquare:QP,symbolStar:ZP,symbolTriangle:KP,symbolWye:jP,symbols:vV,text:ld,thresholdFreedmanDiaconis:T5,thresholdScott:A5,thresholdSturges:Zy,tickFormat:_M,tickIncrement:Su,tickStep:va,ticks:qy,timeDay:yd,timeDays:g7,get timeFormat(){return Ym},timeFormatDefaultLocale:aP,timeFormatLocale:JM,timeFriday:GM,timeFridays:w7,timeHour:kM,timeHours:v7,timeInterval:he,timeMillisecond:dh,timeMilliseconds:dw,timeMinute:IM,timeMinutes:p7,timeMonday:il,timeMondays:y7,timeMonth:BM,timeMonths:S7,get timeParse(){return iP},timeSaturday:VM,timeSaturdays:b7,timeSecond:gh,timeSeconds:pw,timeSunday:rl,timeSundays:vw,timeThursday:Sa,timeThursdays:x7,timeTuesday:NM,timeTuesdays:m7,timeWednesday:$M,timeWednesdays:_7,timeWeek:rl,timeWeeks:vw,timeYear:Ta,timeYears:T7,timeout:Fg,timer:od,timerFlush:KA,touch:Xu,touches:vk,transition:eC,transpose:uA,tree:F$,treemap:B$,treemapBinary:z$,treemapDice:kl,treemapResquarify:Y$,treemapSlice:vd,treemapSliceDice:H$,treemapSquarify:dM,tsv:q6,tsvFormat:k6,tsvFormatBody:O6,tsvFormatRow:$6,tsvFormatRows:N6,tsvFormatValue:G6,tsvParse:cC,tsvParseRows:R6,utcDay:md,utcDays:M7,get utcFormat(){return _d},utcFriday:ZM,utcFridays:I7,utcHour:XM,utcHours:C7,utcMillisecond:dh,utcMilliseconds:dw,utcMinute:HM,utcMinutes:A7,utcMonday:ol,utcMondays:P7,utcMonth:jM,utcMonths:k7,get utcParse(){return Xm},utcSaturday:QM,utcSaturdays:R7,utcSecond:gh,utcSeconds:pw,utcSunday:al,utcSundays:gw,utcThursday:Aa,utcThursdays:E7,utcTuesday:WM,utcTuesdays:L7,utcWednesday:qM,utcWednesdays:D7,utcWeek:al,utcWeeks:gw,utcYear:Ca,utcYears:O7,values:l6,variance:rA,version:p5,voronoi:uF,window:Jy,xml:j6,zip:R5,zoom:vF,zoomIdentity:Md,zoomTransform:gL},Symbol.toStringTag,{value:"Module"})),yF=jI(gF);/* @license C3.js v0.7.20 | (c) C3 Team and other contributors | http://c3js.org/ */(function(t,e){(function(n,r){t.exports=r()})(JI,function(){function n(l){var h=this;h.d3=window.d3?window.d3:typeof h5<"u"?yF:void 0,h.api=l,h.config=h.getDefaultConfig(),h.data={},h.cache={},h.axes={}}function r(l){this.internal=new n(this),this.internal.loadConfig(l),this.internal.beforeInit(l),this.internal.init(),this.internal.afterInit(l),function h(g,m,T){Object.keys(g).forEach(function(M){m[M]=g[M].bind(T),Object.keys(g[M]).length>0&&h(g[M],m[M],T)})}(r.prototype,this,this)}var i=function(l){return Math.ceil(l)+.5},a=function(l){return Math.ceil(l/10)*10},o=function(l){return l[1]-l[0]},s=function(l,h,g){return p(l[h])?l[h]:g},u=function(l){var h=f(l),g=[l.pathSegList.getItem(0),l.pathSegList.getItem(1)],m=g[0].x,T=Math.min(g[0].y,g[1].y);return{x:m,y:T,width:h.width,height:h.height}},f=function(l){try{return l.getBBox()}catch{return{x:0,y:0,width:0,height:0}}},c=function(l,h){var g=!1;return Object.keys(l).forEach(function(m){l[m]===h&&(g=!0)}),g},d=function(l){return Array.isArray(l)},p=function(l){return typeof l<"u"},v=function(l){return typeof l>"u"||l===null||_(l)&&l.length===0||typeof l=="object"&&Object.keys(l).length===0},y=function(l){return typeof l=="function"},x=function(l){return typeof l=="number"},_=function(l){return typeof l=="string"},w=function(l){return typeof l>"u"},b=function(l){return l||l===0},S=function(l){return!v(l)},A=function(l){return typeof l=="string"?l.replace(/</g,"&lt;").replace(/>/g,"&gt;"):l},L=function(l){return Array.isArray(l)?[].concat.apply([],l):[]},P=function(l,h,g){g===void 0&&(g=0);var m=h.x-g,T=h.x+h.width+g,M=h.y+h.height+g,I=h.y-g;return m<l[0]&&l[0]<T&&I<l[1]&&l[1]<M},E=function(l){typeof l>"u"&&(l=window.navigator.userAgent);var h=l.indexOf("MSIE ");return h>0?parseInt(l.substring(h+5,l.indexOf(".",h)),10):(h=l.indexOf("Trident/"),h>0?(h=l.indexOf("rv:"),parseInt(l.substring(h+3,l.indexOf(".",h)),10)):!1)},O=function(l){var h=E();return typeof l>"u"?!!h:l===h};function R(l,h){var g=this;g.component=l,g.params=h||{},g.d3=l.d3,g.scale=g.d3.scaleLinear(),g.range,g.orient="bottom",g.innerTickSize=6,g.outerTickSize=this.params.withOuterTick?6:0,g.tickPadding=3,g.tickValues=null,g.tickFormat,g.tickArguments,g.tickOffset=0,g.tickCulling=!0,g.tickCentered,g.tickTextCharSize,g.tickTextRotate=g.params.tickTextRotate,g.tickLength,g.axis=g.generateAxis()}R.prototype.axisX=function(l,h,g){l.attr("transform",function(m){return"translate("+Math.ceil(h(m)+g)+", 0)"})},R.prototype.axisY=function(l,h){l.attr("transform",function(g){return"translate(0,"+Math.ceil(h(g))+")"})},R.prototype.scaleExtent=function(l){var h=l[0],g=l[l.length-1];return h<g?[h,g]:[g,h]},R.prototype.generateTicks=function(l){var h=this,g,m,T=[];if(l.ticks)return l.ticks.apply(l,h.tickArguments);for(m=l.domain(),g=Math.ceil(m[0]);g<m[1];g++)T.push(g);return T.length>0&&T[0]>0&&T.unshift(T[0]-(T[1]-T[0])),T},R.prototype.copyScale=function(){var l=this,h=l.scale.copy(),g;return l.params.isCategory&&(g=l.scale.domain(),h.domain([g[0],g[1]-1])),h},R.prototype.textFormatted=function(l){var h=this,g=h.tickFormat?h.tickFormat(l):l;return typeof g<"u"?g:""},R.prototype.updateRange=function(){var l=this;return l.range=l.scale.rangeExtent?l.scale.rangeExtent():l.scaleExtent(l.scale.range()),l.range},R.prototype.updateTickTextCharSize=function(l){var h=this;if(h.tickTextCharSize)return h.tickTextCharSize;var g={h:11.5,w:5.5};return l.select("text").text(function(m){return h.textFormatted(m)}).each(function(m){var T=f(this),M=h.textFormatted(m),I=T.height,k=M?T.width/M.length:void 0;I&&k&&(g.h=I,g.w=k)}).text(""),h.tickTextCharSize=g,g},R.prototype.isVertical=function(){return this.orient==="left"||this.orient==="right"},R.prototype.tspanData=function(l,h,g){var m=this,T=m.params.tickMultiline?m.splitTickText(l,g):[].concat(m.textFormatted(l));return m.params.tickMultiline&&m.params.tickMultilineMax>0&&(T=m.ellipsify(T,m.params.tickMultilineMax)),T.map(function(M){return{index:h,splitted:M,length:T.length}})},R.prototype.splitTickText=function(l,h){var g=this,m=g.textFormatted(l),T=g.params.tickWidth,M,I,k,V=[];if(Object.prototype.toString.call(m)==="[object Array]")return m;(!T||T<=0)&&(T=g.isVertical()?95:g.params.isCategory?Math.ceil(h(1)-h(0))-12:110);function $(F,z){I=void 0;for(var U=1;U<z.length;U++)if(z.charAt(U)===" "&&(I=U),M=z.substr(0,U+1),k=g.tickTextCharSize.w*M.length,T<k)return $(F.concat(z.substr(0,I||U)),z.slice(I?I+1:U));return F.concat(z)}return $(V,m+"")},R.prototype.ellipsify=function(l,h){if(l.length<=h)return l;for(var g=l.slice(0,h),m=3,T=h-1;T>=0;T--){var M=g[T].length;if(g[T]=g[T].substr(0,M-m).padEnd(M,"."),m-=M,m<=0)break}return g},R.prototype.updateTickLength=function(){var l=this;l.tickLength=Math.max(l.innerTickSize,0)+l.tickPadding},R.prototype.lineY2=function(l){var h=this,g=h.scale(l)+(h.tickCentered?0:h.tickOffset);return h.range[0]<g&&g<h.range[1]?h.innerTickSize:0},R.prototype.textY=function(){var l=this,h=l.tickTextRotate;return h?11.5-2.5*(h/15)*(h>0?1:-1):l.tickLength},R.prototype.textTransform=function(){var l=this,h=l.tickTextRotate;return h?"rotate("+h+")":""},R.prototype.textTextAnchor=function(){var l=this,h=l.tickTextRotate;return h?h>0?"start":"end":"middle"},R.prototype.tspanDx=function(){var l=this,h=l.tickTextRotate;return h?8*Math.sin(Math.PI*(h/180)):0},R.prototype.tspanDy=function(l,h){var g=this,m=g.tickTextCharSize.h;return h===0&&(g.isVertical()?m=-((l.length-1)*(g.tickTextCharSize.h/2)-3):m=".71em"),m},R.prototype.generateAxis=function(){var l=this,h=l.d3,g=l.params;function m(T,M){var I;return T.each(function(){var k=m.g=h.select(this),V=this.__chart__||l.scale,$=this.__chart__=l.copyScale(),F=l.tickValues?l.tickValues:l.generateTicks($),z=k.selectAll(".tick").data(F,$),U=z.enter().insert("g",".domain").attr("class","tick").style("opacity",1e-6),B=z.exit().remove(),Z=z.merge(U),q,j,J;g.isCategory?(l.tickOffset=Math.ceil(($(1)-$(0))/2),j=l.tickCentered?0:l.tickOffset,J=l.tickCentered?l.tickOffset:0):l.tickOffset=j=0,l.updateRange(),l.updateTickLength(),l.updateTickTextCharSize(k.select(".tick"));var dt=Z.select("line").merge(U.append("line")),vt=Z.select("text").merge(U.append("text")),Dt=Z.selectAll("text").selectAll("tspan").data(function(ot,lt){return l.tspanData(ot,lt,$)}),Ft=Dt.enter().append("tspan"),Gt=Ft.merge(Dt).text(function(ot){return ot.splitted});Dt.exit().remove();var gt=k.selectAll(".domain").data([0]),Et=gt.enter().append("path").merge(gt).attr("class","domain");switch(l.orient){case"bottom":{q=l.axisX,dt.attr("x1",j).attr("x2",j).attr("y2",function(ot,lt){return l.lineY2(ot,lt)}),vt.attr("x",0).attr("y",function(ot,lt){return l.textY(ot,lt)}).attr("transform",function(ot,lt){return l.textTransform(ot,lt)}).style("text-anchor",function(ot,lt){return l.textTextAnchor(ot,lt)}),Gt.attr("x",0).attr("dy",function(ot,lt){return l.tspanDy(ot,lt)}).attr("dx",function(ot,lt){return l.tspanDx(ot,lt)}),Et.attr("d","M"+l.range[0]+","+l.outerTickSize+"V0H"+l.range[1]+"V"+l.outerTickSize);break}case"top":{q=l.axisX,dt.attr("x1",j).attr("x2",j).attr("y2",function(ot,lt){return-1*l.lineY2(ot,lt)}),vt.attr("x",0).attr("y",function(ot,lt){return-1*l.textY(ot,lt)-(g.isCategory?2:l.tickLength-2)}).attr("transform",function(ot,lt){return l.textTransform(ot,lt)}).style("text-anchor",function(ot,lt){return l.textTextAnchor(ot,lt)}),Gt.attr("x",0).attr("dy",function(ot,lt){return l.tspanDy(ot,lt)}).attr("dx",function(ot,lt){return l.tspanDx(ot,lt)}),Et.attr("d","M"+l.range[0]+","+-l.outerTickSize+"V0H"+l.range[1]+"V"+-l.outerTickSize);break}case"left":{q=l.axisY,dt.attr("x2",-l.innerTickSize).attr("y1",J).attr("y2",J),vt.attr("x",-l.tickLength).attr("y",l.tickOffset).style("text-anchor","end"),Gt.attr("x",-l.tickLength).attr("dy",function(ot,lt){return l.tspanDy(ot,lt)}),Et.attr("d","M"+-l.outerTickSize+","+l.range[0]+"H0V"+l.range[1]+"H"+-l.outerTickSize);break}case"right":{q=l.axisY,dt.attr("x2",l.innerTickSize).attr("y1",J).attr("y2",J),vt.attr("x",l.tickLength).attr("y",l.tickOffset).style("text-anchor","start"),Gt.attr("x",l.tickLength).attr("dy",function(ot,lt){return l.tspanDy(ot,lt)}),Et.attr("d","M"+l.outerTickSize+","+l.range[0]+"H0V"+l.range[1]+"H"+l.outerTickSize);break}}if($.rangeBand){var Pt=$,Tt=Pt.rangeBand()/2;V=$=function(ot){return Pt(ot)+Tt}}else V.rangeBand?V=$:B.call(q,$,l.tickOffset);U.call(q,V,l.tickOffset),I=(M?Z.transition(M):Z).style("opacity",1).call(q,$,l.tickOffset)}),I}return m.scale=function(T){return arguments.length?(l.scale=T,m):l.scale},m.orient=function(T){return arguments.length?(l.orient=T in{top:1,right:1,bottom:1,left:1}?T+"":"bottom",m):l.orient},m.tickFormat=function(T){return arguments.length?(l.tickFormat=T,m):l.tickFormat},m.tickCentered=function(T){return arguments.length?(l.tickCentered=T,m):l.tickCentered},m.tickOffset=function(){return l.tickOffset},m.tickInterval=function(){var T,M;return g.isCategory?T=l.tickOffset*2:(M=m.g.select("path.domain").node().getTotalLength()-l.outerTickSize*2,T=M/m.g.selectAll("line").size()),T===1/0?0:T},m.ticks=function(){return arguments.length?(l.tickArguments=arguments,m):l.tickArguments},m.tickCulling=function(T){return arguments.length?(l.tickCulling=T,m):l.tickCulling},m.tickValues=function(T){if(typeof T=="function")l.tickValues=function(){return T(l.scale.domain())};else{if(!arguments.length)return l.tickValues;l.tickValues=T}return m},m};var C={target:"c3-target",chart:"c3-chart",chartLine:"c3-chart-line",chartLines:"c3-chart-lines",chartBar:"c3-chart-bar",chartBars:"c3-chart-bars",chartText:"c3-chart-text",chartTexts:"c3-chart-texts",chartArc:"c3-chart-arc",chartArcs:"c3-chart-arcs",chartArcsTitle:"c3-chart-arcs-title",chartArcsBackground:"c3-chart-arcs-background",chartArcsGaugeUnit:"c3-chart-arcs-gauge-unit",chartArcsGaugeMax:"c3-chart-arcs-gauge-max",chartArcsGaugeMin:"c3-chart-arcs-gauge-min",selectedCircle:"c3-selected-circle",selectedCircles:"c3-selected-circles",eventRect:"c3-event-rect",eventRects:"c3-event-rects",eventRectsSingle:"c3-event-rects-single",eventRectsMultiple:"c3-event-rects-multiple",zoomRect:"c3-zoom-rect",brush:"c3-brush",dragZoom:"c3-drag-zoom",focused:"c3-focused",defocused:"c3-defocused",region:"c3-region",regions:"c3-regions",title:"c3-title",tooltipContainer:"c3-tooltip-container",tooltip:"c3-tooltip",tooltipName:"c3-tooltip-name",shape:"c3-shape",shapes:"c3-shapes",line:"c3-line",lines:"c3-lines",bar:"c3-bar",bars:"c3-bars",circle:"c3-circle",circles:"c3-circles",arc:"c3-arc",arcLabelLine:"c3-arc-label-line",arcs:"c3-arcs",area:"c3-area",areas:"c3-areas",empty:"c3-empty",text:"c3-text",texts:"c3-texts",gaugeValue:"c3-gauge-value",grid:"c3-grid",gridLines:"c3-grid-lines",xgrid:"c3-xgrid",xgrids:"c3-xgrids",xgridLine:"c3-xgrid-line",xgridLines:"c3-xgrid-lines",xgridFocus:"c3-xgrid-focus",ygrid:"c3-ygrid",ygrids:"c3-ygrids",ygridLine:"c3-ygrid-line",ygridLines:"c3-ygrid-lines",colorScale:"c3-colorscale",stanfordElements:"c3-stanford-elements",stanfordLine:"c3-stanford-line",stanfordLines:"c3-stanford-lines",stanfordRegion:"c3-stanford-region",stanfordRegions:"c3-stanford-regions",stanfordText:"c3-stanford-text",stanfordTexts:"c3-stanford-texts",axis:"c3-axis",axisX:"c3-axis-x",axisXLabel:"c3-axis-x-label",axisY:"c3-axis-y",axisYLabel:"c3-axis-y-label",axisY2:"c3-axis-y2",axisY2Label:"c3-axis-y2-label",legendBackground:"c3-legend-background",legendItem:"c3-legend-item",legendItemEvent:"c3-legend-item-event",legendItemTile:"c3-legend-item-tile",legendItemHidden:"c3-legend-item-hidden",legendItemFocused:"c3-legend-item-focused",dragarea:"c3-dragarea",EXPANDED:"_expanded_",SELECTED:"_selected_",INCLUDED:"_included_"},N=function(){function l(h){this.owner=h,this.d3=h.d3,this.internal=R}return l}(),D=N;D.prototype.init=function(){var h=this.owner,g=h.config,m=h.main;h.axes.x=m.append("g").attr("class",C.axis+" "+C.axisX).attr("clip-path",g.axis_x_inner?"":h.clipPathForXAxis).attr("transform",h.getTranslate("x")).style("visibility",g.axis_x_show?"visible":"hidden"),h.axes.x.append("text").attr("class",C.axisXLabel).attr("transform",g.axis_rotated?"rotate(-90)":"").style("text-anchor",this.textAnchorForXAxisLabel.bind(this)),h.axes.y=m.append("g").attr("class",C.axis+" "+C.axisY).attr("clip-path",g.axis_y_inner?"":h.clipPathForYAxis).attr("transform",h.getTranslate("y")).style("visibility",g.axis_y_show?"visible":"hidden"),h.axes.y.append("text").attr("class",C.axisYLabel).attr("transform",g.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForYAxisLabel.bind(this)),h.axes.y2=m.append("g").attr("class",C.axis+" "+C.axisY2).attr("transform",h.getTranslate("y2")).style("visibility",g.axis_y2_show?"visible":"hidden"),h.axes.y2.append("text").attr("class",C.axisY2Label).attr("transform",g.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForY2AxisLabel.bind(this))},D.prototype.getXAxis=function(h,g,m,T,M,I,k){var V=this.owner,$=V.config,F={isCategory:V.isCategorized(),withOuterTick:M,tickMultiline:$.axis_x_tick_multiline,tickMultilineMax:$.axis_x_tick_multiline?Number($.axis_x_tick_multilineMax):0,tickWidth:$.axis_x_tick_width,tickTextRotate:k?0:$.axis_x_tick_rotate,withoutTransition:I},z=new this.internal(this,F).axis.scale(h).orient(g);return V.isTimeSeries()&&T&&typeof T!="function"&&(T=T.map(function(U){return V.parseDate(U)})),z.tickFormat(m).tickValues(T),V.isCategorized()&&(z.tickCentered($.axis_x_tick_centered),v($.axis_x_tick_culling)&&($.axis_x_tick_culling=!1)),z},D.prototype.updateXAxisTickValues=function(h,g){var m=this.owner,T=m.config,M;return(T.axis_x_tick_fit||T.axis_x_tick_count)&&(M=this.generateTickValues(m.mapTargetsToUniqueXs(h),T.axis_x_tick_count,m.isTimeSeries())),g?g.tickValues(M):(m.xAxis.tickValues(M),m.subXAxis.tickValues(M)),M},D.prototype.getYAxis=function(h,g,m,T,M,I,k){var V=this.owner,$=V.config,F=$["axis_"+h+"_tick_format"];!F&&V.isAxisNormalized(h)&&(F=function(U){return U+"%"});var z=new this.internal(this,{withOuterTick:M,withoutTransition:I,tickTextRotate:k?0:$.axis_y_tick_rotate}).axis.scale(g).orient(m);return F&&z.tickFormat(F),V.isTimeSeriesY()?z.ticks($.axis_y_tick_time_type,$.axis_y_tick_time_interval):z.tickValues(T),z},D.prototype.getId=function(h){var g=this.owner.config;return h in g.data_axes?g.data_axes[h]:"y"},D.prototype.getXAxisTickFormat=function(){var h=this.owner,g=h.config,m=h.isTimeSeries()?h.defaultAxisTimeFormat:h.isCategorized()?h.categoryName:function(T){return T};return g.axis_x_tick_format&&(y(g.axis_x_tick_format)?m=g.axis_x_tick_format:h.isTimeSeries()&&(m=function(T){return T?h.axisTimeFormat(g.axis_x_tick_format)(T):""})),y(m)?function(T){return m.call(h,T)}:m},D.prototype.getTickValues=function(h,g){return h||(g?g.tickValues():void 0)},D.prototype.getXAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_x_tick_values,this.owner.xAxis)},D.prototype.getYAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y_tick_values,this.owner.yAxis)},D.prototype.getY2AxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y2_tick_values,this.owner.y2Axis)},D.prototype.getLabelOptionByAxisId=function(h){var g=this.owner,m=g.config,T;return h==="y"?T=m.axis_y_label:h==="y2"?T=m.axis_y2_label:h==="x"&&(T=m.axis_x_label),T},D.prototype.getLabelText=function(h){var g=this.getLabelOptionByAxisId(h);return _(g)?g:g?g.text:null},D.prototype.setLabelText=function(h,g){var m=this.owner,T=m.config,M=this.getLabelOptionByAxisId(h);_(M)?h==="y"?T.axis_y_label=g:h==="y2"?T.axis_y2_label=g:h==="x"&&(T.axis_x_label=g):M&&(M.text=g)},D.prototype.getLabelPosition=function(h,g){var m=this.getLabelOptionByAxisId(h),T=m&&typeof m=="object"&&m.position?m.position:g;return{isInner:T.indexOf("inner")>=0,isOuter:T.indexOf("outer")>=0,isLeft:T.indexOf("left")>=0,isCenter:T.indexOf("center")>=0,isRight:T.indexOf("right")>=0,isTop:T.indexOf("top")>=0,isMiddle:T.indexOf("middle")>=0,isBottom:T.indexOf("bottom")>=0}},D.prototype.getXAxisLabelPosition=function(){return this.getLabelPosition("x",this.owner.config.axis_rotated?"inner-top":"inner-right")},D.prototype.getYAxisLabelPosition=function(){return this.getLabelPosition("y",this.owner.config.axis_rotated?"inner-right":"inner-top")},D.prototype.getY2AxisLabelPosition=function(){return this.getLabelPosition("y2",this.owner.config.axis_rotated?"inner-right":"inner-top")},D.prototype.getLabelPositionById=function(h){return h==="y2"?this.getY2AxisLabelPosition():h==="y"?this.getYAxisLabelPosition():this.getXAxisLabelPosition()},D.prototype.textForXAxisLabel=function(){return this.getLabelText("x")},D.prototype.textForYAxisLabel=function(){return this.getLabelText("y")},D.prototype.textForY2AxisLabel=function(){return this.getLabelText("y2")},D.prototype.xForAxisLabel=function(h,g){var m=this.owner;return h?g.isLeft?0:g.isCenter?m.width/2:m.width:g.isBottom?-m.height:g.isMiddle?-m.height/2:0},D.prototype.dxForAxisLabel=function(h,g){return h?g.isLeft?"0.5em":g.isRight?"-0.5em":"0":g.isTop?"-0.5em":g.isBottom?"0.5em":"0"},D.prototype.textAnchorForAxisLabel=function(h,g){return h?g.isLeft?"start":g.isCenter?"middle":"end":g.isBottom?"start":g.isMiddle?"middle":"end"},D.prototype.xForXAxisLabel=function(){return this.xForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},D.prototype.xForYAxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},D.prototype.xForY2AxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},D.prototype.dxForXAxisLabel=function(){return this.dxForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},D.prototype.dxForYAxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},D.prototype.dxForY2AxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},D.prototype.dyForXAxisLabel=function(){var h=this.owner,g=h.config,m=this.getXAxisLabelPosition();return g.axis_rotated?m.isInner?"1.2em":-25-(h.config.axis_x_inner?0:this.getMaxTickWidth("x")):m.isInner?"-0.5em":h.getHorizontalAxisHeight("x")-10},D.prototype.dyForYAxisLabel=function(){var h=this.owner,g=this.getYAxisLabelPosition();return h.config.axis_rotated?g.isInner?"-0.5em":"3em":g.isInner?"1.2em":-10-(h.config.axis_y_inner?0:this.getMaxTickWidth("y")+10)},D.prototype.dyForY2AxisLabel=function(){var h=this.owner,g=this.getY2AxisLabelPosition();return h.config.axis_rotated?g.isInner?"1.2em":"-2.2em":g.isInner?"-0.5em":15+(h.config.axis_y2_inner?0:this.getMaxTickWidth("y2")+15)},D.prototype.textAnchorForXAxisLabel=function(){var h=this.owner;return this.textAnchorForAxisLabel(!h.config.axis_rotated,this.getXAxisLabelPosition())},D.prototype.textAnchorForYAxisLabel=function(){var h=this.owner;return this.textAnchorForAxisLabel(h.config.axis_rotated,this.getYAxisLabelPosition())},D.prototype.textAnchorForY2AxisLabel=function(){var h=this.owner;return this.textAnchorForAxisLabel(h.config.axis_rotated,this.getY2AxisLabelPosition())},D.prototype.getMaxTickWidth=function(h,g){var m=this.owner,T=0,M,I,k,V,$;return g&&m.currentMaxTickWidths[h]||(m.svg&&(M=m.filterTargetsToShow(m.data.targets),h==="y"?(I=m.y.copy().domain(m.getYDomain(M,"y")),k=this.getYAxis(h,I,m.yOrient,m.yAxisTickValues,!1,!0,!0)):h==="y2"?(I=m.y2.copy().domain(m.getYDomain(M,"y2")),k=this.getYAxis(h,I,m.y2Orient,m.y2AxisTickValues,!1,!0,!0)):(I=m.x.copy().domain(m.getXDomain(M)),k=this.getXAxis(I,m.xOrient,m.xAxisTickFormat,m.xAxisTickValues,!1,!0,!0),this.updateXAxisTickValues(M,k)),V=m.d3.select("body").append("div").classed("c3",!0),$=V.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),$.append("g").call(k).each(function(){m.d3.select(this).selectAll("text").each(function(){var F=f(this);T<F.width&&(T=F.width)}),V.remove()})),m.currentMaxTickWidths[h]=T<=0?m.currentMaxTickWidths[h]:T),m.currentMaxTickWidths[h]},D.prototype.updateLabels=function(h){var g=this.owner,m=g.main.select("."+C.axisX+" ."+C.axisXLabel),T=g.main.select("."+C.axisY+" ."+C.axisYLabel),M=g.main.select("."+C.axisY2+" ."+C.axisY2Label);(h?m.transition():m).attr("x",this.xForXAxisLabel.bind(this)).attr("dx",this.dxForXAxisLabel.bind(this)).attr("dy",this.dyForXAxisLabel.bind(this)).text(this.textForXAxisLabel.bind(this)),(h?T.transition():T).attr("x",this.xForYAxisLabel.bind(this)).attr("dx",this.dxForYAxisLabel.bind(this)).attr("dy",this.dyForYAxisLabel.bind(this)).text(this.textForYAxisLabel.bind(this)),(h?M.transition():M).attr("x",this.xForY2AxisLabel.bind(this)).attr("dx",this.dxForY2AxisLabel.bind(this)).attr("dy",this.dyForY2AxisLabel.bind(this)).text(this.textForY2AxisLabel.bind(this))},D.prototype.getPadding=function(h,g,m,T){var M=typeof h=="number"?h:h[g];return b(M)?h.unit==="ratio"?h[g]*T:this.convertPixelsToAxisPadding(M,T):m},D.prototype.convertPixelsToAxisPadding=function(h,g){var m=this.owner,T=m.config.axis_rotated?m.width:m.height;return g*(h/T)},D.prototype.generateTickValues=function(h,g,m){var T=h,M,I,k,V,$,F,z;if(g){if(M=y(g)?g():g,M===1)T=[h[0]];else if(M===2)T=[h[0],h[h.length-1]];else if(M>2){for(V=M-2,I=h[0],k=h[h.length-1],$=(k-I)/(V+1),T=[I],F=0;F<V;F++)z=+I+$*(F+1),T.push(m?new Date(z):z);T.push(k)}}return m||(T=T.sort(function(U,B){return U-B})),T},D.prototype.generateTransitions=function(h){var g=this.owner,m=g.axes;return{axisX:h?m.x.transition().duration(h):m.x,axisY:h?m.y.transition().duration(h):m.y,axisY2:h?m.y2.transition().duration(h):m.y2,axisSubX:h?m.subx.transition().duration(h):m.subx}},D.prototype.redraw=function(h,g){var m=this.owner,T=h?m.d3.transition().duration(h):null;m.axes.x.style("opacity",g?0:1).call(m.xAxis,T),m.axes.y.style("opacity",g?0:1).call(m.yAxis,T),m.axes.y2.style("opacity",g?0:1).call(m.y2Axis,T),m.axes.subx.style("opacity",g?0:1).call(m.subXAxis,T)};var G={version:"0.7.20",chart:{fn:r.prototype,internal:{fn:n.prototype,axis:{fn:N.prototype,internal:{fn:R.prototype}}}},generate:function(l){return new r(l)}};n.prototype.beforeInit=function(){},n.prototype.afterInit=function(){},n.prototype.init=function(){var l=this,h=l.config;if(l.initParams(),h.data_url)l.convertUrlToData(h.data_url,h.data_mimeType,h.data_headers,h.data_keys,l.initWithData);else if(h.data_json)l.initWithData(l.convertJsonToData(h.data_json,h.data_keys));else if(h.data_rows)l.initWithData(l.convertRowsToData(h.data_rows));else if(h.data_columns)l.initWithData(l.convertColumnsToData(h.data_columns));else throw Error("url or json or rows or columns is required.")},n.prototype.initParams=function(){var l=this,h=l.d3,g=l.config;l.clipId="c3-"+new Date().valueOf()+"-clip",l.clipIdForXAxis=l.clipId+"-xaxis",l.clipIdForYAxis=l.clipId+"-yaxis",l.clipIdForGrid=l.clipId+"-grid",l.clipIdForSubchart=l.clipId+"-subchart",l.clipPath=l.getClipPath(l.clipId),l.clipPathForXAxis=l.getClipPath(l.clipIdForXAxis),l.clipPathForYAxis=l.getClipPath(l.clipIdForYAxis),l.clipPathForGrid=l.getClipPath(l.clipIdForGrid),l.clipPathForSubchart=l.getClipPath(l.clipIdForSubchart),l.dragStart=null,l.dragging=!1,l.flowing=!1,l.cancelClick=!1,l.mouseover=void 0,l.transiting=!1,l.color=l.generateColor(),l.levelColor=l.generateLevelColor(),l.dataTimeParse=(g.data_xLocaltime?h.timeParse:h.utcParse)(l.config.data_xFormat),l.axisTimeFormat=g.axis_x_localtime?h.timeFormat:h.utcFormat,l.defaultAxisTimeFormat=function(m){return m.getMilliseconds()?h.timeFormat(".%L")(m):m.getSeconds()?h.timeFormat(":%S")(m):m.getMinutes()?h.timeFormat("%I:%M")(m):m.getHours()?h.timeFormat("%I %p")(m):m.getDay()&&m.getDate()!==1||m.getDate()!==1||m.getMonth()?h.timeFormat("%-m/%-d")(m):h.timeFormat("%Y/%-m/%-d")(m)},l.hiddenTargetIds=[],l.hiddenLegendIds=[],l.focusedTargetIds=[],l.defocusedTargetIds=[],l.xOrient=g.axis_rotated?g.axis_x_inner?"right":"left":g.axis_x_inner?"top":"bottom",l.yOrient=g.axis_rotated?g.axis_y_inner?"top":"bottom":g.axis_y_inner?"right":"left",l.y2Orient=g.axis_rotated?g.axis_y2_inner?"bottom":"top":g.axis_y2_inner?"left":"right",l.subXOrient=g.axis_rotated?"left":"bottom",l.isLegendRight=g.legend_position==="right",l.isLegendInset=g.legend_position==="inset",l.isLegendTop=g.legend_inset_anchor==="top-left"||g.legend_inset_anchor==="top-right",l.isLegendLeft=g.legend_inset_anchor==="top-left"||g.legend_inset_anchor==="bottom-left",l.legendStep=0,l.legendItemWidth=0,l.legendItemHeight=0,l.currentMaxTickWidths={x:0,y:0,y2:0},l.rotated_padding_left=30,l.rotated_padding_right=g.axis_rotated&&!g.axis_x_show?0:30,l.rotated_padding_top=5,l.withoutFadeIn={},l.intervalForObserveInserted=void 0,l.axes.subx=h.selectAll([])},n.prototype.initChartElements=function(){this.initBar&&this.initBar(),this.initLine&&this.initLine(),this.initArc&&this.initArc(),this.initGauge&&this.initGauge(),this.initText&&this.initText()},n.prototype.initWithData=function(l){var h=this,g=h.d3,m=h.config,T,M,I=!0;h.axis=new N(h),m.bindto?typeof m.bindto.node=="function"?h.selectChart=m.bindto:h.selectChart=g.select(m.bindto):h.selectChart=g.selectAll([]),h.selectChart.empty()&&(h.selectChart=g.select(document.createElement("div")).style("opacity",0),h.observeInserted(h.selectChart),I=!1),h.selectChart.html("").classed("c3",!0),h.data.xs={},h.data.targets=h.convertDataToTargets(l),m.data_filter&&(h.data.targets=h.data.targets.filter(m.data_filter)),m.data_hide&&h.addHiddenTargetIds(m.data_hide===!0?h.mapToIds(h.data.targets):m.data_hide),m.legend_hide&&h.addHiddenLegendIds(m.legend_hide===!0?h.mapToIds(h.data.targets):m.legend_hide),h.isStanfordGraphType()&&h.initStanfordData(),h.updateSizes(),h.updateScales(),h.x.domain(g.extent(h.getXDomain(h.data.targets))),h.y.domain(h.getYDomain(h.data.targets,"y")),h.y2.domain(h.getYDomain(h.data.targets,"y2")),h.subX.domain(h.x.domain()),h.subY.domain(h.y.domain()),h.subY2.domain(h.y2.domain()),h.orgXDomain=h.x.domain(),h.svg=h.selectChart.append("svg").style("overflow","hidden").on("mouseenter",function(){return m.onmouseover.call(h)}).on("mouseleave",function(){return m.onmouseout.call(h)}),h.config.svg_classname&&h.svg.attr("class",h.config.svg_classname),T=h.svg.append("defs"),h.clipChart=h.appendClip(T,h.clipId),h.clipXAxis=h.appendClip(T,h.clipIdForXAxis),h.clipYAxis=h.appendClip(T,h.clipIdForYAxis),h.clipGrid=h.appendClip(T,h.clipIdForGrid),h.clipSubchart=h.appendClip(T,h.clipIdForSubchart),h.updateSvgSize(),M=h.main=h.svg.append("g").attr("transform",h.getTranslate("main")),h.initPie&&h.initPie(),h.initDragZoom&&h.initDragZoom(),m.subchart_show&&h.initSubchart&&h.initSubchart(),h.initTooltip&&h.initTooltip(),h.initLegend&&h.initLegend(),h.initTitle&&h.initTitle(),h.initZoom&&h.initZoom(),h.isStanfordGraphType()&&h.drawColorScale(),m.subchart_show&&h.initSubchartBrush&&h.initSubchartBrush(),M.append("text").attr("class",C.text+" "+C.empty).attr("text-anchor","middle").attr("dominant-baseline","middle"),h.initRegion(),h.initGrid(),M.append("g").attr("clip-path",h.clipPath).attr("class",C.chart),m.grid_lines_front&&h.initGridLines(),h.initStanfordElements(),h.initEventRect(),h.initChartElements(),h.axis.init(),h.updateTargets(h.data.targets),m.axis_x_selection&&h.brush.selectionAsValue(h.getDefaultSelection()),I&&(h.updateDimension(),h.config.oninit.call(h),h.redraw({withTransition:!1,withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransitionForAxis:!1})),h.bindResize(),h.bindWindowFocus(),h.api.element=h.selectChart.node()},n.prototype.smoothLines=function(l,h){var g=this;h==="grid"&&l.each(function(){var m=g.d3.select(this),T=m.attr("x1"),M=m.attr("x2"),I=m.attr("y1"),k=m.attr("y2");m.attr({x1:Math.ceil(T),x2:Math.ceil(M),y1:Math.ceil(I),y2:Math.ceil(k)})})},n.prototype.updateSizes=function(){var l=this,h=l.config,g=l.legend?l.getLegendHeight():0,m=l.legend?l.getLegendWidth():0,T=l.isLegendRight||l.isLegendInset?0:g,M=l.hasArcType(),I=h.axis_rotated||M?0:l.getHorizontalAxisHeight("x"),k=h.axis_rotated||M?0:l.getHorizontalAxisHeight("x",!0),V=h.subchart_show&&!M?h.subchart_size_height+k:0;l.currentWidth=l.getCurrentWidth(),l.currentHeight=l.getCurrentHeight(),l.margin=h.axis_rotated?{top:l.getHorizontalAxisHeight("y2")+l.getCurrentPaddingTop(),right:M?0:l.getCurrentPaddingRight(),bottom:l.getHorizontalAxisHeight("y")+T+l.getCurrentPaddingBottom(),left:V+(M?0:l.getCurrentPaddingLeft())}:{top:4+l.getCurrentPaddingTop(),right:M?0:l.getCurrentPaddingRight(),bottom:I+V+T+l.getCurrentPaddingBottom(),left:M?0:l.getCurrentPaddingLeft()},l.margin2=h.axis_rotated?{top:l.margin.top,right:NaN,bottom:20+T,left:l.rotated_padding_left}:{top:l.currentHeight-V-T,right:NaN,bottom:k+T,left:l.margin.left},l.margin3={top:0,right:NaN,bottom:0,left:0},l.updateSizeForLegend&&l.updateSizeForLegend(g,m),l.width=l.currentWidth-l.margin.left-l.margin.right,l.height=l.currentHeight-l.margin.top-l.margin.bottom,l.width<0&&(l.width=0),l.height<0&&(l.height=0),l.width2=h.axis_rotated?l.margin.left-l.rotated_padding_left-l.rotated_padding_right:l.width,l.height2=h.axis_rotated?l.height:l.currentHeight-l.margin2.top-l.margin2.bottom,l.width2<0&&(l.width2=0),l.height2<0&&(l.height2=0),l.arcWidth=l.width-(l.isLegendRight?m+10:0),l.arcHeight=l.height-(l.isLegendRight?0:10),l.hasType("gauge")&&!h.gauge_fullCircle&&(l.arcHeight+=l.height-l.getGaugeLabelHeight()),l.updateRadius&&l.updateRadius(),l.isLegendRight&&M&&(l.margin3.left=l.arcWidth/2+l.radiusExpanded*1.1)},n.prototype.updateTargets=function(l){var h=this,g=h.config;h.updateTargetsForText(l),h.updateTargetsForBar(l),h.updateTargetsForLine(l),h.hasArcType()&&h.updateTargetsForArc&&h.updateTargetsForArc(l),g.subchart_show&&h.updateTargetsForSubchart&&h.updateTargetsForSubchart(l),h.showTargets()},n.prototype.showTargets=function(){var l=this;l.svg.selectAll("."+C.target).filter(function(h){return l.isTargetToShow(h.id)}).transition().duration(l.config.transition_duration).style("opacity",1)},n.prototype.redraw=function(l,h){var g=this,m=g.main,T=g.d3,M=g.config,I=g.getShapeIndices(g.isAreaType),k=g.getShapeIndices(g.isBarType),V=g.getShapeIndices(g.isLineType),$,F,z,U,B,Z,q,j,J,dt,vt,Dt,Ft,Gt=g.hasArcType(),gt,Et,Pt,Tt,ot,lt,de,Ye,Pe,Dn,xe,Xe,Kt=g.filterTargetsToShow(g.data.targets),tt,_t,Un,_s,cp=g.xv.bind(g),zr,Wn;if(l=l||{},$=s(l,"withY",!0),F=s(l,"withSubchart",!0),z=s(l,"withTransition",!0),Z=s(l,"withTransform",!1),q=s(l,"withUpdateXDomain",!1),j=s(l,"withUpdateOrgXDomain",!1),J=s(l,"withTrimXDomain",!0),Ft=s(l,"withUpdateXAxis",q),dt=s(l,"withLegend",!1),vt=s(l,"withEventRect",!0),Dt=s(l,"withDimension",!0),U=s(l,"withTransitionForExit",z),B=s(l,"withTransitionForAxis",z),lt=z?M.transition_duration:0,de=U?lt:0,Ye=B?lt:0,h=h||g.axis.generateTransitions(Ye),dt&&M.legend_show?g.updateLegend(g.mapToIds(g.data.targets),l,h):Dt&&g.updateDimension(!0),g.isCategorized()&&Kt.length===0&&g.x.domain([0,g.axes.x.selectAll(".tick").size()]),Kt.length?(g.updateXDomain(Kt,q,j,J),M.axis_x_tick_values||(tt=g.axis.updateXAxisTickValues(Kt))):(g.xAxis.tickValues([]),g.subXAxis.tickValues([])),M.zoom_rescale&&!l.flow&&(_s=g.x.orgDomain()),g.y.domain(g.getYDomain(Kt,"y",_s)),g.y2.domain(g.getYDomain(Kt,"y2",_s)),!M.axis_y_tick_values&&M.axis_y_tick_count&&g.yAxis.tickValues(g.axis.generateTickValues(g.y.domain(),M.axis_y_tick_count)),!M.axis_y2_tick_values&&M.axis_y2_tick_count&&g.y2Axis.tickValues(g.axis.generateTickValues(g.y2.domain(),M.axis_y2_tick_count)),g.axis.redraw(Ye,Gt),g.axis.updateLabels(z),(q||Ft)&&Kt.length)if(M.axis_x_tick_culling&&tt){for(_t=1;_t<tt.length;_t++)if(tt.length/_t<M.axis_x_tick_culling_max){Un=_t;break}g.svg.selectAll("."+C.axisX+" .tick text").each(function(dn){var Hr=tt.indexOf(dn);Hr>=0&&T.select(this).style("display",Hr%Un?"none":"block")})}else g.svg.selectAll("."+C.axisX+" .tick text").style("display","block");gt=g.generateDrawArea?g.generateDrawArea(I,!1):void 0,Et=g.generateDrawBar?g.generateDrawBar(k):void 0,Pt=g.generateDrawLine?g.generateDrawLine(V,!1):void 0,Tt=g.generateXYForText(I,k,V,!0),ot=g.generateXYForText(I,k,V,!1),g.updateCircleY(),zr=(g.config.axis_rotated?g.circleY:g.circleX).bind(g),Wn=(g.config.axis_rotated?g.circleX:g.circleY).bind(g),$&&(g.subY.domain(g.getYDomain(Kt,"y")),g.subY2.domain(g.getYDomain(Kt,"y2"))),g.updateXgridFocus(),m.select("text."+C.text+"."+C.empty).attr("x",g.width/2).attr("y",g.height/2).text(M.data_empty_label_text).transition().style("opacity",Kt.length?0:1),vt&&g.redrawEventRect(),g.updateGrid(lt),g.updateStanfordElements(lt),g.updateRegion(lt),g.updateBar(de),g.updateLine(de),g.updateArea(de),g.updateCircle(zr,Wn),g.hasDataLabel()&&g.updateText(Tt,ot,de),g.redrawTitle&&g.redrawTitle(),g.redrawArc&&g.redrawArc(lt,de,Z),M.subchart_show&&g.redrawSubchart&&g.redrawSubchart(F,h,lt,de,I,k,V),g.isStanfordGraphType()&&g.drawColorScale(),m.selectAll("."+C.selectedCircles).filter(g.isBarType.bind(g)).selectAll("circle").remove(),l.flow&&(xe=g.generateFlow({targets:Kt,flow:l.flow,duration:l.flow.duration,drawBar:Et,drawLine:Pt,drawArea:gt,cx:zr,cy:Wn,xv:cp,xForText:Tt,yForText:ot})),lt&&g.isTabVisible()?(Xe=T.transition().duration(lt),Pe=[],[g.redrawBar(Et,!0,Xe),g.redrawLine(Pt,!0,Xe),g.redrawArea(gt,!0,Xe),g.redrawCircle(zr,Wn,!0,Xe),g.redrawText(Tt,ot,l.flow,!0,Xe),g.redrawRegion(!0,Xe),g.redrawGrid(!0,Xe)].forEach(function(dn){dn.forEach(function(Hr){Pe.push(Hr)})}),Dn=g.generateWait(),Pe.forEach(function(dn){Dn.add(dn)}),Dn(function(){xe&&xe(),M.onrendered&&M.onrendered.call(g)})):(g.redrawBar(Et),g.redrawLine(Pt),g.redrawArea(gt),g.redrawCircle(zr,Wn),g.redrawText(Tt,ot,l.flow),g.redrawRegion(),g.redrawGrid(),xe&&xe(),M.onrendered&&M.onrendered.call(g)),g.mapToIds(g.data.targets).forEach(function(dn){g.withoutFadeIn[dn]=!0})},n.prototype.updateAndRedraw=function(l){var h=this,g=h.config,m;l=l||{},l.withTransition=s(l,"withTransition",!0),l.withTransform=s(l,"withTransform",!1),l.withLegend=s(l,"withLegend",!1),l.withUpdateXDomain=s(l,"withUpdateXDomain",!0),l.withUpdateOrgXDomain=s(l,"withUpdateOrgXDomain",!0),l.withTransitionForExit=!1,l.withTransitionForTransform=s(l,"withTransitionForTransform",l.withTransition),h.updateSizes(),l.withLegend&&g.legend_show||(m=h.axis.generateTransitions(l.withTransitionForAxis?g.transition_duration:0),h.updateScales(),h.updateSvgSize(),h.transformAll(l.withTransitionForTransform,m)),h.redraw(l,m)},n.prototype.redrawWithoutRescale=function(){this.redraw({withY:!1,withSubchart:!1,withEventRect:!1,withTransitionForAxis:!1})},n.prototype.isTimeSeries=function(){return this.config.axis_x_type==="timeseries"},n.prototype.isCategorized=function(){return this.config.axis_x_type.indexOf("categor")>=0},n.prototype.isCustomX=function(){var l=this,h=l.config;return!l.isTimeSeries()&&(h.data_x||S(h.data_xs))},n.prototype.isTimeSeriesY=function(){return this.config.axis_y_type==="timeseries"},n.prototype.getTranslate=function(l){var h=this,g=h.config,m,T;return l==="main"?(m=i(h.margin.left),T=i(h.margin.top)):l==="context"?(m=i(h.margin2.left),T=i(h.margin2.top)):l==="legend"?(m=h.margin3.left,T=h.margin3.top):l==="x"?(m=0,T=g.axis_rotated?0:h.height):l==="y"?(m=0,T=g.axis_rotated?h.height:0):l==="y2"?(m=g.axis_rotated?0:h.width,T=g.axis_rotated?1:0):l==="subx"?(m=0,T=g.axis_rotated?0:h.height2):l==="arc"&&(m=h.arcWidth/2,T=h.arcHeight/2-(h.hasType("gauge")?6:0)),"translate("+m+","+T+")"},n.prototype.initialOpacity=function(l){return l.value!==null&&this.withoutFadeIn[l.id]?1:0},n.prototype.initialOpacityForCircle=function(l){return l.value!==null&&this.withoutFadeIn[l.id]?this.opacityForCircle(l):0},n.prototype.opacityForCircle=function(l){var h=y(this.config.point_show)?this.config.point_show(l):this.config.point_show,g=h||this.isStanfordType(l)?1:0;return b(l.value)?this.isScatterType(l)?.5:g:0},n.prototype.opacityForText=function(){return this.hasDataLabel()?1:0},n.prototype.xx=function(l){return l?this.x(l.x):null},n.prototype.xvCustom=function(l,h){var g=this,m=h?l[h]:l.value;return g.isTimeSeries()?m=g.parseDate(l.value):g.isCategorized()&&typeof l.value=="string"&&(m=g.config.axis_x_categories.indexOf(l.value)),Math.ceil(g.x(m))},n.prototype.yvCustom=function(l,h){var g=this,m=l.axis&&l.axis==="y2"?g.y2:g.y,T=h?l[h]:l.value;return Math.ceil(m(T))},n.prototype.xv=function(l){var h=this,g=l.value;return h.isTimeSeries()?g=h.parseDate(l.value):h.isCategorized()&&typeof l.value=="string"&&(g=h.config.axis_x_categories.indexOf(l.value)),Math.ceil(h.x(g))},n.prototype.yv=function(l){var h=this,g=l.axis&&l.axis==="y2"?h.y2:h.y;return Math.ceil(g(l.value))},n.prototype.subxx=function(l){return l?this.subX(l.x):null},n.prototype.transformMain=function(l,h){var g=this,m,T,M;h&&h.axisX?m=h.axisX:(m=g.main.select("."+C.axisX),l&&(m=m.transition())),h&&h.axisY?T=h.axisY:(T=g.main.select("."+C.axisY),l&&(T=T.transition())),h&&h.axisY2?M=h.axisY2:(M=g.main.select("."+C.axisY2),l&&(M=M.transition())),(l?g.main.transition():g.main).attr("transform",g.getTranslate("main")),m.attr("transform",g.getTranslate("x")),T.attr("transform",g.getTranslate("y")),M.attr("transform",g.getTranslate("y2")),g.main.select("."+C.chartArcs).attr("transform",g.getTranslate("arc"))},n.prototype.transformAll=function(l,h){var g=this;g.transformMain(l,h),g.config.subchart_show&&g.transformContext(l,h),g.legend&&g.transformLegend(l)},n.prototype.updateSvgSize=function(){var l=this,h=l.svg.select("."+C.brush+" .overlay");l.svg.attr("width",l.currentWidth).attr("height",l.currentHeight),l.svg.selectAll(["#"+l.clipId,"#"+l.clipIdForGrid]).select("rect").attr("width",l.width).attr("height",l.height),l.svg.select("#"+l.clipIdForXAxis).select("rect").attr("x",l.getXAxisClipX.bind(l)).attr("y",l.getXAxisClipY.bind(l)).attr("width",l.getXAxisClipWidth.bind(l)).attr("height",l.getXAxisClipHeight.bind(l)),l.svg.select("#"+l.clipIdForYAxis).select("rect").attr("x",l.getYAxisClipX.bind(l)).attr("y",l.getYAxisClipY.bind(l)).attr("width",l.getYAxisClipWidth.bind(l)).attr("height",l.getYAxisClipHeight.bind(l)),l.svg.select("#"+l.clipIdForSubchart).select("rect").attr("width",l.width).attr("height",h.size()&&h.attr("height")||0),l.selectChart.style("max-height",l.currentHeight+"px")},n.prototype.updateDimension=function(l){var h=this;l||(h.config.axis_rotated?(h.axes.x.call(h.xAxis),h.axes.subx.call(h.subXAxis)):(h.axes.y.call(h.yAxis),h.axes.y2.call(h.y2Axis))),h.updateSizes(),h.updateScales(),h.updateSvgSize(),h.transformAll(!1)},n.prototype.observeInserted=function(l){var h=this,g;if(typeof MutationObserver>"u"){window.console.error("MutationObserver not defined.");return}g=new MutationObserver(function(m){m.forEach(function(T){T.type==="childList"&&T.previousSibling&&(g.disconnect(),h.intervalForObserveInserted=window.setInterval(function(){l.node().parentNode&&(window.clearInterval(h.intervalForObserveInserted),h.updateDimension(),h.brush&&h.brush.update(),h.config.oninit.call(h),h.redraw({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),l.transition().style("opacity",1))},10))})}),g.observe(l.node(),{attributes:!0,childList:!0,characterData:!0})},n.prototype.bindResize=function(){var l=this,h=l.config;l.resizeFunction=l.generateResize(),l.resizeFunction.add(function(){h.onresize.call(l)}),h.resize_auto&&l.resizeFunction.add(function(){l.resizeTimeout!==void 0&&window.clearTimeout(l.resizeTimeout),l.resizeTimeout=window.setTimeout(function(){delete l.resizeTimeout,l.updateAndRedraw({withUpdateXDomain:!1,withUpdateOrgXDomain:!1,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),l.brush&&l.brush.update()},100)}),l.resizeFunction.add(function(){h.onresized.call(l)}),l.resizeIfElementDisplayed=function(){l.api==null||!l.api.element.offsetParent||l.resizeFunction()},window.addEventListener("resize",l.resizeIfElementDisplayed,!1)},n.prototype.bindWindowFocus=function(){var l=this;this.windowFocusHandler||(this.windowFocusHandler=function(){l.redraw()},window.addEventListener("focus",this.windowFocusHandler))},n.prototype.unbindWindowFocus=function(){window.removeEventListener("focus",this.windowFocusHandler),delete this.windowFocusHandler},n.prototype.generateResize=function(){var l=[];function h(){l.forEach(function(g){g()})}return h.add=function(g){l.push(g)},h.remove=function(g){for(var m=0;m<l.length;m++)if(l[m]===g){l.splice(m,1);break}},h},n.prototype.endall=function(l,h){var g=0;l.each(function(){++g}).on("end",function(){--g||h.apply(this,arguments)})},n.prototype.generateWait=function(){var l=this,h=[],g=function(m){var T=setInterval(function(){if(l.isTabVisible()){var M=0;h.forEach(function(I){if(I.empty()){M+=1;return}try{I.transition()}catch{M+=1}}),M===h.length&&(clearInterval(T),m&&m())}},50)};return g.add=function(m){h.push(m)},g},n.prototype.parseDate=function(l){var h=this,g;return l instanceof Date?g=l:typeof l=="string"?g=h.dataTimeParse(l):typeof l=="object"?g=new Date(+l):typeof l=="number"&&!isNaN(l)&&(g=new Date(+l)),(!g||isNaN(+g))&&window.console.error("Failed to parse x '"+l+"' to Date object"),g},n.prototype.isTabVisible=function(){return!document.hidden},n.prototype.getPathBox=u,n.prototype.CLASS=C,function(){"SVGPathSeg"in window||(window.SVGPathSeg=function(l,h,g){this.pathSegType=l,this.pathSegTypeAsLetter=h,this._owningPathSegList=g},window.SVGPathSeg.prototype.classname="SVGPathSeg",window.SVGPathSeg.PATHSEG_UNKNOWN=0,window.SVGPathSeg.PATHSEG_CLOSEPATH=1,window.SVGPathSeg.PATHSEG_MOVETO_ABS=2,window.SVGPathSeg.PATHSEG_MOVETO_REL=3,window.SVGPathSeg.PATHSEG_LINETO_ABS=4,window.SVGPathSeg.PATHSEG_LINETO_REL=5,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS=6,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL=7,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS=8,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL=9,window.SVGPathSeg.PATHSEG_ARC_ABS=10,window.SVGPathSeg.PATHSEG_ARC_REL=11,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS=12,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL=13,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS=14,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL=15,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS=16,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL=17,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS=18,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL=19,window.SVGPathSeg.prototype._segmentChanged=function(){this._owningPathSegList&&this._owningPathSegList.segmentChanged(this)},window.SVGPathSegClosePath=function(l){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CLOSEPATH,"z",l)},window.SVGPathSegClosePath.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegClosePath.prototype.toString=function(){return"[object SVGPathSegClosePath]"},window.SVGPathSegClosePath.prototype._asPathString=function(){return this.pathSegTypeAsLetter},window.SVGPathSegClosePath.prototype.clone=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathSegMovetoAbs=function(l,h,g){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_ABS,"M",l),this._x=h,this._y=g},window.SVGPathSegMovetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoAbs.prototype.toString=function(){return"[object SVGPathSegMovetoAbs]"},window.SVGPathSegMovetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoAbs.prototype.clone=function(){return new window.SVGPathSegMovetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"x",{get:function(){return this._x},set:function(l){this._x=l,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"y",{get:function(){return this._y},set:function(l){this._y=l,this._segmentChanged()},enumerable:!0}),window.SVGPathSegMovetoRel=function(l,h,g){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_REL,"m",l),this._x=h,this._y=g},window.SVGPathSegMovetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoRel.prototype.toString=function(){return"[object SVGPathSegMovetoRel]"},window.SVGPathSegMovetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoRel.prototype.clone=function(){return new window.SVGPathSegMovetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"x",{get:function(){return this._x},set:function(l){this._x=l,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"y",{get:function(){return this._y},set:function(l){this._y=l,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoAbs=function(l,h,g){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_ABS,"L",l),this._x=h,this._y=g},window.SVGPathSegLinetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoAbs.prototype.toString=function(){return"[object SVGPathSegLinetoAbs]"},window.SVGPathSegLinetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoAbs.prototype.clone=function(){return new window.SVGPathSegLinetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"x",{get:function(){return this._x},set:function(l){this._x=l,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"y",{get:function(){return this._y},set:function(l){this._y=l,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoRel=function(l,h,g){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_REL,"l",l),this._x=h,this._y=g},window.SVGPathSegLinetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoRel.prototype.toString=function(){return"[object SVGPathSegLinetoRel]"},window.SVGPathSegLinetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoRel.prototype.clone=function(){return new window.SVGPathSegLinetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"x",{get:function(){return this._x},set:function(l){this._x=l,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"y",{get:function(){return this._y},set:function(l){this._y=l,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicAbs=function(l,h,g,m,T,M,I){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS,"C",l),this._x=h,this._y=g,this._x1=m,this._y1=T,this._x2=M,this._y2=I},window.SVGPathSegCurvetoCubicAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicAbs]"},window.SVGPathSegCurvetoCubicAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicAbs(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x",{get:function(){return this._x},set:function(l){this._x=l,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y",{get:function(){return this._y},set:function(l){this._y=l,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x1",{get:function(){return this._x1},set:function(l){this._x1=l,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y1",{get:function(){return this._y1},set:function(l){this._y1=l,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x2",{get:function(){return this._x2},set:function(l){this._x2=l,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y2",{get:function(){return this._y2},set:function(l){this._y2=l,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicRel=function(l,h,g,m,T,M,I){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL,"c",l),this._x=h,this._y=g,this._x1=m,this._y1=T,this._x2=M,this._y2=I},window.SVGPathSegCurvetoCubicRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicRel]"},window.SVGPathSegCurvetoCubicRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicRel(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x",{get:function(){return this._x},set:function(l){this._x=l,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y",{get:function(){return this._y},set:function(l){this._y=l,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x1",{get:function(){return this._x1},set:function(l){this._x1=l,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y1",{get:function(){return this._y1},set:function(l){this._y1=l,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x2",{get:function(){return this._x2},set:function(l){this._x2=l,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y2",{get:function(){return this._y2},set:function(l){this._y2=l,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticAbs=function(l,h,g,m,T){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS,"Q",l),this._x=h,this._y=g,this._x1=m,this._y1=T},window.SVGPathSegCurvetoQuadraticAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticAbs]"},window.SVGPathSegCurvetoQuadraticAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x",{get:function(){return this._x},set:function(l){this._x=l,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y",{get:function(){return this._y},set:function(l){this._y=l,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x1",{get:function(){return this._x1},set:function(l){this._x1=l,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y1",{get:function(){return this._y1},set:function(l){this._y1=l,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticRel=function(l,h,g,m,T){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL,"q",l),this._x=h,this._y=g,this._x1=m,this._y1=T},window.SVGPathSegCurvetoQuadraticRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticRel]"},window.SVGPathSegCurvetoQuadraticRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticRel(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x",{get:function(){return this._x},set:function(l){this._x=l,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y",{get:function(){return this._y},set:function(l){this._y=l,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x1",{get:function(){return this._x1},set:function(l){this._x1=l,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y1",{get:function(){return this._y1},set:function(l){this._y1=l,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcAbs=function(l,h,g,m,T,M,I,k){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_ABS,"A",l),this._x=h,this._y=g,this._r1=m,this._r2=T,this._angle=M,this._largeArcFlag=I,this._sweepFlag=k},window.SVGPathSegArcAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcAbs.prototype.toString=function(){return"[object SVGPathSegArcAbs]"},window.SVGPathSegArcAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcAbs.prototype.clone=function(){return new window.SVGPathSegArcAbs(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcAbs.prototype,"x",{get:function(){return this._x},set:function(l){this._x=l,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"y",{get:function(){return this._y},set:function(l){this._y=l,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r1",{get:function(){return this._r1},set:function(l){this._r1=l,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r2",{get:function(){return this._r2},set:function(l){this._r2=l,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"angle",{get:function(){return this._angle},set:function(l){this._angle=l,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(l){this._largeArcFlag=l,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(l){this._sweepFlag=l,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcRel=function(l,h,g,m,T,M,I,k){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_REL,"a",l),this._x=h,this._y=g,this._r1=m,this._r2=T,this._angle=M,this._largeArcFlag=I,this._sweepFlag=k},window.SVGPathSegArcRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcRel.prototype.toString=function(){return"[object SVGPathSegArcRel]"},window.SVGPathSegArcRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcRel.prototype.clone=function(){return new window.SVGPathSegArcRel(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcRel.prototype,"x",{get:function(){return this._x},set:function(l){this._x=l,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"y",{get:function(){return this._y},set:function(l){this._y=l,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r1",{get:function(){return this._r1},set:function(l){this._r1=l,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r2",{get:function(){return this._r2},set:function(l){this._r2=l,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"angle",{get:function(){return this._angle},set:function(l){this._angle=l,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(l){this._largeArcFlag=l,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(l){this._sweepFlag=l,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalAbs=function(l,h){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS,"H",l),this._x=h},window.SVGPathSegLinetoHorizontalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalAbs]"},window.SVGPathSegLinetoHorizontalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalAbs(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalAbs.prototype,"x",{get:function(){return this._x},set:function(l){this._x=l,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalRel=function(l,h){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL,"h",l),this._x=h},window.SVGPathSegLinetoHorizontalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalRel.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalRel]"},window.SVGPathSegLinetoHorizontalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalRel.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalRel(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalRel.prototype,"x",{get:function(){return this._x},set:function(l){this._x=l,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalAbs=function(l,h){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS,"V",l),this._y=h},window.SVGPathSegLinetoVerticalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalAbs]"},window.SVGPathSegLinetoVerticalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalAbs(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalAbs.prototype,"y",{get:function(){return this._y},set:function(l){this._y=l,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalRel=function(l,h){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL,"v",l),this._y=h},window.SVGPathSegLinetoVerticalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalRel.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalRel]"},window.SVGPathSegLinetoVerticalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalRel.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalRel(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalRel.prototype,"y",{get:function(){return this._y},set:function(l){this._y=l,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothAbs=function(l,h,g,m,T){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS,"S",l),this._x=h,this._y=g,this._x2=m,this._y2=T},window.SVGPathSegCurvetoCubicSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothAbs]"},window.SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(l){this._x=l,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(l){this._y=l,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x2",{get:function(){return this._x2},set:function(l){this._x2=l,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y2",{get:function(){return this._y2},set:function(l){this._y2=l,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothRel=function(l,h,g,m,T){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL,"s",l),this._x=h,this._y=g,this._x2=m,this._y2=T},window.SVGPathSegCurvetoCubicSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothRel]"},window.SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x",{get:function(){return this._x},set:function(l){this._x=l,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y",{get:function(){return this._y},set:function(l){this._y=l,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x2",{get:function(){return this._x2},set:function(l){this._x2=l,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y2",{get:function(){return this._y2},set:function(l){this._y2=l,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothAbs=function(l,h,g){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS,"T",l),this._x=h,this._y=g},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothAbs]"},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(l){this._x=l,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(l){this._y=l,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothRel=function(l,h,g){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL,"t",l),this._x=h,this._y=g},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothRel]"},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"x",{get:function(){return this._x},set:function(l){this._x=l,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"y",{get:function(){return this._y},set:function(l){this._y=l,this._segmentChanged()},enumerable:!0}),window.SVGPathElement.prototype.createSVGPathSegClosePath=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathElement.prototype.createSVGPathSegMovetoAbs=function(l,h){return new window.SVGPathSegMovetoAbs(void 0,l,h)},window.SVGPathElement.prototype.createSVGPathSegMovetoRel=function(l,h){return new window.SVGPathSegMovetoRel(void 0,l,h)},window.SVGPathElement.prototype.createSVGPathSegLinetoAbs=function(l,h){return new window.SVGPathSegLinetoAbs(void 0,l,h)},window.SVGPathElement.prototype.createSVGPathSegLinetoRel=function(l,h){return new window.SVGPathSegLinetoRel(void 0,l,h)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs=function(l,h,g,m,T,M){return new window.SVGPathSegCurvetoCubicAbs(void 0,l,h,g,m,T,M)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel=function(l,h,g,m,T,M){return new window.SVGPathSegCurvetoCubicRel(void 0,l,h,g,m,T,M)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs=function(l,h,g,m){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,l,h,g,m)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel=function(l,h,g,m){return new window.SVGPathSegCurvetoQuadraticRel(void 0,l,h,g,m)},window.SVGPathElement.prototype.createSVGPathSegArcAbs=function(l,h,g,m,T,M,I){return new window.SVGPathSegArcAbs(void 0,l,h,g,m,T,M,I)},window.SVGPathElement.prototype.createSVGPathSegArcRel=function(l,h,g,m,T,M,I){return new window.SVGPathSegArcRel(void 0,l,h,g,m,T,M,I)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs=function(l){return new window.SVGPathSegLinetoHorizontalAbs(void 0,l)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel=function(l){return new window.SVGPathSegLinetoHorizontalRel(void 0,l)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs=function(l){return new window.SVGPathSegLinetoVerticalAbs(void 0,l)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel=function(l){return new window.SVGPathSegLinetoVerticalRel(void 0,l)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs=function(l,h,g,m){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,l,h,g,m)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel=function(l,h,g,m){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,l,h,g,m)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs=function(l,h){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,l,h)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel=function(l,h){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,l,h)},"getPathSegAtLength"in window.SVGPathElement.prototype||(window.SVGPathElement.prototype.getPathSegAtLength=function(l){if(l===void 0||!isFinite(l))throw"Invalid arguments.";var h=document.createElementNS("http://www.w3.org/2000/svg","path");h.setAttribute("d",this.getAttribute("d"));var g=h.pathSegList.numberOfItems-1;if(g<=0)return 0;do{if(h.pathSegList.removeItem(g),l>h.getTotalLength())break;g--}while(g>0);return g})),"SVGPathSegList"in window||(window.SVGPathSegList=function(l){this._pathElement=l,this._list=this._parsePath(this._pathElement.getAttribute("d")),this._mutationObserverConfig={attributes:!0,attributeFilter:["d"]},this._pathElementMutationObserver=new MutationObserver(this._updateListFromPathMutations.bind(this)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.classname="SVGPathSegList",Object.defineProperty(window.SVGPathSegList.prototype,"numberOfItems",{get:function(){return this._checkPathSynchronizedToList(),this._list.length},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"pathSegList",{get:function(){return this._pathSegList||(this._pathSegList=new window.SVGPathSegList(this)),this._pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"normalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedNormalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),window.SVGPathSegList.prototype._checkPathSynchronizedToList=function(){this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords())},window.SVGPathSegList.prototype._updateListFromPathMutations=function(l){if(this._pathElement){var h=!1;l.forEach(function(g){g.attributeName=="d"&&(h=!0)}),h&&(this._list=this._parsePath(this._pathElement.getAttribute("d")))}},window.SVGPathSegList.prototype._writeListToPath=function(){this._pathElementMutationObserver.disconnect(),this._pathElement.setAttribute("d",window.SVGPathSegList._pathSegArrayAsString(this._list)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.segmentChanged=function(l){this._writeListToPath()},window.SVGPathSegList.prototype.clear=function(){this._checkPathSynchronizedToList(),this._list.forEach(function(l){l._owningPathSegList=null}),this._list=[],this._writeListToPath()},window.SVGPathSegList.prototype.initialize=function(l){return this._checkPathSynchronizedToList(),this._list=[l],l._owningPathSegList=this,this._writeListToPath(),l},window.SVGPathSegList.prototype._checkValidIndex=function(l){if(isNaN(l)||l<0||l>=this.numberOfItems)throw"INDEX_SIZE_ERR"},window.SVGPathSegList.prototype.getItem=function(l){return this._checkPathSynchronizedToList(),this._checkValidIndex(l),this._list[l]},window.SVGPathSegList.prototype.insertItemBefore=function(l,h){return this._checkPathSynchronizedToList(),h>this.numberOfItems&&(h=this.numberOfItems),l._owningPathSegList&&(l=l.clone()),this._list.splice(h,0,l),l._owningPathSegList=this,this._writeListToPath(),l},window.SVGPathSegList.prototype.replaceItem=function(l,h){return this._checkPathSynchronizedToList(),l._owningPathSegList&&(l=l.clone()),this._checkValidIndex(h),this._list[h]=l,l._owningPathSegList=this,this._writeListToPath(),l},window.SVGPathSegList.prototype.removeItem=function(l){this._checkPathSynchronizedToList(),this._checkValidIndex(l);var h=this._list[l];return this._list.splice(l,1),this._writeListToPath(),h},window.SVGPathSegList.prototype.appendItem=function(l){return this._checkPathSynchronizedToList(),l._owningPathSegList&&(l=l.clone()),this._list.push(l),l._owningPathSegList=this,this._writeListToPath(),l},window.SVGPathSegList._pathSegArrayAsString=function(l){var h="",g=!0;return l.forEach(function(m){g?(g=!1,h+=m._asPathString()):h+=" "+m._asPathString()}),h},window.SVGPathSegList.prototype._parsePath=function(l){if(!l||l.length==0)return[];var h=this,g=function(){this.pathSegList=[]};g.prototype.appendSegment=function(k){this.pathSegList.push(k)};var m=function(k){this._string=k,this._currentIndex=0,this._endIndex=this._string.length,this._previousCommand=window.SVGPathSeg.PATHSEG_UNKNOWN,this._skipOptionalSpaces()};m.prototype._isCurrentSpace=function(){var k=this._string[this._currentIndex];return k<=" "&&(k==" "||k==`
`||k=="	"||k=="\r"||k=="\f")},m.prototype._skipOptionalSpaces=function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex++;return this._currentIndex<this._endIndex},m.prototype._skipOptionalSpacesOrDelimiter=function(){return this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&this._string.charAt(this._currentIndex)!=","?!1:(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)==","&&(this._currentIndex++,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},m.prototype.hasMoreData=function(){return this._currentIndex<this._endIndex},m.prototype.peekSegmentType=function(){var k=this._string[this._currentIndex];return this._pathSegTypeFromChar(k)},m.prototype._pathSegTypeFromChar=function(k){switch(k){case"Z":case"z":return window.SVGPathSeg.PATHSEG_CLOSEPATH;case"M":return window.SVGPathSeg.PATHSEG_MOVETO_ABS;case"m":return window.SVGPathSeg.PATHSEG_MOVETO_REL;case"L":return window.SVGPathSeg.PATHSEG_LINETO_ABS;case"l":return window.SVGPathSeg.PATHSEG_LINETO_REL;case"C":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;case"c":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;case"Q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;case"q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;case"A":return window.SVGPathSeg.PATHSEG_ARC_ABS;case"a":return window.SVGPathSeg.PATHSEG_ARC_REL;case"H":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;case"h":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;case"V":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;case"v":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;case"S":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;case"s":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;case"T":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;case"t":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;default:return window.SVGPathSeg.PATHSEG_UNKNOWN}},m.prototype._nextCommandHelper=function(k,V){return(k=="+"||k=="-"||k=="."||k>="0"&&k<="9")&&V!=window.SVGPathSeg.PATHSEG_CLOSEPATH?V==window.SVGPathSeg.PATHSEG_MOVETO_ABS?window.SVGPathSeg.PATHSEG_LINETO_ABS:V==window.SVGPathSeg.PATHSEG_MOVETO_REL?window.SVGPathSeg.PATHSEG_LINETO_REL:V:window.SVGPathSeg.PATHSEG_UNKNOWN},m.prototype.initialCommandIsMoveTo=function(){if(!this.hasMoreData())return!0;var k=this.peekSegmentType();return k==window.SVGPathSeg.PATHSEG_MOVETO_ABS||k==window.SVGPathSeg.PATHSEG_MOVETO_REL},m.prototype._parseNumber=function(){var k=0,V=0,$=1,F=0,z=1,U=1,B=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)=="+"?this._currentIndex++:this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)=="-"&&(this._currentIndex++,z=-1),!(this._currentIndex==this._endIndex||(this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")&&this._string.charAt(this._currentIndex)!=".")){for(var Z=this._currentIndex;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)this._currentIndex++;if(this._currentIndex!=Z)for(var q=this._currentIndex-1,j=1;q>=Z;)V+=j*(this._string.charAt(q--)-"0"),j*=10;if(this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)=="."){if(this._currentIndex++,this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)$*=10,F+=(this._string.charAt(this._currentIndex)-"0")/$,this._currentIndex+=1}if(this._currentIndex!=B&&this._currentIndex+1<this._endIndex&&(this._string.charAt(this._currentIndex)=="e"||this._string.charAt(this._currentIndex)=="E")&&this._string.charAt(this._currentIndex+1)!="x"&&this._string.charAt(this._currentIndex+1)!="m"){if(this._currentIndex++,this._string.charAt(this._currentIndex)=="+"?this._currentIndex++:this._string.charAt(this._currentIndex)=="-"&&(this._currentIndex++,U=-1),this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)k*=10,k+=this._string.charAt(this._currentIndex)-"0",this._currentIndex++}var J=V+F;if(J*=z,k&&(J*=Math.pow(10,U*k)),B!=this._currentIndex)return this._skipOptionalSpacesOrDelimiter(),J}},m.prototype._parseArcFlag=function(){if(!(this._currentIndex>=this._endIndex)){var k=!1,V=this._string.charAt(this._currentIndex++);if(V=="0")k=!1;else if(V=="1")k=!0;else return;return this._skipOptionalSpacesOrDelimiter(),k}},m.prototype.parseSegment=function(){var k=this._string[this._currentIndex],V=this._pathSegTypeFromChar(k);if(V==window.SVGPathSeg.PATHSEG_UNKNOWN){if(this._previousCommand==window.SVGPathSeg.PATHSEG_UNKNOWN||(V=this._nextCommandHelper(k,this._previousCommand),V==window.SVGPathSeg.PATHSEG_UNKNOWN))return null}else this._currentIndex++;switch(this._previousCommand=V,V){case window.SVGPathSeg.PATHSEG_MOVETO_REL:return new window.SVGPathSegMovetoRel(h,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_MOVETO_ABS:return new window.SVGPathSegMovetoAbs(h,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_REL:return new window.SVGPathSegLinetoRel(h,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_ABS:return new window.SVGPathSegLinetoAbs(h,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:return new window.SVGPathSegLinetoHorizontalRel(h,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:return new window.SVGPathSegLinetoHorizontalAbs(h,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:return new window.SVGPathSegLinetoVerticalRel(h,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:return new window.SVGPathSegLinetoVerticalAbs(h,this._parseNumber());case window.SVGPathSeg.PATHSEG_CLOSEPATH:return this._skipOptionalSpaces(),new window.SVGPathSegClosePath(h);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:var $={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicRel(h,$.x,$.y,$.x1,$.y1,$.x2,$.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:var $={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicAbs(h,$.x,$.y,$.x1,$.y1,$.x2,$.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:var $={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicSmoothRel(h,$.x,$.y,$.x2,$.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:var $={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicSmoothAbs(h,$.x,$.y,$.x2,$.y2);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:var $={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoQuadraticRel(h,$.x,$.y,$.x1,$.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:var $={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoQuadraticAbs(h,$.x,$.y,$.x1,$.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:return new window.SVGPathSegCurvetoQuadraticSmoothRel(h,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:return new window.SVGPathSegCurvetoQuadraticSmoothAbs(h,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_ARC_REL:var $={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegArcRel(h,$.x,$.y,$.x1,$.y1,$.arcAngle,$.arcLarge,$.arcSweep);case window.SVGPathSeg.PATHSEG_ARC_ABS:var $={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegArcAbs(h,$.x,$.y,$.x1,$.y1,$.arcAngle,$.arcLarge,$.arcSweep);default:throw"Unknown path seg type."}};var T=new g,M=new m(l);if(!M.initialCommandIsMoveTo())return[];for(;M.hasMoreData();){var I=M.parseSegment();if(!I)return[];T.appendSegment(I)}return T.pathSegList})}(),String.prototype.padEnd||(String.prototype.padEnd=function(h,g){return h=h>>0,g=String(typeof g<"u"?g:" "),this.length>h?String(this):(h=h-this.length,h>g.length&&(g+=g.repeat(h/g.length)),String(this)+g.slice(0,h))}),typeof Object.assign!="function"&&Object.defineProperty(Object,"assign",{value:function(h,g){if(h==null)throw new TypeError("Cannot convert undefined or null to object");for(var m=Object(h),T=1;T<arguments.length;T++){var M=arguments[T];if(M!=null)for(var I in M)Object.prototype.hasOwnProperty.call(M,I)&&(m[I]=M[I])}return m},writable:!0,configurable:!0}),r.prototype.axis=function(){},r.prototype.axis.labels=function(l){var h=this.internal;arguments.length&&(Object.keys(l).forEach(function(g){h.axis.setLabelText(g,l[g])}),h.axis.updateLabels())},r.prototype.axis.max=function(l){var h=this.internal,g=h.config;if(arguments.length)typeof l=="object"?(b(l.x)&&(g.axis_x_max=l.x),b(l.y)&&(g.axis_y_max=l.y),b(l.y2)&&(g.axis_y2_max=l.y2)):g.axis_y_max=g.axis_y2_max=l,h.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0});else return{x:g.axis_x_max,y:g.axis_y_max,y2:g.axis_y2_max}},r.prototype.axis.min=function(l){var h=this.internal,g=h.config;if(arguments.length)typeof l=="object"?(b(l.x)&&(g.axis_x_min=l.x),b(l.y)&&(g.axis_y_min=l.y),b(l.y2)&&(g.axis_y2_min=l.y2)):g.axis_y_min=g.axis_y2_min=l,h.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0});else return{x:g.axis_x_min,y:g.axis_y_min,y2:g.axis_y2_min}},r.prototype.axis.range=function(l){if(arguments.length)p(l.max)&&this.axis.max(l.max),p(l.min)&&this.axis.min(l.min);else return{max:this.axis.max(),min:this.axis.min()}},r.prototype.axis.types=function(l){var h=this.internal;if(l===void 0)return{y:h.config.axis_y_type,y2:h.config.axis_y2_type};p(l.y)&&(h.config.axis_y_type=l.y),p(l.y2)&&(h.config.axis_y2_type=l.y2),h.updateScales(),h.redraw()},r.prototype.category=function(l,h){var g=this.internal,m=g.config;return arguments.length>1&&(m.axis_x_categories[l]=h,g.redraw()),m.axis_x_categories[l]},r.prototype.categories=function(l){var h=this.internal,g=h.config;return arguments.length&&(g.axis_x_categories=l,h.redraw()),g.axis_x_categories},r.prototype.resize=function(l){var h=this.internal,g=h.config;g.size_width=l?l.width:null,g.size_height=l?l.height:null,this.flush()},r.prototype.flush=function(){var l=this.internal;l.updateAndRedraw({withLegend:!0,withTransition:!1,withTransitionForTransform:!1})},r.prototype.destroy=function(){var l=this.internal;return window.clearInterval(l.intervalForObserveInserted),l.resizeTimeout!==void 0&&window.clearTimeout(l.resizeTimeout),window.removeEventListener("resize",l.resizeIfElementDisplayed),l.resizeFunction.remove(),l.unbindWindowFocus(),l.selectChart.classed("c3",!1).html(""),Object.keys(l).forEach(function(h){l[h]=null}),null},r.prototype.color=function(l){var h=this.internal;return h.color(l)},r.prototype.data=function(l){var h=this.internal.data.targets;return typeof l>"u"?h:h.filter(function(g){return[].concat(l).indexOf(g.id)>=0})},r.prototype.data.shown=function(l){return this.internal.filterTargetsToShow(this.data(l))},r.prototype.data.values=function(l,h){h===void 0&&(h=!0);var g=null;if(l){var m=this.data(l);m&&d(m)&&(g=m.reduce(function(T,M){var I=M.values.map(function(k){return k.value});return h?T=T.concat(I):T.push(I),T},[]))}return g},r.prototype.data.names=function(l){return this.internal.clearLegendItemTextBoxCache(),this.internal.updateDataAttributes("names",l)},r.prototype.data.colors=function(l){return this.internal.updateDataAttributes("colors",l)},r.prototype.data.axes=function(l){return this.internal.updateDataAttributes("axes",l)},r.prototype.data.stackNormalized=function(l){if(l===void 0)return this.internal.isStackNormalized();this.internal.config.data_stack_normalize=!!l,this.internal.redraw()},r.prototype.donut=function(){},r.prototype.donut.padAngle=function(l){if(l===void 0)return this.internal.config.donut_padAngle;this.internal.config.donut_padAngle=l,this.flush()},r.prototype.flow=function(l){var h=this.internal,g,m,T=[],M=h.getMaxDataCount(),I,k,V,$=0,F=0,z,U;if(l.json)m=h.convertJsonToData(l.json,l.keys);else if(l.rows)m=h.convertRowsToData(l.rows);else if(l.columns)m=h.convertColumnsToData(l.columns);else return;g=h.convertDataToTargets(m,!0),h.data.targets.forEach(function(B){var Z=!1,q,j;for(q=0;q<g.length;q++)if(B.id===g[q].id){for(Z=!0,B.values[B.values.length-1]&&(F=B.values[B.values.length-1].index+1),$=g[q].values.length,j=0;j<$;j++)g[q].values[j].index=F+j,h.isTimeSeries()||(g[q].values[j].x=F+j);B.values=B.values.concat(g[q].values),g.splice(q,1);break}Z||T.push(B.id)}),h.data.targets.forEach(function(B){var Z,q;for(Z=0;Z<T.length;Z++)if(B.id===T[Z])for(F=B.values[B.values.length-1].index+1,q=0;q<$;q++)B.values.push({id:B.id,index:F+q,x:h.isTimeSeries()?h.getOtherTargetX(F+q):F+q,value:null})}),h.data.targets.length&&g.forEach(function(B){var Z,q=[];for(Z=h.data.targets[0].values[0].index;Z<F;Z++)q.push({id:B.id,index:Z,x:h.isTimeSeries()?h.getOtherTargetX(Z):Z,value:null});B.values.forEach(function(j){j.index+=F,h.isTimeSeries()||(j.x+=F)}),B.values=q.concat(B.values)}),h.data.targets=h.data.targets.concat(g),h.getMaxDataCount(),k=h.data.targets[0],V=k.values[0],p(l.to)?($=0,U=h.isTimeSeries()?h.parseDate(l.to):l.to,k.values.forEach(function(B){B.x<U&&$++})):p(l.length)&&($=l.length),M?M===1&&h.isTimeSeries()&&(z=(k.values[k.values.length-1].x-V.x)/2,I=[new Date(+V.x-z),new Date(+V.x+z)],h.updateXDomain(null,!0,!0,!1,I)):(h.isTimeSeries()?k.values.length>1?z=k.values[k.values.length-1].x-V.x:z=V.x-h.getXDomain(h.data.targets)[0]:z=1,I=[V.x-z,V.x],h.updateXDomain(null,!0,!0,!1,I)),h.updateTargets(h.data.targets),h.redraw({flow:{index:V.index,length:$,duration:b(l.duration)?l.duration:h.config.transition_duration,done:l.done,orgDataCount:M},withLegend:!0,withTransition:M>1,withTrimXDomain:!1,withUpdateXAxis:!0})},n.prototype.generateFlow=function(l){var h=this,g=h.config,m=h.d3;return function(){var T=l.targets,M=l.flow,I=l.drawBar,k=l.drawLine,V=l.drawArea,$=l.cx,F=l.cy,z=l.xv,U=l.xForText,B=l.yForText,Z=l.duration,q,j=1,J,dt=M.index,vt=M.length,Dt=h.getValueOnIndex(h.data.targets[0].values,dt),Ft=h.getValueOnIndex(h.data.targets[0].values,dt+vt),Gt=h.x.domain(),gt,Et=M.duration||Z,Pt=M.done||function(){},Tt=h.generateWait(),ot,lt,de,Ye,Pe,Dn,xe,Xe;h.flowing=!0,h.data.targets.forEach(function(tt){tt.values.splice(0,vt)}),gt=h.updateXDomain(T,!0,!0),h.updateXGrid&&h.updateXGrid(!0),ot=h.xgrid||m.selectAll([]),lt=h.xgridLines||m.selectAll([]),de=h.mainRegion||m.selectAll([]),Ye=h.mainText||m.selectAll([]),Pe=h.mainBar||m.selectAll([]),Dn=h.mainLine||m.selectAll([]),xe=h.mainArea||m.selectAll([]),Xe=h.mainCircle||m.selectAll([]),M.orgDataCount?M.orgDataCount===1||(Dt&&Dt.x)===(Ft&&Ft.x)||h.isTimeSeries()?q=h.x(Gt[0])-h.x(gt[0]):q=h.x(Dt.x)-h.x(Ft.x):h.data.targets[0].values.length!==1?q=h.x(Gt[0])-h.x(gt[0]):h.isTimeSeries()?(Dt=h.getValueOnIndex(h.data.targets[0].values,0),Ft=h.getValueOnIndex(h.data.targets[0].values,h.data.targets[0].values.length-1),q=h.x(Dt.x)-h.x(Ft.x)):q=o(gt)/2,j=o(Gt)/o(gt),J="translate("+q+",0) scale("+j+",1)",h.hideXGridFocus();var Kt=m.transition().ease(m.easeLinear).duration(Et);Tt.add(h.xAxis(h.axes.x,Kt)),Tt.add(Pe.transition(Kt).attr("transform",J)),Tt.add(Dn.transition(Kt).attr("transform",J)),Tt.add(xe.transition(Kt).attr("transform",J)),Tt.add(Xe.transition(Kt).attr("transform",J)),Tt.add(Ye.transition(Kt).attr("transform",J)),Tt.add(de.filter(h.isRegionOnX).transition(Kt).attr("transform",J)),Tt.add(ot.transition(Kt).attr("transform",J)),Tt.add(lt.transition(Kt).attr("transform",J)),Tt(function(){var tt,_t=[],Un=[];if(vt){for(tt=0;tt<vt;tt++)_t.push("."+C.shape+"-"+(dt+tt)),Un.push("."+C.text+"-"+(dt+tt));h.svg.selectAll("."+C.shapes).selectAll(_t).remove(),h.svg.selectAll("."+C.texts).selectAll(Un).remove(),h.svg.select("."+C.xgrid).remove()}ot.attr("transform",null).attr("x1",h.xgridAttr.x1).attr("x2",h.xgridAttr.x2).attr("y1",h.xgridAttr.y1).attr("y2",h.xgridAttr.y2).style("opacity",h.xgridAttr.opacity),lt.attr("transform",null),lt.select("line").attr("x1",g.axis_rotated?0:z).attr("x2",g.axis_rotated?h.width:z),lt.select("text").attr("x",g.axis_rotated?h.width:0).attr("y",z),Pe.attr("transform",null).attr("d",I),Dn.attr("transform",null).attr("d",k),xe.attr("transform",null).attr("d",V),Xe.attr("transform",null).attr("cx",$).attr("cy",F),Ye.attr("transform",null).attr("x",U).attr("y",B).style("fill-opacity",h.opacityForText.bind(h)),de.attr("transform",null),de.filter(h.isRegionOnX).attr("x",h.regionX.bind(h)).attr("width",h.regionWidth.bind(h)),Pt(),h.flowing=!1})}},r.prototype.focus=function(l){var h=this.internal,g;l=h.mapToTargetIds(l),g=h.svg.selectAll(h.selectorTargets(l.filter(h.isTargetToShow,h))),this.revert(),this.defocus(),g.classed(C.focused,!0).classed(C.defocused,!1),h.hasArcType()&&h.expandArc(l),h.toggleFocusLegend(l,!0),h.focusedTargetIds=l,h.defocusedTargetIds=h.defocusedTargetIds.filter(function(m){return l.indexOf(m)<0})},r.prototype.defocus=function(l){var h=this.internal,g;l=h.mapToTargetIds(l),g=h.svg.selectAll(h.selectorTargets(l.filter(h.isTargetToShow,h))),g.classed(C.focused,!1).classed(C.defocused,!0),h.hasArcType()&&h.unexpandArc(l),h.toggleFocusLegend(l,!1),h.focusedTargetIds=h.focusedTargetIds.filter(function(m){return l.indexOf(m)<0}),h.defocusedTargetIds=l},r.prototype.revert=function(l){var h=this.internal,g;l=h.mapToTargetIds(l),g=h.svg.selectAll(h.selectorTargets(l)),g.classed(C.focused,!1).classed(C.defocused,!1),h.hasArcType()&&h.unexpandArc(l),h.config.legend_show&&(h.showLegend(l.filter(h.isLegendToShow.bind(h))),h.legend.selectAll(h.selectorLegends(l)).filter(function(){return h.d3.select(this).classed(C.legendItemFocused)}).classed(C.legendItemFocused,!1)),h.focusedTargetIds=[],h.defocusedTargetIds=[]},r.prototype.xgrids=function(l){var h=this.internal,g=h.config;return l&&(g.grid_x_lines=l,h.redrawWithoutRescale()),g.grid_x_lines},r.prototype.xgrids.add=function(l){var h=this.internal;return this.xgrids(h.config.grid_x_lines.concat(l||[]))},r.prototype.xgrids.remove=function(l){var h=this.internal;h.removeGridLines(l,!0)},r.prototype.ygrids=function(l){var h=this.internal,g=h.config;return l&&(g.grid_y_lines=l,h.redrawWithoutRescale()),g.grid_y_lines},r.prototype.ygrids.add=function(l){var h=this.internal;return this.ygrids(h.config.grid_y_lines.concat(l||[]))},r.prototype.ygrids.remove=function(l){var h=this.internal;h.removeGridLines(l,!1)},r.prototype.groups=function(l){var h=this.internal,g=h.config;return w(l)||(g.data_groups=l,h.redraw()),g.data_groups},r.prototype.legend=function(){},r.prototype.legend.show=function(l){var h=this.internal;h.showLegend(h.mapToTargetIds(l)),h.updateAndRedraw({withLegend:!0})},r.prototype.legend.hide=function(l){var h=this.internal;h.hideLegend(h.mapToTargetIds(l)),h.updateAndRedraw({withLegend:!1})},r.prototype.load=function(l){var h=this.internal,g=h.config;if(l.xs&&h.addXs(l.xs),"names"in l&&r.prototype.data.names.bind(this)(l.names),"classes"in l&&Object.keys(l.classes).forEach(function(m){g.data_classes[m]=l.classes[m]}),"categories"in l&&h.isCategorized()&&(g.axis_x_categories=l.categories),"axes"in l&&Object.keys(l.axes).forEach(function(m){g.data_axes[m]=l.axes[m]}),"colors"in l&&Object.keys(l.colors).forEach(function(m){g.data_colors[m]=l.colors[m]}),"cacheIds"in l&&h.hasCaches(l.cacheIds)){h.load(h.getCaches(l.cacheIds),l.done);return}l.unload?h.unload(h.mapToTargetIds(l.unload===!0?null:l.unload),function(){h.loadFromArgs(l)}):h.loadFromArgs(l)},r.prototype.unload=function(l){var h=this.internal;l=l||{},l instanceof Array?l={ids:l}:typeof l=="string"&&(l={ids:[l]}),h.unload(h.mapToTargetIds(l.ids),function(){h.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),l.done&&l.done()})},r.prototype.pie=function(){},r.prototype.pie.padAngle=function(l){if(l===void 0)return this.internal.config.pie_padAngle;this.internal.config.pie_padAngle=l,this.flush()},r.prototype.regions=function(l){var h=this.internal,g=h.config;return l&&(g.regions=l,h.redrawWithoutRescale()),g.regions},r.prototype.regions.add=function(l){var h=this.internal,g=h.config;return l&&(g.regions=g.regions.concat(l),h.redrawWithoutRescale()),g.regions},r.prototype.regions.remove=function(l){var h=this.internal,g=h.config,m,T,M;return l=l||{},m=s(l,"duration",g.transition_duration),T=s(l,"classes",[C.region]),M=h.main.select("."+C.regions).selectAll(T.map(function(I){return"."+I})),(m?M.transition().duration(m):M).style("opacity",0).remove(),g.regions=g.regions.filter(function(I){var k=!1;return I.class?(I.class.split(" ").forEach(function(V){T.indexOf(V)>=0&&(k=!0)}),!k):!0}),g.regions},r.prototype.selected=function(l){var h=this.internal,g=h.d3;return h.main.selectAll("."+C.shapes+h.getTargetSelectorSuffix(l)).selectAll("."+C.shape).filter(function(){return g.select(this).classed(C.SELECTED)}).nodes().map(function(m){var T=m.__data__;return T.data?T.data:T})},r.prototype.select=function(l,h,g){var m=this.internal,T=m.d3,M=m.config;M.data_selection_enabled&&m.main.selectAll("."+C.shapes).selectAll("."+C.shape).each(function(I,k){var V=T.select(this),$=I.data?I.data.id:I.id,F=m.getToggle(this,I).bind(m),z=M.data_selection_grouped||!l||l.indexOf($)>=0,U=!h||h.indexOf(k)>=0,B=V.classed(C.SELECTED);V.classed(C.line)||V.classed(C.area)||(z&&U?M.data_selection_isselectable(I)&&!B&&F(!0,V.classed(C.SELECTED,!0),I,k):p(g)&&g&&B&&F(!1,V.classed(C.SELECTED,!1),I,k))})},r.prototype.unselect=function(l,h){var g=this.internal,m=g.d3,T=g.config;T.data_selection_enabled&&g.main.selectAll("."+C.shapes).selectAll("."+C.shape).each(function(M,I){var k=m.select(this),V=M.data?M.data.id:M.id,$=g.getToggle(this,M).bind(g),F=T.data_selection_grouped||!l||l.indexOf(V)>=0,z=!h||h.indexOf(I)>=0,U=k.classed(C.SELECTED);k.classed(C.line)||k.classed(C.area)||F&&z&&T.data_selection_isselectable(M)&&U&&$(!1,k.classed(C.SELECTED,!1),M,I)})},r.prototype.show=function(l,h){var g=this.internal,m;l=g.mapToTargetIds(l),h=h||{},g.removeHiddenTargetIds(l),m=g.svg.selectAll(g.selectorTargets(l)),m.transition().style("display",O()?"block":"initial","important").style("opacity",1,"important").call(g.endall,function(){m.style("opacity",null).style("opacity",1)}),h.withLegend&&g.showLegend(l),g.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},r.prototype.hide=function(l,h){var g=this.internal,m;l=g.mapToTargetIds(l),h=h||{},g.addHiddenTargetIds(l),m=g.svg.selectAll(g.selectorTargets(l)),m.transition().style("opacity",0,"important").call(g.endall,function(){m.style("opacity",null).style("opacity",0),m.style("display","none")}),h.withLegend&&g.hideLegend(l),g.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},r.prototype.toggle=function(l,h){var g=this,m=this.internal;m.mapToTargetIds(l).forEach(function(T){m.isTargetToShow(T)?g.hide(T,h):g.show(T,h)})},r.prototype.subchart=function(){},r.prototype.subchart.isShown=function(){var l=this.internal;return l.config.subchart_show},r.prototype.subchart.show=function(){var l=this.internal;l.config.subchart_show||(l.config.subchart_show=!0,l.initSubchart(),l.updateDimension(),l.initSubchartBrush(),l.updateTargetsForSubchart(l.getTargets()),l.mapToIds(l.data.targets).forEach(function(h){l.withoutFadeIn[h]=!1}),l.updateAndRedraw(),l.showTargets())},r.prototype.subchart.hide=function(){var l=this.internal;l.config.subchart_show&&(l.config.subchart_show=!1,l.removeSubchart(),l.redraw())},r.prototype.tooltip=function(){},r.prototype.tooltip.show=function(l){var h=this.internal,g,m,T={};l.mouse?T=l.mouse:(l.data?m=l.data:typeof l.x<"u"&&(l.id?g=h.data.targets.filter(function(M){return M.id===l.id}):g=h.data.targets,m=h.filterByX(g,l.x).slice(0,1)[0]),T=m?h.getMousePosition(m):null),h.dispatchEvent("mousemove",T),h.config.tooltip_onshow.call(h,m)},r.prototype.tooltip.hide=function(){this.internal.dispatchEvent("mouseout",0),this.internal.config.tooltip_onhide.call(this)},r.prototype.transform=function(l,h){var g=this.internal,m=["pie","donut"].indexOf(l)>=0?{withTransform:!0}:null;g.transformTo(h,l,m)},n.prototype.transformTo=function(l,h,g){var m=this,T=!m.hasArcType(),M=g||{withTransitionForAxis:T};M.withTransitionForTransform=!1,m.transiting=!1,m.setTargetType(l,h),m.updateTargets(m.data.targets),m.updateAndRedraw(M)},r.prototype.x=function(l){var h=this.internal;return arguments.length&&(h.updateTargetX(h.data.targets,l),h.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),h.data.xs},r.prototype.xs=function(l){var h=this.internal;return arguments.length&&(h.updateTargetXs(h.data.targets,l),h.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),h.data.xs},r.prototype.zoom=function(l){var h=this.internal;return l?(h.isTimeSeries()&&(l=l.map(function(g){return h.parseDate(g)})),h.config.subchart_show?h.brush.selectionAsValue(l,!0):(h.updateXDomain(null,!0,!1,!1,l),h.redraw({withY:h.config.zoom_rescale,withSubchart:!1})),h.config.zoom_onzoom.call(this,h.x.orgDomain()),l):h.x.domain()},r.prototype.zoom.enable=function(l){var h=this.internal;h.config.zoom_enabled=l,h.updateAndRedraw()},r.prototype.unzoom=function(){var l=this.internal;l.config.subchart_show?l.brush.clear():(l.updateXDomain(null,!0,!1,!1,l.subX.domain()),l.redraw({withY:l.config.zoom_rescale,withSubchart:!1}))},r.prototype.zoom.max=function(l){var h=this.internal,g=h.config,m=h.d3;if(l===0||l)g.zoom_x_max=m.max([h.orgXDomain[1],l]);else return g.zoom_x_max},r.prototype.zoom.min=function(l){var h=this.internal,g=h.config,m=h.d3;if(l===0||l)g.zoom_x_min=m.min([h.orgXDomain[0],l]);else return g.zoom_x_min},r.prototype.zoom.range=function(l){if(arguments.length)p(l.max)&&this.domain.max(l.max),p(l.min)&&this.domain.min(l.min);else return{max:this.domain.max(),min:this.domain.min()}},n.prototype.initPie=function(){var l=this,h=l.d3;l.pie=h.pie().padAngle(this.getPadAngle.bind(this)).value(function(T){return T.values.reduce(function(M,I){return M+I.value},0)});var g=l.getOrderFunction();if(g&&(l.isOrderAsc()||l.isOrderDesc())){var m=g;g=function(T,M){return m(T,M)*-1}}l.pie.sort(g||null)},n.prototype.updateRadius=function(){var l=this,h=l.config,g=h.gauge_width||h.donut_width,m=l.filterTargetsToShow(l.data.targets).length*l.config.gauge_arcs_minWidth;l.radiusExpanded=Math.min(l.arcWidth,l.arcHeight)/2*(l.hasType("gauge")?.85:1),l.radius=l.radiusExpanded*.95,l.innerRadiusRatio=g?(l.radius-g)/l.radius:.6,l.innerRadius=l.hasType("donut")||l.hasType("gauge")?l.radius*l.innerRadiusRatio:0,l.gaugeArcWidth=g||(m<=l.radius-l.innerRadius?l.radius-l.innerRadius:m<=l.radius?m:l.radius)},n.prototype.getPadAngle=function(){return this.hasType("pie")?this.config.pie_padAngle||0:this.hasType("donut")&&this.config.donut_padAngle||0},n.prototype.updateArc=function(){var l=this;l.svgArc=l.getSvgArc(),l.svgArcExpanded=l.getSvgArcExpanded(),l.svgArcExpandedSub=l.getSvgArcExpanded(.98)},n.prototype.updateAngle=function(l){var h=this,g=h.config,m=!1,T=0,M,I,k,V;return g?(h.pie(h.filterTargetsToShow(h.data.targets)).forEach(function($){!m&&$.data.id===l.data.id&&(m=!0,l=$,l.index=T),T++}),isNaN(l.startAngle)&&(l.startAngle=0),isNaN(l.endAngle)&&(l.endAngle=l.startAngle),h.isGaugeType(l.data)&&(M=g.gauge_min,I=g.gauge_max,k=Math.PI*(g.gauge_fullCircle?2:1)/(I-M),V=l.value<M?0:l.value<I?l.value-M:I-M,l.startAngle=g.gauge_startingAngle,l.endAngle=l.startAngle+k*V),m?l:null):null},n.prototype.getSvgArc=function(){var l=this,h=l.hasType("gauge"),g=l.gaugeArcWidth/l.filterTargetsToShow(l.data.targets).length,m=l.d3.arc().outerRadius(function(M){return h?l.radius-g*M.index:l.radius}).innerRadius(function(M){return h?l.radius-g*(M.index+1):l.innerRadius}),T=function(M,I){var k;return I?m(M):(k=l.updateAngle(M),k?m(k):"M 0 0")};return T.centroid=m.centroid,T},n.prototype.getSvgArcExpanded=function(l){l=l||1;var h=this,g=h.hasType("gauge"),m=h.gaugeArcWidth/h.filterTargetsToShow(h.data.targets).length,T=Math.min(h.radiusExpanded*l-h.radius,m*.8-(1-l)*100),M=h.d3.arc().outerRadius(function(I){return g?h.radius-m*I.index+T:h.radiusExpanded*l}).innerRadius(function(I){return g?h.radius-m*(I.index+1):h.innerRadius});return function(I){var k=h.updateAngle(I);return k?M(k):"M 0 0"}},n.prototype.getArc=function(l,h,g){return g||this.isArcType(l.data)?this.svgArc(l,h):"M 0 0"},n.prototype.transformForArcLabel=function(l){var h=this,g=h.config,m=h.updateAngle(l),T,M,I,k,V,$="",F=h.hasType("gauge");if(m&&!F)T=this.svgArc.centroid(m),M=isNaN(T[0])?0:T[0],I=isNaN(T[1])?0:T[1],k=Math.sqrt(M*M+I*I),h.hasType("donut")&&g.donut_label_ratio?V=y(g.donut_label_ratio)?g.donut_label_ratio(l,h.radius,k):g.donut_label_ratio:h.hasType("pie")&&g.pie_label_ratio?V=y(g.pie_label_ratio)?g.pie_label_ratio(l,h.radius,k):g.pie_label_ratio:V=h.radius&&k?(36/h.radius>.375?1.175-36/h.radius:.8)*h.radius/k:0,$="translate("+M*V+","+I*V+")";else if(m&&F&&h.filterTargetsToShow(h.data.targets).length>1){var z=Math.sin(m.endAngle-Math.PI/2);M=Math.cos(m.endAngle-Math.PI/2)*(h.radiusExpanded+25),I=z*(h.radiusExpanded+15-Math.abs(z*10))+3,$="translate("+M+","+I+")"}return $},n.prototype.getArcRatio=function(l){return this.getRatio("arc",l)},n.prototype.convertToArcData=function(l){return this.addName({id:l.data.id,value:l.value,ratio:this.getRatio("arc",l),index:l.index})},n.prototype.textForArcLabel=function(l){var h=this,g,m,T,M,I;return!h.shouldShowArcLabel()||(g=h.updateAngle(l),m=g?g.value:null,T=h.getRatio("arc",g),M=l.data.id,!h.hasType("gauge")&&!h.meetsArcLabelThreshold(T))?"":(I=h.getArcLabelFormat(),I?I(m,T,M):h.defaultArcValueFormat(m,T))},n.prototype.textForGaugeMinMax=function(l,h){var g=this,m=g.getGaugeLabelExtents();return m?m(l,h):l},n.prototype.expandArc=function(l){var h=this,g;if(h.transiting){g=window.setInterval(function(){h.transiting||(window.clearInterval(g),h.legend.selectAll(".c3-legend-item-focused").size()>0&&h.expandArc(l))},10);return}l=h.mapToTargetIds(l),h.svg.selectAll(h.selectorTargets(l,"."+C.chartArc)).each(function(m){h.shouldExpand(m.data.id)&&h.d3.select(this).selectAll("path").transition().duration(h.expandDuration(m.data.id)).attr("d",h.svgArcExpanded).transition().duration(h.expandDuration(m.data.id)*2).attr("d",h.svgArcExpandedSub).each(function(T){h.isDonutType(T.data)})})},n.prototype.unexpandArc=function(l){var h=this;h.transiting||(l=h.mapToTargetIds(l),h.svg.selectAll(h.selectorTargets(l,"."+C.chartArc)).selectAll("path").transition().duration(function(g){return h.expandDuration(g.data.id)}).attr("d",h.svgArc),h.svg.selectAll("."+C.arc))},n.prototype.expandDuration=function(l){var h=this,g=h.config;return h.isDonutType(l)?g.donut_expand_duration:h.isGaugeType(l)?g.gauge_expand_duration:h.isPieType(l)?g.pie_expand_duration:50},n.prototype.shouldExpand=function(l){var h=this,g=h.config;return h.isDonutType(l)&&g.donut_expand||h.isGaugeType(l)&&g.gauge_expand||h.isPieType(l)&&g.pie_expand},n.prototype.shouldShowArcLabel=function(){var l=this,h=l.config,g=!0;return l.hasType("donut")?g=h.donut_label_show:l.hasType("pie")&&(g=h.pie_label_show),g},n.prototype.meetsArcLabelThreshold=function(l){var h=this,g=h.config,m=h.hasType("donut")?g.donut_label_threshold:g.pie_label_threshold;return l>=m},n.prototype.getArcLabelFormat=function(){var l=this,h=l.config,g=h.pie_label_format;return l.hasType("gauge")?g=h.gauge_label_format:l.hasType("donut")&&(g=h.donut_label_format),g},n.prototype.getGaugeLabelExtents=function(){var l=this,h=l.config;return h.gauge_label_extents},n.prototype.getArcTitle=function(){var l=this;return l.hasType("donut")?l.config.donut_title:""},n.prototype.updateTargetsForArc=function(l){var h=this,g=h.main,m,T,M=h.classChartArc.bind(h),I=h.classArcs.bind(h),k=h.classFocus.bind(h);m=g.select("."+C.chartArcs).selectAll("."+C.chartArc).data(h.pie(l)).attr("class",function(V){return M(V)+k(V.data)}),T=m.enter().append("g").attr("class",M),T.append("g").attr("class",I),T.append("text").attr("dy",h.hasType("gauge")?"-.1em":".35em").style("opacity",0).style("text-anchor","middle").style("pointer-events","none")},n.prototype.initArc=function(){var l=this;l.arcs=l.main.select("."+C.chart).append("g").attr("class",C.chartArcs).attr("transform",l.getTranslate("arc")),l.arcs.append("text").attr("class",C.chartArcsTitle).style("text-anchor","middle").text(l.getArcTitle())},n.prototype.redrawArc=function(l,h,g){var m=this,T=m.d3,M=m.config,I=m.main,k,V,$,F,z=m.hasType("gauge");if(k=I.selectAll("."+C.arcs).selectAll("."+C.arc).data(m.arcData.bind(m)),V=k.enter().append("path").attr("class",m.classArc.bind(m)).style("fill",function(Z){return m.color(Z.data)}).style("cursor",function(Z){return M.interaction_enabled&&M.data_selection_isselectable(Z)?"pointer":null}).each(function(Z){m.isGaugeType(Z.data)&&(Z.startAngle=Z.endAngle=M.gauge_startingAngle),this._current=Z}).merge(k),z&&($=I.selectAll("."+C.arcs).selectAll("."+C.arcLabelLine).data(m.arcData.bind(m)),F=$.enter().append("rect").attr("class",function(Z){return C.arcLabelLine+" "+C.target+" "+C.target+"-"+Z.data.id}).merge($),m.filterTargetsToShow(m.data.targets).length===1?F.style("display","none"):F.style("fill",function(Z){return m.levelColor?m.levelColor(Z.data.values.reduce(function(q,j){return q+j.value},0)):m.color(Z.data)}).style("display",M.gauge_labelLine_show?"":"none").each(function(Z){var q=0,j=2,J=0,dt=0,vt="";if(m.hiddenTargetIds.indexOf(Z.data.id)<0){var Dt=m.updateAngle(Z),Ft=m.gaugeArcWidth/m.filterTargetsToShow(m.data.targets).length*(Dt.index+1),Gt=Dt.endAngle-Math.PI/2,gt=m.radius-Ft,Et=Gt-(gt===0?0:1/gt);q=m.radiusExpanded-m.radius+Ft,J=Math.cos(Et)*gt,dt=Math.sin(Et)*gt,vt="rotate("+Gt*180/Math.PI+", "+J+", "+dt+")"}T.select(this).attr("x",J).attr("y",dt).attr("width",q).attr("height",j).attr("transform",vt).style("stroke-dasharray","0, "+(q+j)+", 0")})),V.attr("transform",function(Z){return!m.isGaugeType(Z.data)&&g?"scale(0)":""}).on("mouseover",M.interaction_enabled?function(Z){var q,j;m.transiting||(q=m.updateAngle(Z),q&&(j=m.convertToArcData(q),m.expandArc(q.data.id),m.api.focus(q.data.id),m.toggleFocusLegend(q.data.id,!0),m.config.data_onmouseover(j,this)))}:null).on("mousemove",M.interaction_enabled?function(Z){var q=m.updateAngle(Z),j,J;q&&(j=m.convertToArcData(q),J=[j],m.showTooltip(J,this))}:null).on("mouseout",M.interaction_enabled?function(Z){var q,j;m.transiting||(q=m.updateAngle(Z),q&&(j=m.convertToArcData(q),m.unexpandArc(q.data.id),m.api.revert(),m.revertLegend(),m.hideTooltip(),m.config.data_onmouseout(j,this)))}:null).on("click",M.interaction_enabled?function(Z,q){var j=m.updateAngle(Z),J;j&&(J=m.convertToArcData(j),m.toggleShape&&m.toggleShape(this,J,q),m.config.data_onclick.call(m.api,J,this))}:null).each(function(){m.transiting=!0}).transition().duration(l).attrTween("d",function(Z){var q=m.updateAngle(Z),j;return q?(isNaN(this._current.startAngle)&&(this._current.startAngle=0),isNaN(this._current.endAngle)&&(this._current.endAngle=this._current.startAngle),j=T.interpolate(this._current,q),this._current=j(0),function(J){if(m.config===null)return"M 0 0";var dt=j(J);return dt.data=Z.data,m.getArc(dt,!0)}):function(){return"M 0 0"}}).attr("transform",g?"scale(1)":"").style("fill",function(Z){return m.levelColor?m.levelColor(Z.data.values.reduce(function(q,j){return q+j.value},0)):m.color(Z.data.id)}).call(m.endall,function(){m.transiting=!1}),k.exit().transition().duration(h).style("opacity",0).remove(),I.selectAll("."+C.chartArc).select("text").style("opacity",0).attr("class",function(Z){return m.isGaugeType(Z.data)?C.gaugeValue:""}).text(m.textForArcLabel.bind(m)).attr("transform",m.transformForArcLabel.bind(m)).style("font-size",function(Z){return m.isGaugeType(Z.data)&&m.filterTargetsToShow(m.data.targets).length===1?Math.round(m.radius/5)+"px":""}).transition().duration(l).style("opacity",function(Z){return m.isTargetToShow(Z.data.id)&&m.isArcType(Z.data)?1:0}),I.select("."+C.chartArcsTitle).style("opacity",m.hasType("donut")||z?1:0),z){var U=0,B=m.arcs.select("g."+C.chartArcsBackground).selectAll("path."+C.chartArcsBackground).data(m.data.targets);B.enter().append("path").attr("class",function(Z,q){return C.chartArcsBackground+" "+C.chartArcsBackground+"-"+q}).merge(B).attr("d",function(Z){if(m.hiddenTargetIds.indexOf(Z.id)>=0)return"M 0 0";var q={data:[{value:M.gauge_max}],startAngle:M.gauge_startingAngle,endAngle:-1*M.gauge_startingAngle*(M.gauge_fullCircle?Math.PI:1),index:U++};return m.getArc(q,!0,!0)}),B.exit().remove(),m.arcs.select("."+C.chartArcsGaugeUnit).attr("dy",".75em").text(M.gauge_label_show?M.gauge_units:""),m.arcs.select("."+C.chartArcsGaugeMin).attr("dx",-1*(m.innerRadius+(m.radius-m.innerRadius)/(M.gauge_fullCircle?1:2))+"px").attr("dy","1.2em").text(M.gauge_label_show?m.textForGaugeMinMax(M.gauge_min,!1):""),m.arcs.select("."+C.chartArcsGaugeMax).attr("dx",m.innerRadius+(m.radius-m.innerRadius)/(M.gauge_fullCircle?1:2)+"px").attr("dy","1.2em").text(M.gauge_label_show?m.textForGaugeMinMax(M.gauge_max,!0):"")}},n.prototype.initGauge=function(){var l=this.arcs;this.hasType("gauge")&&(l.append("g").attr("class",C.chartArcsBackground),l.append("text").attr("class",C.chartArcsGaugeUnit).style("text-anchor","middle").style("pointer-events","none"),l.append("text").attr("class",C.chartArcsGaugeMin).style("text-anchor","middle").style("pointer-events","none"),l.append("text").attr("class",C.chartArcsGaugeMax).style("text-anchor","middle").style("pointer-events","none"))},n.prototype.getGaugeLabelHeight=function(){return this.config.gauge_label_show?20:0},n.prototype.addToCache=function(l,h){this.cache["$"+l]=h},n.prototype.getFromCache=function(l){return this.cache["$"+l]},n.prototype.resetCache=function(){var l=this;Object.keys(this.cache).filter(function(h){return/^\$/.test(h)}).forEach(function(h){delete l.cache[h]})},n.prototype.hasCaches=function(l){for(var h=0;h<l.length;h++)if(!(l[h]in this.cache))return!1;return!0},n.prototype.addCache=function(l,h){this.cache[l]=this.cloneTarget(h)},n.prototype.getCaches=function(l){var h=[],g;for(g=0;g<l.length;g++)l[g]in this.cache&&h.push(this.cloneTarget(this.cache[l[g]]));return h},n.prototype.categoryName=function(l){var h=this.config;return l<h.axis_x_categories.length?h.axis_x_categories[l]:l},n.prototype.generateTargetClass=function(l){return l||l===0?("-"+l).replace(/\s/g,"-"):""},n.prototype.generateClass=function(l,h){return" "+l+" "+l+this.generateTargetClass(h)},n.prototype.classText=function(l){return this.generateClass(C.text,l.index)},n.prototype.classTexts=function(l){return this.generateClass(C.texts,l.id)},n.prototype.classShape=function(l){return this.generateClass(C.shape,l.index)},n.prototype.classShapes=function(l){return this.generateClass(C.shapes,l.id)},n.prototype.classLine=function(l){return this.classShape(l)+this.generateClass(C.line,l.id)},n.prototype.classLines=function(l){return this.classShapes(l)+this.generateClass(C.lines,l.id)},n.prototype.classCircle=function(l){return this.classShape(l)+this.generateClass(C.circle,l.index)},n.prototype.classCircles=function(l){return this.classShapes(l)+this.generateClass(C.circles,l.id)},n.prototype.classBar=function(l){return this.classShape(l)+this.generateClass(C.bar,l.index)},n.prototype.classBars=function(l){return this.classShapes(l)+this.generateClass(C.bars,l.id)},n.prototype.classArc=function(l){return this.classShape(l.data)+this.generateClass(C.arc,l.data.id)},n.prototype.classArcs=function(l){return this.classShapes(l.data)+this.generateClass(C.arcs,l.data.id)},n.prototype.classArea=function(l){return this.classShape(l)+this.generateClass(C.area,l.id)},n.prototype.classAreas=function(l){return this.classShapes(l)+this.generateClass(C.areas,l.id)},n.prototype.classRegion=function(l,h){return this.generateClass(C.region,h)+" "+("class"in l?l.class:"")},n.prototype.classEvent=function(l){return this.generateClass(C.eventRect,l.index)},n.prototype.classTarget=function(l){var h=this,g=h.config.data_classes[l],m="";return g&&(m=" "+C.target+"-"+g),h.generateClass(C.target,l)+m},n.prototype.classFocus=function(l){return this.classFocused(l)+this.classDefocused(l)},n.prototype.classFocused=function(l){return" "+(this.focusedTargetIds.indexOf(l.id)>=0?C.focused:"")},n.prototype.classDefocused=function(l){return" "+(this.defocusedTargetIds.indexOf(l.id)>=0?C.defocused:"")},n.prototype.classChartText=function(l){return C.chartText+this.classTarget(l.id)},n.prototype.classChartLine=function(l){return C.chartLine+this.classTarget(l.id)},n.prototype.classChartBar=function(l){return C.chartBar+this.classTarget(l.id)},n.prototype.classChartArc=function(l){return C.chartArc+this.classTarget(l.data.id)},n.prototype.getTargetSelectorSuffix=function(l){var h=this.generateTargetClass(l);return window.CSS&&window.CSS.escape?window.CSS.escape(h):h.replace(/([?!@#$%^&*()=+,.<>'":;\[\]\/|~`{}\\])/g,"\\$1")},n.prototype.selectorTarget=function(l,h){return(h||"")+"."+C.target+this.getTargetSelectorSuffix(l)},n.prototype.selectorTargets=function(l,h){var g=this;return l=l||[],l.length?l.map(function(m){return g.selectorTarget(m,h)}):null},n.prototype.selectorLegend=function(l){return"."+C.legendItem+this.getTargetSelectorSuffix(l)},n.prototype.selectorLegends=function(l){var h=this;return l&&l.length?l.map(function(g){return h.selectorLegend(g)}):null},n.prototype.getClipPath=function(l){return"url("+(O(9)?"":document.URL.split("#")[0])+"#"+l+")"},n.prototype.appendClip=function(l,h){return l.append("clipPath").attr("id",h).append("rect")},n.prototype.getAxisClipX=function(l){var h=Math.max(30,this.margin.left);return l?-(1+h):-(h-1)},n.prototype.getAxisClipY=function(l){return l?-20:-this.margin.top},n.prototype.getXAxisClipX=function(){var l=this;return l.getAxisClipX(!l.config.axis_rotated)},n.prototype.getXAxisClipY=function(){var l=this;return l.getAxisClipY(!l.config.axis_rotated)},n.prototype.getYAxisClipX=function(){var l=this;return l.config.axis_y_inner?-1:l.getAxisClipX(l.config.axis_rotated)},n.prototype.getYAxisClipY=function(){var l=this;return l.getAxisClipY(l.config.axis_rotated)},n.prototype.getAxisClipWidth=function(l){var h=this,g=Math.max(30,h.margin.left),m=Math.max(30,h.margin.right);return l?h.width+2+g+m:h.margin.left+20},n.prototype.getAxisClipHeight=function(l){return(l?this.margin.bottom:this.margin.top+this.height)+20},n.prototype.getXAxisClipWidth=function(){var l=this;return l.getAxisClipWidth(!l.config.axis_rotated)},n.prototype.getXAxisClipHeight=function(){var l=this;return l.getAxisClipHeight(!l.config.axis_rotated)},n.prototype.getYAxisClipWidth=function(){var l=this;return l.getAxisClipWidth(l.config.axis_rotated)+(l.config.axis_y_inner?20:0)},n.prototype.getYAxisClipHeight=function(){var l=this;return l.getAxisClipHeight(l.config.axis_rotated)},n.prototype.generateColor=function(){var l=this,h=l.config,g=l.d3,m=h.data_colors,T=S(h.color_pattern)?h.color_pattern:g.schemeCategory10,M=h.data_color,I=[];return function(k){var V=k.id||k.data&&k.data.id||k,$;return m[V]instanceof Function?$=m[V](k):m[V]?$=m[V]:(I.indexOf(V)<0&&I.push(V),$=T[I.indexOf(V)%T.length],m[V]=$),M instanceof Function?M($,k):$}},n.prototype.generateLevelColor=function(){var l=this,h=l.config,g=h.color_pattern,m=h.color_threshold,T=m.unit==="value",M=m.values&&m.values.length?m.values:[],I=m.max||100;return S(m)&&S(g)?function(k){var V,$,F=g[g.length-1];for(V=0;V<M.length;V++)if($=T?k:k*100/I,$<M[V]){F=g[V];break}return F}:null},n.prototype.getDefaultConfig=function(){var l={bindto:"#chart",svg_classname:void 0,size_width:void 0,size_height:void 0,padding_left:void 0,padding_right:void 0,padding_top:void 0,padding_bottom:void 0,resize_auto:!0,zoom_enabled:!1,zoom_initialRange:void 0,zoom_type:"scroll",zoom_disableDefaultBehavior:!1,zoom_privileged:!1,zoom_rescale:!1,zoom_onzoom:function(){},zoom_onzoomstart:function(){},zoom_onzoomend:function(){},zoom_x_min:void 0,zoom_x_max:void 0,interaction_brighten:!0,interaction_enabled:!0,onmouseover:function(){},onmouseout:function(){},onresize:function(){},onresized:function(){},oninit:function(){},onrendered:function(){},transition_duration:350,data_epochs:"epochs",data_x:void 0,data_xs:{},data_xFormat:"%Y-%m-%d",data_xLocaltime:!0,data_xSort:!0,data_idConverter:function(h){return h},data_names:{},data_classes:{},data_groups:[],data_axes:{},data_type:void 0,data_types:{},data_labels:{},data_order:"desc",data_regions:{},data_color:void 0,data_colors:{},data_hide:!1,data_filter:void 0,data_selection_enabled:!1,data_selection_grouped:!1,data_selection_isselectable:function(){return!0},data_selection_multiple:!0,data_selection_draggable:!1,data_stack_normalize:!1,data_onclick:function(){},data_onmouseover:function(){},data_onmouseout:function(){},data_onselected:function(){},data_onunselected:function(){},data_url:void 0,data_headers:void 0,data_json:void 0,data_rows:void 0,data_columns:void 0,data_mimeType:void 0,data_keys:void 0,data_empty_label_text:"",subchart_show:!1,subchart_size_height:60,subchart_axis_x_show:!0,subchart_onbrush:function(){},color_pattern:[],color_threshold:{},legend_show:!0,legend_hide:!1,legend_position:"bottom",legend_inset_anchor:"top-left",legend_inset_x:10,legend_inset_y:0,legend_inset_step:void 0,legend_item_onclick:void 0,legend_item_onmouseover:void 0,legend_item_onmouseout:void 0,legend_equally:!1,legend_padding:0,legend_item_tile_width:10,legend_item_tile_height:10,axis_rotated:!1,axis_x_show:!0,axis_x_type:"indexed",axis_x_localtime:!0,axis_x_categories:[],axis_x_tick_centered:!1,axis_x_tick_format:void 0,axis_x_tick_culling:{},axis_x_tick_culling_max:10,axis_x_tick_count:void 0,axis_x_tick_fit:!0,axis_x_tick_values:null,axis_x_tick_rotate:0,axis_x_tick_outer:!0,axis_x_tick_multiline:!0,axis_x_tick_multilineMax:0,axis_x_tick_width:null,axis_x_max:void 0,axis_x_min:void 0,axis_x_padding:{},axis_x_height:void 0,axis_x_selection:void 0,axis_x_label:{},axis_x_inner:void 0,axis_y_show:!0,axis_y_type:"linear",axis_y_max:void 0,axis_y_min:void 0,axis_y_inverted:!1,axis_y_center:void 0,axis_y_inner:void 0,axis_y_label:{},axis_y_tick_format:void 0,axis_y_tick_outer:!0,axis_y_tick_values:null,axis_y_tick_rotate:0,axis_y_tick_count:void 0,axis_y_tick_time_type:void 0,axis_y_tick_time_interval:void 0,axis_y_padding:{},axis_y_default:void 0,axis_y2_show:!1,axis_y2_type:"linear",axis_y2_max:void 0,axis_y2_min:void 0,axis_y2_inverted:!1,axis_y2_center:void 0,axis_y2_inner:void 0,axis_y2_label:{},axis_y2_tick_format:void 0,axis_y2_tick_outer:!0,axis_y2_tick_values:null,axis_y2_tick_count:void 0,axis_y2_padding:{},axis_y2_default:void 0,grid_x_show:!1,grid_x_type:"tick",grid_x_lines:[],grid_y_show:!1,grid_y_lines:[],grid_y_ticks:10,grid_focus_show:!0,grid_lines_front:!0,point_show:!0,point_r:2.5,point_sensitivity:10,point_focus_expand_enabled:!0,point_focus_expand_r:void 0,point_select_r:void 0,line_connectNull:!1,line_step_type:"step",bar_width:void 0,bar_width_ratio:.6,bar_width_max:void 0,bar_zerobased:!0,bar_space:0,area_zerobased:!0,area_above:!1,pie_label_show:!0,pie_label_format:void 0,pie_label_threshold:.05,pie_label_ratio:void 0,pie_expand:{},pie_expand_duration:50,pie_padAngle:0,gauge_fullCircle:!1,gauge_label_show:!0,gauge_labelLine_show:!0,gauge_label_format:void 0,gauge_min:0,gauge_max:100,gauge_startingAngle:-1*Math.PI/2,gauge_label_extents:void 0,gauge_units:void 0,gauge_width:void 0,gauge_arcs_minWidth:5,gauge_expand:{},gauge_expand_duration:50,donut_label_show:!0,donut_label_format:void 0,donut_label_threshold:.05,donut_label_ratio:void 0,donut_width:void 0,donut_title:"",donut_expand:{},donut_expand_duration:50,donut_padAngle:0,spline_interpolation_type:"cardinal",stanford_lines:[],stanford_regions:[],stanford_texts:[],stanford_scaleMin:void 0,stanford_scaleMax:void 0,stanford_scaleWidth:void 0,stanford_scaleFormat:void 0,stanford_scaleValues:void 0,stanford_colors:void 0,stanford_padding:{top:0,right:0,bottom:0,left:0},regions:[],tooltip_show:!0,tooltip_grouped:!0,tooltip_order:void 0,tooltip_format_title:void 0,tooltip_format_name:void 0,tooltip_format_value:void 0,tooltip_horizontal:void 0,tooltip_position:void 0,tooltip_contents:function(h,g,m,T){return this.getTooltipContent?this.getTooltipContent(h,g,m,T):""},tooltip_init_show:!1,tooltip_init_x:0,tooltip_init_position:{top:"0px",left:"50px"},tooltip_onshow:function(){},tooltip_onhide:function(){},title_text:void 0,title_padding:{top:0,right:0,bottom:0,left:0},title_position:"top-center"};return Object.keys(this.additionalConfig).forEach(function(h){l[h]=this.additionalConfig[h]},this),l},n.prototype.additionalConfig={},n.prototype.loadConfig=function(l){var h=this.config,g,m,T;function M(){var I=m.shift();return I&&g&&typeof g=="object"&&I in g?(g=g[I],M()):I?void 0:g}Object.keys(h).forEach(function(I){g=l,m=I.split("_"),T=M(),p(T)&&(h[I]=T)})},n.prototype.convertUrlToData=function(l,h,g,m,T){var M=this,I=h||"csv",k,V;I==="json"?(k=M.d3.json,V=M.convertJsonToData):I==="tsv"?(k=M.d3.tsv,V=M.convertXsvToData):(k=M.d3.csv,V=M.convertXsvToData),k(l,g).then(function($){T.call(M,V.call(M,$,m))}).catch(function($){throw $})},n.prototype.convertXsvToData=function(l){var h=l.columns,g=l;return g.length===0?{keys:h,rows:[h.reduce(function(m,T){var M;return Object.assign(m,(M={},M[T]=null,M))},{})]}:{keys:h,rows:[].concat(l)}},n.prototype.convertJsonToData=function(l,h){var g=this,m=[],T,M;return h?(h.x?(T=h.value.concat(h.x),g.config.data_x=h.x):T=h.value,m.push(T),l.forEach(function(I){var k=[];T.forEach(function(V){var $=g.findValueInJson(I,V);w($)&&($=null),k.push($)}),m.push(k)}),M=g.convertRowsToData(m)):(Object.keys(l).forEach(function(I){m.push([I].concat(l[I]))}),M=g.convertColumnsToData(m)),M},n.prototype.findValueInJson=function(l,h){if(h in l)return l[h];h=h.replace(/\[(\w+)\]/g,".$1"),h=h.replace(/^\./,"");for(var g=h.split("."),m=0;m<g.length;++m){var T=g[m];if(T in l)l=l[T];else return}return l},n.prototype.convertRowsToData=function(l){for(var h=[],g=l[0],m=1;m<l.length;m++){for(var T={},M=0;M<l[m].length;M++){if(w(l[m][M]))throw new Error("Source data is missing a component at ("+m+","+M+")!");T[g[M]]=l[m][M]}h.push(T)}return{keys:g,rows:h}},n.prototype.convertColumnsToData=function(l){for(var h=[],g=[],m=0;m<l.length;m++){for(var T=l[m][0],M=1;M<l[m].length;M++){if(w(h[M-1])&&(h[M-1]={}),w(l[m][M]))throw new Error("Source data is missing a component at ("+m+","+M+")!");h[M-1][T]=l[m][M]}g.push(T)}return{keys:g,rows:h}},n.prototype.convertDataToTargets=function(l,h){var g=this,m=g.config,T,M,I,k,V;if(d(l)?k=Object.keys(l[0]):(k=l.keys,l=l.rows),I=k.filter(g.isX,g),!g.isStanfordGraphType())M=k.filter(g.isNotX,g);else if(V=k.filter(g.isEpochs,g),M=k.filter(g.isNotXAndNotEpochs,g),I.length!==1||V.length!==1||M.length!==1)throw new Error("You must define the 'x' key name and the 'epochs' for Stanford Diagrams");return M.forEach(function($){var F=g.getXKey($);g.isCustomX()||g.isTimeSeries()?I.indexOf(F)>=0?g.data.xs[$]=(h&&g.data.xs[$]?g.data.xs[$]:[]).concat(l.map(function(z){return z[F]}).filter(b).map(function(z,U){return g.generateTargetX(z,$,U)})):m.data_x?g.data.xs[$]=g.getOtherTargetXs():S(m.data_xs)&&(g.data.xs[$]=g.getXValuesOfXKey(F,g.data.targets)):g.data.xs[$]=l.map(function(z,U){return U})}),M.forEach(function($){if(!g.data.xs[$])throw new Error('x is not defined for id = "'+$+'".')}),T=M.map(function($,F){var z=m.data_idConverter($);return{id:z,id_org:$,values:l.map(function(U,B){var Z=g.getXKey($),q=U[Z],j=U[$]!==null&&!isNaN(U[$])?+U[$]:null,J,dt;return g.isCustomX()&&g.isCategorized()&&!w(q)?(F===0&&B===0&&(m.axis_x_categories=[]),J=m.axis_x_categories.indexOf(q),J===-1&&(J=m.axis_x_categories.length,m.axis_x_categories.push(q))):J=g.generateTargetX(q,$,B),(w(U[$])||g.data.xs[$].length<=B)&&(J=void 0),dt={x:J,value:j,id:z},g.isStanfordGraphType()&&(dt.epochs=U[V]),dt}).filter(function(U){return p(U.x)})}}),T.forEach(function($){var F;m.data_xSort&&($.values=$.values.sort(function(z,U){var B=z.x||z.x===0?z.x:1/0,Z=U.x||U.x===0?U.x:1/0;return B-Z})),F=0,$.values.forEach(function(z){z.index=F++}),g.data.xs[$.id].sort(function(z,U){return z-U})}),g.hasNegativeValue=g.hasNegativeValueInTargets(T),g.hasPositiveValue=g.hasPositiveValueInTargets(T),m.data_type&&g.setTargetType(g.mapToIds(T).filter(function($){return!($ in m.data_types)}),m.data_type),T.forEach(function($){g.addCache($.id_org,$)}),T},n.prototype.isEpochs=function(l){var h=this,g=h.config;return g.data_epochs&&l===g.data_epochs},n.prototype.isX=function(l){var h=this,g=h.config;return g.data_x&&l===g.data_x||S(g.data_xs)&&c(g.data_xs,l)},n.prototype.isNotX=function(l){return!this.isX(l)},n.prototype.isNotXAndNotEpochs=function(l){return!this.isX(l)&&!this.isEpochs(l)},n.prototype.isStackNormalized=function(){return this.config.data_stack_normalize&&this.config.data_groups.length>0},n.prototype.isAxisNormalized=function(l){var h=this;return h.isStackNormalized()?h.data.targets.filter(function(g){return h.axis.getId(g.id)===l}).some(function(g){return h.isTargetNormalized(g.id)}):!1},n.prototype.isTargetNormalized=function(l){var h=this;return h.isStackNormalized()&&h.config.data_groups.some(function(g){return g.includes(l)})},n.prototype.getXKey=function(l){var h=this,g=h.config;return g.data_x?g.data_x:S(g.data_xs)?g.data_xs[l]:null},n.prototype.getTotalPerIndex=function(l){var h=this;if(!h.isStackNormalized())return null;var g=h.getFromCache("getTotalPerIndex");if(g!==void 0)return g[l];var m={y:[],y2:[]};return h.data.targets.filter(function(T){return h.isTargetNormalized(T.id)}).filter(function(T){return h.isTargetToShow(T.id)}).forEach(function(T){var M=m[h.axis.getId(T.id)];T.values.forEach(function(I,k){M[k]||(M[k]=0),M[k]+=x(I.value)?I.value:0})}),h.addToCache("getTotalPerIndex",m),m[l]},n.prototype.getTotalDataSum=function(){var l=this,h=l.getFromCache("getTotalDataSum");if(h!==void 0)return h;var g=L(l.data.targets.filter(function(m){return l.isTargetToShow(m.id)}).map(function(m){return m.values})).map(function(m){return m.value}).reduce(function(m,T){return m+T},0);return l.addToCache("getTotalDataSum",g),g},n.prototype.getXValuesOfXKey=function(l,h){var g=this,m,T=h&&S(h)?g.mapToIds(h):[];return T.forEach(function(M){g.getXKey(M)===l&&(m=g.data.xs[M])}),m},n.prototype.getXValue=function(l,h){var g=this;return l in g.data.xs&&g.data.xs[l]&&b(g.data.xs[l][h])?g.data.xs[l][h]:h},n.prototype.getOtherTargetXs=function(){var l=this,h=Object.keys(l.data.xs);return h.length?l.data.xs[h[0]]:null},n.prototype.getOtherTargetX=function(l){var h=this.getOtherTargetXs();return h&&l<h.length?h[l]:null},n.prototype.addXs=function(l){var h=this;Object.keys(l).forEach(function(g){h.config.data_xs[g]=l[g]})},n.prototype.addName=function(l){var h=this,g;return l&&(g=h.config.data_names[l.id],l.name=g!==void 0?g:l.id),l},n.prototype.getValueOnIndex=function(l,h){var g=l.filter(function(m){return m.index===h});return g.length?g[0]:null},n.prototype.updateTargetX=function(l,h){var g=this;l.forEach(function(m){m.values.forEach(function(T,M){T.x=g.generateTargetX(h[M],m.id,M)}),g.data.xs[m.id]=h})},n.prototype.updateTargetXs=function(l,h){var g=this;l.forEach(function(m){h[m.id]&&g.updateTargetX([m],h[m.id])})},n.prototype.generateTargetX=function(l,h,g){var m=this,T;return m.isTimeSeries()?T=l?m.parseDate(l):m.parseDate(m.getXValue(h,g)):m.isCustomX()&&!m.isCategorized()?T=b(l)?+l:m.getXValue(h,g):T=g,T},n.prototype.cloneTarget=function(l){return{id:l.id,id_org:l.id_org,values:l.values.map(function(h){return{x:h.x,value:h.value,id:h.id}})}},n.prototype.getMaxDataCount=function(){var l=this;return l.d3.max(l.data.targets,function(h){return h.values.length})},n.prototype.mapToIds=function(l){return l.map(function(h){return h.id})},n.prototype.mapToTargetIds=function(l){var h=this;return l?[].concat(l):h.mapToIds(h.data.targets)},n.prototype.hasTarget=function(l,h){var g=this.mapToIds(l),m;for(m=0;m<g.length;m++)if(g[m]===h)return!0;return!1},n.prototype.isTargetToShow=function(l){return this.hiddenTargetIds.indexOf(l)<0},n.prototype.isLegendToShow=function(l){return this.hiddenLegendIds.indexOf(l)<0},n.prototype.getTargetsToShow=function(){var l=this;return l.filterTargetsToShow(l.data.targets)},n.prototype.filterTargetsToShow=function(l){var h=this;return l.filter(function(g){return h.isTargetToShow(g.id)})},n.prototype.getTargets=function(){var l=this;return l.data.targets},n.prototype.mapTargetsToUniqueXs=function(l){var h=this,g=h.d3.set(h.d3.merge(l.map(function(m){return m.values.map(function(T){return+T.x})}))).values();return g=h.isTimeSeries()?g.map(function(m){return new Date(+m)}):g.map(function(m){return+m}),g.sort(function(m,T){return m<T?-1:m>T?1:m>=T?0:NaN})},n.prototype.addHiddenTargetIds=function(l){l=l instanceof Array?l:new Array(l);for(var h=0;h<l.length;h++)this.hiddenTargetIds.indexOf(l[h])<0&&(this.hiddenTargetIds=this.hiddenTargetIds.concat(l[h]));this.resetCache()},n.prototype.removeHiddenTargetIds=function(l){this.hiddenTargetIds=this.hiddenTargetIds.filter(function(h){return l.indexOf(h)<0}),this.resetCache()},n.prototype.addHiddenLegendIds=function(l){l=l instanceof Array?l:new Array(l);for(var h=0;h<l.length;h++)this.hiddenLegendIds.indexOf(l[h])<0&&(this.hiddenLegendIds=this.hiddenLegendIds.concat(l[h]))},n.prototype.removeHiddenLegendIds=function(l){this.hiddenLegendIds=this.hiddenLegendIds.filter(function(h){return l.indexOf(h)<0})},n.prototype.getValuesAsIdKeyed=function(l){var h={};return l.forEach(function(g){h[g.id]=[],g.values.forEach(function(m){h[g.id].push(m.value)})}),h},n.prototype.checkValueInTargets=function(l,h){var g=Object.keys(l),m,T,M;for(m=0;m<g.length;m++)for(M=l[g[m]].values,T=0;T<M.length;T++)if(h(M[T].value))return!0;return!1},n.prototype.hasNegativeValueInTargets=function(l){return this.checkValueInTargets(l,function(h){return h<0})},n.prototype.hasPositiveValueInTargets=function(l){return this.checkValueInTargets(l,function(h){return h>0})},n.prototype.isOrderDesc=function(){var l=this.config;return typeof l.data_order=="string"&&l.data_order.toLowerCase()==="desc"},n.prototype.isOrderAsc=function(){var l=this.config;return typeof l.data_order=="string"&&l.data_order.toLowerCase()==="asc"},n.prototype.getOrderFunction=function(){var l=this,h=l.config,g=l.isOrderAsc(),m=l.isOrderDesc();if(g||m){var T=function(I,k){return I+Math.abs(k.value)};return function(I,k){var V=I.values.reduce(T,0),$=k.values.reduce(T,0);return g?$-V:V-$}}else{if(y(h.data_order))return h.data_order;if(d(h.data_order)){var M=h.data_order;return function(I,k){return M.indexOf(I.id)-M.indexOf(k.id)}}}},n.prototype.orderTargets=function(l){var h=this.getOrderFunction();return h&&l.sort(h),l},n.prototype.filterByIndex=function(l,h){return this.d3.merge(l.map(function(g){return g.values.filter(function(m){return m.index===h})}))},n.prototype.filterByX=function(l,h){return this.d3.merge(l.map(function(g){return g.values})).filter(function(g){return g.x-h===0})},n.prototype.filterRemoveNull=function(l){return l.filter(function(h){return b(h.value)})},n.prototype.filterByXDomain=function(l,h){return l.map(function(g){return{id:g.id,id_org:g.id_org,values:g.values.filter(function(m){return h[0]<=m.x&&m.x<=h[1]})}})},n.prototype.hasDataLabel=function(){var l=this.config;return typeof l.data_labels=="boolean"&&l.data_labels?!0:!!(typeof l.data_labels=="object"&&S(l.data_labels))},n.prototype.getDataLabelLength=function(l,h,g){var m=this,T=[0,0],M=1.3;return m.selectChart.select("svg").selectAll(".dummy").data([l,h]).enter().append("text").text(function(I){return m.dataLabelFormat(I.id)(I)}).each(function(I,k){T[k]=f(this)[g]*M}).remove(),T},n.prototype.isNoneArc=function(l){return this.hasTarget(this.data.targets,l.id)},n.prototype.isArc=function(l){return"data"in l&&this.hasTarget(this.data.targets,l.data.id)},n.prototype.findClosestFromTargets=function(l,h){var g=this,m=l.map(function(T){return g.findClosest(T.values,h,g.config.tooltip_horizontal?g.horizontalDistance.bind(g):g.dist.bind(g),g.config.point_sensitivity)}).filter(function(T){return T});if(m.length!==0)return m.length===1?m[0]:g.findClosest(m,h,g.dist.bind(g))},n.prototype.findClosestFromTargetsByX=function(l,h){var g,m;return l.forEach(function(T){T.values.forEach(function(M){var I=Math.abs(h-M.x);(m===void 0||I<m)&&(g=M,m=I)})}),g},n.prototype.findClosest=function(l,h,g,m){m===void 0&&(m=1/0);var T=this,M;return l.filter(function(I){return I&&T.isBarType(I.id)}).forEach(function(I){if(!M){var k=T.main.select("."+C.bars+T.getTargetSelectorSuffix(I.id)+" ."+C.bar+"-"+I.index).node();T.isWithinBar(h,k)&&(M=I)}}),l.filter(function(I){return I&&!T.isBarType(I.id)}).forEach(function(I){var k=g(I,h);k<m&&(m=k,M=I)}),M},n.prototype.dist=function(l,h){var g=this,m=g.config,T=m.axis_rotated?1:0,M=m.axis_rotated?0:1,I=g.circleY(l,l.index),k=g.x(l.x);return Math.sqrt(Math.pow(k-h[T],2)+Math.pow(I-h[M],2))},n.prototype.horizontalDistance=function(l,h){var g=this,m=g.config,T=m.axis_rotated?1:0,M=g.x(l.x);return Math.abs(M-h[T])},n.prototype.convertValuesToStep=function(l){var h=[].concat(l),g;if(!this.isCategorized())return l;for(g=l.length+1;0<g;g--)h[g]=h[g-1];return h[0]={x:h[0].x-1,value:h[0].value,id:h[0].id},h[l.length+1]={x:h[l.length].x+1,value:h[l.length].value,id:h[l.length].id},h},n.prototype.getRatio=function(l,h,g){g===void 0&&(g=!1);var m=this,T=m.api,M=0;if(h&&T.data.shown.call(T).length){if(M=h.ratio||h.value,l==="arc")if(m.hasType("gauge"))M=(h.endAngle-h.startAngle)/(Math.PI*(m.config.gauge_fullCircle?2:1));else{var I=m.getTotalDataSum();M=h.value/I}else if(l==="index"){var I=m.getTotalPerIndex(m.axis.getId(h.id));h.ratio=x(h.value)&&I&&I[h.index]>0?h.value/I[h.index]:0,M=h.ratio}}return g&&M?M*100:M},n.prototype.updateDataAttributes=function(l,h){var g=this,m=g.config,T=m["data_"+l];return typeof h>"u"||(Object.keys(h).forEach(function(M){T[M]=h[M]}),g.redraw({withLegend:!0})),T},n.prototype.load=function(l,h){var g=this;l&&(h.filter&&(l=l.filter(h.filter)),(h.type||h.types)&&l.forEach(function(m){var T=h.types&&h.types[m.id]?h.types[m.id]:h.type;g.setTargetType(m.id,T)}),g.data.targets.forEach(function(m){for(var T=0;T<l.length;T++)if(m.id===l[T].id){m.values=l[T].values,l.splice(T,1);break}}),g.data.targets=g.data.targets.concat(l)),g.updateTargets(g.data.targets),g.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),h.done&&h.done()},n.prototype.loadFromArgs=function(l){var h=this;h.resetCache(),l.data?h.load(h.convertDataToTargets(l.data),l):l.url?h.convertUrlToData(l.url,l.mimeType,l.headers,l.keys,function(g){h.load(h.convertDataToTargets(g),l)}):l.json?h.load(h.convertDataToTargets(h.convertJsonToData(l.json,l.keys)),l):l.rows?h.load(h.convertDataToTargets(h.convertRowsToData(l.rows)),l):l.columns?h.load(h.convertDataToTargets(h.convertColumnsToData(l.columns)),l):h.load(null,l)},n.prototype.unload=function(l,h){var g=this;if(g.resetCache(),h||(h=function(){}),l=l.filter(function(m){return g.hasTarget(g.data.targets,m)}),!l||l.length===0){h();return}g.svg.selectAll(l.map(function(m){return g.selectorTarget(m)})).transition().style("opacity",0).remove().call(g.endall,h),l.forEach(function(m){g.withoutFadeIn[m]=!1,g.legend&&g.legend.selectAll("."+C.legendItem+g.getTargetSelectorSuffix(m)).remove(),g.data.targets=g.data.targets.filter(function(T){return T.id!==m})})},n.prototype.getYDomainMin=function(l){var h=this,g=h.config,m=h.mapToIds(l),T=h.getValuesAsIdKeyed(l),M,I,k,V,$,F;if(g.data_groups.length>0){for(F=h.hasNegativeValueInTargets(l),M=0;M<g.data_groups.length;M++)if(V=g.data_groups[M].filter(function(z){return m.indexOf(z)>=0}),V.length!==0)for(k=V[0],F&&T[k]&&T[k].forEach(function(z,U){T[k][U]=z<0?z:0}),I=1;I<V.length;I++)$=V[I],T[$]&&T[$].forEach(function(z,U){h.axis.getId($)===h.axis.getId(k)&&T[k]&&!(F&&+z>0)&&(T[k][U]+=+z)})}return h.d3.min(Object.keys(T).map(function(z){return h.d3.min(T[z])}))},n.prototype.getYDomainMax=function(l){var h=this,g=h.config,m=h.mapToIds(l),T=h.getValuesAsIdKeyed(l),M,I,k,V,$,F;if(g.data_groups.length>0){for(F=h.hasPositiveValueInTargets(l),M=0;M<g.data_groups.length;M++)if(V=g.data_groups[M].filter(function(z){return m.indexOf(z)>=0}),V.length!==0)for(k=V[0],F&&T[k]&&T[k].forEach(function(z,U){T[k][U]=z>0?z:0}),I=1;I<V.length;I++)$=V[I],T[$]&&T[$].forEach(function(z,U){h.axis.getId($)===h.axis.getId(k)&&T[k]&&!(F&&+z<0)&&(T[k][U]+=+z)})}return h.d3.max(Object.keys(T).map(function(z){return h.d3.max(T[z])}))},n.prototype.getYDomain=function(l,h,g){var m=this,T=m.config;if(m.isAxisNormalized(h))return[0,100];var M=l.filter(function(ot){return m.axis.getId(ot.id)===h}),I=g?m.filterByXDomain(M,g):M,k=h==="y2"?T.axis_y2_min:T.axis_y_min,V=h==="y2"?T.axis_y2_max:T.axis_y_max,$=m.getYDomainMin(I),F=m.getYDomainMax(I),z,U,B,Z,q=h==="y2"?T.axis_y2_center:T.axis_y_center,j,J,dt,vt,Dt,Ft,Gt=m.hasType("bar",I)&&T.bar_zerobased||m.hasType("area",I)&&T.area_zerobased,gt=h==="y2"?T.axis_y2_inverted:T.axis_y_inverted,Et=m.hasDataLabel()&&T.axis_rotated,Pt=m.hasDataLabel()&&!T.axis_rotated;if($=b(k)?k:b(V)?$<V?$:V-10:$,F=b(V)?V:b(k)?k<F?F:k+10:F,I.length===0)return h==="y2"?m.y2.domain():m.y.domain();if(isNaN($)&&($=0),isNaN(F)&&(F=$),$===F&&($<0?F=0:$=0),Dt=$>=0&&F>=0,Ft=$<=0&&F<=0,(b(k)&&Dt||b(V)&&Ft)&&(Gt=!1),Gt&&(Dt&&($=0),Ft&&(F=0)),U=Math.abs(F-$),B=Z=U*.1,typeof q<"u"&&(j=Math.max(Math.abs($),Math.abs(F)),F=q+j,$=q-j),Et)J=m.getDataLabelLength($,F,"width"),dt=o(m.y.range()),vt=[J[0]/dt,J[1]/dt],B+=U*(vt[1]/(1-vt[0]-vt[1])),Z+=U*(vt[0]/(1-vt[0]-vt[1]));else if(Pt){J=m.getDataLabelLength($,F,"height");var Tt=m.getY(T["axis_"+h+"_type"],[0,T.axis_rotated?m.width:m.height],[0,U]);B+=Tt(J[1]),Z+=Tt(J[0])}return h==="y"&&S(T.axis_y_padding)&&(B=m.axis.getPadding(T.axis_y_padding,"top",B,U),Z=m.axis.getPadding(T.axis_y_padding,"bottom",Z,U)),h==="y2"&&S(T.axis_y2_padding)&&(B=m.axis.getPadding(T.axis_y2_padding,"top",B,U),Z=m.axis.getPadding(T.axis_y2_padding,"bottom",Z,U)),Gt&&(Dt&&(Z=$),Ft&&(B=-F)),z=[$-Z,F+B],gt?z.reverse():z},n.prototype.getXDomainMin=function(l){var h=this,g=h.config;return p(g.axis_x_min)?h.isTimeSeries()?this.parseDate(g.axis_x_min):g.axis_x_min:h.d3.min(l,function(m){return h.d3.min(m.values,function(T){return T.x})})},n.prototype.getXDomainMax=function(l){var h=this,g=h.config;return p(g.axis_x_max)?h.isTimeSeries()?this.parseDate(g.axis_x_max):g.axis_x_max:h.d3.max(l,function(m){return h.d3.max(m.values,function(T){return T.x})})},n.prototype.getXDomainPadding=function(l){var h=this,g=h.config,m=l[1]-l[0],T,M,I,k;return h.isCategorized()?M=0:h.hasType("bar")?(T=h.getMaxDataCount(),M=T>1?m/(T-1)/2:.5):M=m*.01,typeof g.axis_x_padding=="object"&&S(g.axis_x_padding)?(I=b(g.axis_x_padding.left)?g.axis_x_padding.left:M,k=b(g.axis_x_padding.right)?g.axis_x_padding.right:M):typeof g.axis_x_padding=="number"?I=k=g.axis_x_padding:I=k=M,{left:I,right:k}},n.prototype.getXDomain=function(l){var h=this,g=[h.getXDomainMin(l),h.getXDomainMax(l)],m=g[0],T=g[1],M=h.getXDomainPadding(g),I=0,k=0;return m-T===0&&!h.isCategorized()&&(h.isTimeSeries()?(m=new Date(m.getTime()*.5),T=new Date(T.getTime()*1.5)):(m=m===0?1:m*.5,T=T===0?-1:T*1.5)),(m||m===0)&&(I=h.isTimeSeries()?new Date(m.getTime()-M.left):m-M.left),(T||T===0)&&(k=h.isTimeSeries()?new Date(T.getTime()+M.right):T+M.right),[I,k]},n.prototype.updateXDomain=function(l,h,g,m,T){var M=this,I=M.config;return g&&(M.x.domain(T||M.d3.extent(M.getXDomain(l))),M.orgXDomain=M.x.domain(),I.zoom_enabled&&M.zoom.update(),M.subX.domain(M.x.domain()),M.brush&&M.brush.updateScale(M.subX)),h&&M.x.domain(T||(!M.brush||M.brush.empty()?M.orgXDomain:M.brush.selectionAsValue())),m&&M.x.domain(M.trimXDomain(M.x.orgDomain())),M.x.domain()},n.prototype.trimXDomain=function(l){var h=this.getZoomDomain(),g=h[0],m=h[1];return l[0]<=g&&(l[1]=+l[1]+(g-l[0]),l[0]=g),m<=l[1]&&(l[0]=+l[0]-(l[1]-m),l[1]=m),l},n.prototype.drag=function(l){var h=this,g=h.config,m=h.main,T=h.d3,M,I,k,V,$,F,z,U;h.hasArcType()||g.data_selection_enabled&&g.data_selection_multiple&&(M=h.dragStart[0],I=h.dragStart[1],k=l[0],V=l[1],$=Math.min(M,k),F=Math.max(M,k),z=g.data_selection_grouped?h.margin.top:Math.min(I,V),U=g.data_selection_grouped?h.height:Math.max(I,V),m.select("."+C.dragarea).attr("x",$).attr("y",z).attr("width",F-$).attr("height",U-z),m.selectAll("."+C.shapes).selectAll("."+C.shape).each(function(B,Z){if(g.data_selection_isselectable(B)){var q=T.select(this),j=q.classed(C.SELECTED),J=q.classed(C.INCLUDED),dt,vt,Dt,Ft,Gt,gt=!1,Et;if(q.classed(C.circle))dt=q.attr("cx")*1,vt=q.attr("cy")*1,Gt=h.togglePoint,gt=$<dt&&dt<F&&z<vt&&vt<U;else if(q.classed(C.bar))Et=u(this),dt=Et.x,vt=Et.y,Dt=Et.width,Ft=Et.height,Gt=h.togglePath,gt=!(F<dt||dt+Dt<$)&&!(U<vt||vt+Ft<z);else return;gt^J&&(q.classed(C.INCLUDED,!J),q.classed(C.SELECTED,!j),Gt.call(h,!j,q,B,Z))}}))},n.prototype.dragstart=function(l){var h=this,g=h.config;h.hasArcType()||g.data_selection_enabled&&(h.dragStart=l,h.main.select("."+C.chart).append("rect").attr("class",C.dragarea).style("opacity",.1),h.dragging=!0)},n.prototype.dragend=function(){var l=this,h=l.config;l.hasArcType()||h.data_selection_enabled&&(l.main.select("."+C.dragarea).transition().duration(100).style("opacity",0).remove(),l.main.selectAll("."+C.shape).classed(C.INCLUDED,!1),l.dragging=!1)},n.prototype.getYFormat=function(l){var h=this,g=l&&!h.hasType("gauge")?h.defaultArcValueFormat:h.yFormat,m=l&&!h.hasType("gauge")?h.defaultArcValueFormat:h.y2Format;return function(T,M,I){var k=h.axis.getId(I)==="y2"?m:g;return k.call(h,T,M)}},n.prototype.yFormat=function(l){var h=this,g=h.config,m=g.axis_y_tick_format?g.axis_y_tick_format:h.defaultValueFormat;return m(l)},n.prototype.y2Format=function(l){var h=this,g=h.config,m=g.axis_y2_tick_format?g.axis_y2_tick_format:h.defaultValueFormat;return m(l)},n.prototype.defaultValueFormat=function(l){return b(l)?+l:""},n.prototype.defaultArcValueFormat=function(l,h){return(h*100).toFixed(1)+"%"},n.prototype.dataLabelFormat=function(l){var h=this,g=h.config.data_labels,m,T=function(M){return b(M)?+M:""};return typeof g.format=="function"?m=g.format:typeof g.format=="object"?g.format[l]?m=g.format[l]===!0?T:g.format[l]:m=function(){return""}:m=T,m},n.prototype.initGrid=function(){var l=this,h=l.config,g=l.d3;l.grid=l.main.append("g").attr("clip-path",l.clipPathForGrid).attr("class",C.grid),h.grid_x_show&&l.grid.append("g").attr("class",C.xgrids),h.grid_y_show&&l.grid.append("g").attr("class",C.ygrids),h.grid_focus_show&&l.grid.append("g").attr("class",C.xgridFocus).append("line").attr("class",C.xgridFocus),l.xgrid=g.selectAll([]),h.grid_lines_front||l.initGridLines()},n.prototype.initGridLines=function(){var l=this,h=l.d3;l.gridLines=l.main.append("g").attr("clip-path",l.clipPathForGrid).attr("class",C.grid+" "+C.gridLines),l.gridLines.append("g").attr("class",C.xgridLines),l.gridLines.append("g").attr("class",C.ygridLines),l.xgridLines=h.selectAll([])},n.prototype.updateXGrid=function(l){var h=this,g=h.config,m=h.d3,T=h.generateGridData(g.grid_x_type,h.x),M=h.isCategorized()?h.xAxis.tickOffset():0;h.xgridAttr=g.axis_rotated?{x1:0,x2:h.width,y1:function(V){return h.x(V)-M},y2:function(V){return h.x(V)-M}}:{x1:function(V){return h.x(V)+M},x2:function(V){return h.x(V)+M},y1:0,y2:h.height},h.xgridAttr.opacity=function(){var V=+m.select(this).attr(g.axis_rotated?"y1":"x1");return V===(g.axis_rotated?h.height:0)?0:1};var I=h.main.select("."+C.xgrids).selectAll("."+C.xgrid).data(T),k=I.enter().append("line").attr("class",C.xgrid).attr("x1",h.xgridAttr.x1).attr("x2",h.xgridAttr.x2).attr("y1",h.xgridAttr.y1).attr("y2",h.xgridAttr.y2).style("opacity",0);h.xgrid=k.merge(I),l||h.xgrid.attr("x1",h.xgridAttr.x1).attr("x2",h.xgridAttr.x2).attr("y1",h.xgridAttr.y1).attr("y2",h.xgridAttr.y2).style("opacity",h.xgridAttr.opacity),I.exit().remove()},n.prototype.updateYGrid=function(){var l=this,h=l.config,g=l.yAxis.tickValues()||l.y.ticks(h.grid_y_ticks),m=l.main.select("."+C.ygrids).selectAll("."+C.ygrid).data(g),T=m.enter().append("line").attr("class",C.ygrid);l.ygrid=T.merge(m),l.ygrid.attr("x1",h.axis_rotated?l.y:0).attr("x2",h.axis_rotated?l.y:l.width).attr("y1",h.axis_rotated?0:l.y).attr("y2",h.axis_rotated?l.height:l.y),m.exit().remove(),l.smoothLines(l.ygrid,"grid")},n.prototype.gridTextAnchor=function(l){return l.position?l.position:"end"},n.prototype.gridTextDx=function(l){return l.position==="start"?4:l.position==="middle"?0:-4},n.prototype.xGridTextX=function(l){return l.position==="start"?-this.height:l.position==="middle"?-this.height/2:0},n.prototype.yGridTextX=function(l){return l.position==="start"?0:l.position==="middle"?this.width/2:this.width},n.prototype.updateGrid=function(l){var h=this,g=h.main,m=h.config,T,M,I,k,V=h.xv.bind(h),$=h.yv.bind(h),F=h.xGridTextX.bind(h),z=h.yGridTextX.bind(h);h.grid.style("visibility",h.hasArcType()?"hidden":"visible"),g.select("line."+C.xgridFocus).style("visibility","hidden"),m.grid_x_show&&h.updateXGrid(),T=g.select("."+C.xgridLines).selectAll("."+C.xgridLine).data(m.grid_x_lines),M=T.enter().append("g").attr("class",function(U){return C.xgridLine+(U.class?" "+U.class:"")}),M.append("line").attr("x1",m.axis_rotated?0:V).attr("x2",m.axis_rotated?h.width:V).attr("y1",m.axis_rotated?V:0).attr("y2",m.axis_rotated?V:h.height).style("opacity",0),M.append("text").attr("text-anchor",h.gridTextAnchor).attr("transform",m.axis_rotated?"":"rotate(-90)").attr("x",m.axis_rotated?z:F).attr("y",V).attr("dx",h.gridTextDx).attr("dy",-5).style("opacity",0),h.xgridLines=M.merge(T),T.exit().transition().duration(l).style("opacity",0).remove(),m.grid_y_show&&h.updateYGrid(),I=g.select("."+C.ygridLines).selectAll("."+C.ygridLine).data(m.grid_y_lines),k=I.enter().append("g").attr("class",function(U){return C.ygridLine+(U.class?" "+U.class:"")}),k.append("line").attr("x1",m.axis_rotated?$:0).attr("x2",m.axis_rotated?$:h.width).attr("y1",m.axis_rotated?0:$).attr("y2",m.axis_rotated?h.height:$).style("opacity",0),k.append("text").attr("text-anchor",h.gridTextAnchor).attr("transform",m.axis_rotated?"rotate(-90)":"").attr("x",m.axis_rotated?F:z).attr("y",$).attr("dx",h.gridTextDx).attr("dy",-5).style("opacity",0),h.ygridLines=k.merge(I),h.ygridLines.select("line").transition().duration(l).attr("x1",m.axis_rotated?$:0).attr("x2",m.axis_rotated?$:h.width).attr("y1",m.axis_rotated?0:$).attr("y2",m.axis_rotated?h.height:$).style("opacity",1),h.ygridLines.select("text").transition().duration(l).attr("x",m.axis_rotated?h.xGridTextX.bind(h):h.yGridTextX.bind(h)).attr("y",$).text(function(U){return U.text}).style("opacity",1),I.exit().transition().duration(l).style("opacity",0).remove()},n.prototype.redrawGrid=function(l,h){var g=this,m=g.config,T=g.xv.bind(g),M=g.xgridLines.select("line"),I=g.xgridLines.select("text");return[(l?M.transition(h):M).attr("x1",m.axis_rotated?0:T).attr("x2",m.axis_rotated?g.width:T).attr("y1",m.axis_rotated?T:0).attr("y2",m.axis_rotated?T:g.height).style("opacity",1),(l?I.transition(h):I).attr("x",m.axis_rotated?g.yGridTextX.bind(g):g.xGridTextX.bind(g)).attr("y",T).text(function(k){return k.text}).style("opacity",1)]},n.prototype.showXGridFocus=function(l){var h=this,g=h.config,m=l.filter(function(I){return I&&b(I.value)}),T=h.main.selectAll("line."+C.xgridFocus),M=h.xx.bind(h);g.tooltip_show&&(h.hasType("stanford")||h.hasArcType()||(T.style("visibility","visible").data([m[0]]).attr(g.axis_rotated?"y1":"x1",M).attr(g.axis_rotated?"y2":"x2",M),h.smoothLines(T,"grid")))},n.prototype.hideXGridFocus=function(){this.main.select("line."+C.xgridFocus).style("visibility","hidden")},n.prototype.updateXgridFocus=function(){var l=this,h=l.config;l.main.select("line."+C.xgridFocus).attr("x1",h.axis_rotated?0:-10).attr("x2",h.axis_rotated?l.width:-10).attr("y1",h.axis_rotated?-10:0).attr("y2",h.axis_rotated?-10:l.height)},n.prototype.generateGridData=function(l,h){var g=this,m=[],T,M,I,k,V=g.main.select("."+C.axisX).selectAll(".tick").size();if(l==="year")for(T=g.getXDomain(),M=T[0].getFullYear(),I=T[1].getFullYear(),k=M;k<=I;k++)m.push(new Date(k+"-01-01 00:00:00"));else m=h.ticks(10),m.length>V&&(m=m.filter(function($){return(""+$).indexOf(".")<0}));return m},n.prototype.getGridFilterToRemove=function(l){return l?function(h){var g=!1;return[].concat(l).forEach(function(m){("value"in m&&h.value===m.value||"class"in m&&h.class===m.class)&&(g=!0)}),g}:function(){return!0}},n.prototype.removeGridLines=function(l,h){var g=this,m=g.config,T=g.getGridFilterToRemove(l),M=function(V){return!T(V)},I=h?C.xgridLines:C.ygridLines,k=h?C.xgridLine:C.ygridLine;g.main.select("."+I).selectAll("."+k).filter(T).transition().duration(m.transition_duration).style("opacity",0).remove(),h?m.grid_x_lines=m.grid_x_lines.filter(M):m.grid_y_lines=m.grid_y_lines.filter(M)},n.prototype.initEventRect=function(){var l=this,h=l.config;l.main.select("."+C.chart).append("g").attr("class",C.eventRects).style("fill-opacity",0),l.eventRect=l.main.select("."+C.eventRects).append("rect").attr("class",C.eventRect),h.zoom_enabled&&l.zoom&&(l.eventRect.call(l.zoom).on("dblclick.zoom",null),h.zoom_initialRange&&l.eventRect.transition().duration(0).call(l.zoom.transform,l.zoomTransform(h.zoom_initialRange)))},n.prototype.redrawEventRect=function(){var l=this,h=l.d3,g=l.config;function m(){l.svg.select("."+C.eventRect).style("cursor",null),l.hideXGridFocus(),l.hideTooltip(),l.unexpandCircles(),l.unexpandBars()}var T=function(I,k){return k&&(l.isBarType(k.id)||l.dist(k,I)<g.point_sensitivity)},M=function(I){return I?l.addName(Object.assign({},I)):null};l.main.select("."+C.eventRects).style("cursor",g.zoom_enabled?g.axis_rotated?"ns-resize":"ew-resize":null),l.eventRect.attr("x",0).attr("y",0).attr("width",l.width).attr("height",l.height).on("mouseout",g.interaction_enabled?function(){g&&(l.hasArcType()||(l.mouseover&&(g.data_onmouseout.call(l.api,l.mouseover),l.mouseover=void 0),m()))}:null).on("mousemove",g.interaction_enabled?function(){if(!l.dragging){var I=l.getTargetsToShow();if(!l.hasArcType(I)){var k=h.mouse(this),V=M(l.findClosestFromTargets(I,k)),$=T(k,V);l.mouseover&&(!V||V.id!==l.mouseover.id||V.index!==l.mouseover.index)&&(g.data_onmouseout.call(l.api,l.mouseover),l.mouseover=void 0),V&&!l.mouseover&&(g.data_onmouseover.call(l.api,V),l.mouseover=V),l.svg.select("."+C.eventRect).style("cursor",$?"pointer":null);var F=!g.tooltip_grouped||l.hasType("stanford",I),z;if(F)V&&(z=[V]);else{var U=void 0;if(V)U=V;else{var B=g.axis_rotated?k[1]:k[0];U=l.findClosestFromTargetsByX(I,l.x.invert(B))}U&&(z=l.filterByX(I,U.x))}if(!z||z.length===0)return m();z=z.map(M),l.showTooltip(z,this),g.point_focus_expand_enabled&&(l.unexpandCircles(),z.forEach(function(Z){l.expandCircles(Z.index,Z.id,!1)})),l.unexpandBars(),z.forEach(function(Z){l.expandBars(Z.index,Z.id,!1)}),l.showXGridFocus(z)}}}:null).on("click",g.interaction_enabled?function(){var I=l.getTargetsToShow();if(!l.hasArcType(I)){var k=h.mouse(this),V=M(l.findClosestFromTargets(I,k));if(T(k,V)){var $;if(!g.data_selection_grouped||l.isStanfordType(V)?$=[V]:$=l.filterByX(I,V.x),$.forEach(function(z){l.main.selectAll("."+C.shapes+l.getTargetSelectorSuffix(z.id)).selectAll("."+C.shape+"-"+z.index).each(function(){(g.data_selection_grouped||l.isWithinShape(this,z))&&l.toggleShape(this,z,z.index)})}),V){var F=l.main.selectAll("."+C.shapes+l.getTargetSelectorSuffix(V.id)).select("."+C.shape+"-"+V.index);g.data_onclick.call(l.api,V,F.node())}}}}:null).call(g.interaction_enabled&&g.data_selection_draggable&&l.drag?h.drag().on("drag",function(){l.drag(h.mouse(this))}).on("start",function(){l.dragstart(h.mouse(this))}).on("end",function(){l.dragend()}):function(){})},n.prototype.getMousePosition=function(l){var h=this;return[h.x(l.x),h.getYScale(l.id)(l.value)]},n.prototype.dispatchEvent=function(l,h){var g=this,m="."+C.eventRect,T=g.main.select(m).node(),M=T.getBoundingClientRect(),I=M.left+(h?h[0]:0),k=M.top+(h?h[1]:0),V=document.createEvent("MouseEvents");V.initMouseEvent(l,!0,!0,window,0,I,k,I,k,!1,!1,!1,!1,0,null),T.dispatchEvent(V)},n.prototype.initLegend=function(){var l=this;if(l.legendItemTextBox={},l.legendHasRendered=!1,l.legend=l.svg.append("g").attr("transform",l.getTranslate("legend")),!l.config.legend_show){l.legend.style("visibility","hidden"),l.hiddenLegendIds=l.mapToIds(l.data.targets);return}l.updateLegendWithDefaults()},n.prototype.updateLegendWithDefaults=function(){var l=this;l.updateLegend(l.mapToIds(l.data.targets),{withTransform:!1,withTransitionForTransform:!1,withTransition:!1})},n.prototype.updateSizeForLegend=function(l,h){var g=this,m=g.config,T={top:g.isLegendTop?g.getCurrentPaddingTop()+m.legend_inset_y+5.5:g.currentHeight-l-g.getCurrentPaddingBottom()-m.legend_inset_y,left:g.isLegendLeft?g.getCurrentPaddingLeft()+m.legend_inset_x+.5:g.currentWidth-h-g.getCurrentPaddingRight()-m.legend_inset_x+.5};g.margin3={top:g.isLegendRight?0:g.isLegendInset?T.top:g.currentHeight-l,right:NaN,bottom:0,left:g.isLegendRight?g.currentWidth-h:g.isLegendInset?T.left:0}},n.prototype.transformLegend=function(l){var h=this;(l?h.legend.transition():h.legend).attr("transform",h.getTranslate("legend"))},n.prototype.updateLegendStep=function(l){this.legendStep=l},n.prototype.updateLegendItemWidth=function(l){this.legendItemWidth=l},n.prototype.updateLegendItemHeight=function(l){this.legendItemHeight=l},n.prototype.getLegendWidth=function(){var l=this;return l.config.legend_show?l.isLegendRight||l.isLegendInset?l.legendItemWidth*(l.legendStep+1):l.currentWidth:0},n.prototype.getLegendHeight=function(){var l=this,h=0;return l.config.legend_show&&(l.isLegendRight?h=l.currentHeight:h=Math.max(20,l.legendItemHeight)*(l.legendStep+1)),h},n.prototype.opacityForLegend=function(l){return l.classed(C.legendItemHidden)?null:1},n.prototype.opacityForUnfocusedLegend=function(l){return l.classed(C.legendItemHidden)?null:.3},n.prototype.toggleFocusLegend=function(l,h){var g=this;l=g.mapToTargetIds(l),g.legend.selectAll("."+C.legendItem).filter(function(m){return l.indexOf(m)>=0}).classed(C.legendItemFocused,h).transition().duration(100).style("opacity",function(){var m=h?g.opacityForLegend:g.opacityForUnfocusedLegend;return m.call(g,g.d3.select(this))})},n.prototype.revertLegend=function(){var l=this,h=l.d3;l.legend.selectAll("."+C.legendItem).classed(C.legendItemFocused,!1).transition().duration(100).style("opacity",function(){return l.opacityForLegend(h.select(this))})},n.prototype.showLegend=function(l){var h=this,g=h.config;g.legend_show||(g.legend_show=!0,h.legend.style("visibility","visible"),h.legendHasRendered||h.updateLegendWithDefaults()),h.removeHiddenLegendIds(l),h.legend.selectAll(h.selectorLegends(l)).style("visibility","visible").transition().style("opacity",function(){return h.opacityForLegend(h.d3.select(this))})},n.prototype.hideLegend=function(l){var h=this,g=h.config;g.legend_show&&v(l)&&(g.legend_show=!1,h.legend.style("visibility","hidden")),h.addHiddenLegendIds(l),h.legend.selectAll(h.selectorLegends(l)).style("opacity",0).style("visibility","hidden")},n.prototype.clearLegendItemTextBoxCache=function(){this.legendItemTextBox={}},n.prototype.updateLegend=function(l,h,g){var m=this,T=m.config,M,I,k,V,$,F,z,U,B,Z=4,q=10,j=0,J=0,dt=10,vt=T.legend_item_tile_width+5,Dt,Ft=0,Gt={},gt={},Et={},Pt=[0],Tt={},ot=0,lt,de,Ye,Pe,Dn,xe;l=l.filter(function(tt){return!p(T.data_names[tt])||T.data_names[tt]!==null}),h=h||{},lt=s(h,"withTransition",!0),de=s(h,"withTransitionForTransform",!0);function Xe(tt,_t){return m.legendItemTextBox[_t]||(m.legendItemTextBox[_t]=m.getTextRect(tt.textContent,C.legendItem,tt)),m.legendItemTextBox[_t]}function Kt(tt,_t,Un){var _s=Un===0,cp=Un===l.length-1,zr=Xe(tt,_t),Wn=zr.width+vt+(cp&&!(m.isLegendRight||m.isLegendInset)?0:q)+T.legend_padding,dn=zr.height+Z,Hr=m.isLegendRight||m.isLegendInset?dn:Wn,hp=m.isLegendRight||m.isLegendInset?m.getLegendHeight():m.getLegendWidth(),Xa,b1;function dp(Yr,KI){KI||(Xa=(hp-Ft-Hr)/2,Xa<dt&&(Xa=(hp-Hr)/2,Ft=0,ot++)),Tt[Yr]=ot,Pt[ot]=m.isLegendInset?10:Xa,Gt[Yr]=Ft,Ft+=Hr}if(_s&&(Ft=0,ot=0,j=0,J=0),T.legend_show&&!m.isLegendToShow(_t)){gt[_t]=Et[_t]=Tt[_t]=Gt[_t]=0;return}gt[_t]=Wn,Et[_t]=dn,(!j||Wn>=j)&&(j=Wn),(!J||dn>=J)&&(J=dn),b1=m.isLegendRight||m.isLegendInset?J:j,T.legend_equally?(Object.keys(gt).forEach(function(Yr){gt[Yr]=j}),Object.keys(Et).forEach(function(Yr){Et[Yr]=J}),Xa=(hp-b1*l.length)/2,Xa<dt?(Ft=0,ot=0,l.forEach(function(Yr){dp(Yr)})):dp(_t,!0)):dp(_t)}m.isLegendInset&&(ot=T.legend_inset_step?T.legend_inset_step:l.length,m.updateLegendStep(ot)),m.isLegendRight?(M=function(tt){return j*Tt[tt]},V=function(tt){return Pt[Tt[tt]]+Gt[tt]}):m.isLegendInset?(M=function(tt){return j*Tt[tt]+10},V=function(tt){return Pt[Tt[tt]]+Gt[tt]}):(M=function(tt){return Pt[Tt[tt]]+Gt[tt]},V=function(tt){return J*Tt[tt]}),I=function(tt,_t){return M(tt,_t)+4+T.legend_item_tile_width},$=function(tt,_t){return V(tt,_t)+9},k=function(tt,_t){return M(tt,_t)},F=function(tt,_t){return V(tt,_t)-5},z=function(tt,_t){return M(tt,_t)-2},U=function(tt,_t){return M(tt,_t)-2+T.legend_item_tile_width},B=function(tt,_t){return V(tt,_t)+4},Dt=m.legend.selectAll("."+C.legendItem).data(l).enter().append("g").attr("class",function(tt){return m.generateClass(C.legendItem,tt)}).style("visibility",function(tt){return m.isLegendToShow(tt)?"visible":"hidden"}).style("cursor",function(){return T.interaction_enabled?"pointer":"auto"}).on("click",T.interaction_enabled?function(tt){T.legend_item_onclick?T.legend_item_onclick.call(m,tt):m.d3.event.altKey?(m.api.hide(),m.api.show(tt)):(m.api.toggle(tt),m.isTargetToShow(tt)?m.api.focus(tt):m.api.revert())}:null).on("mouseover",T.interaction_enabled?function(tt){T.legend_item_onmouseover?T.legend_item_onmouseover.call(m,tt):(m.d3.select(this).classed(C.legendItemFocused,!0),!m.transiting&&m.isTargetToShow(tt)&&m.api.focus(tt))}:null).on("mouseout",T.interaction_enabled?function(tt){T.legend_item_onmouseout?T.legend_item_onmouseout.call(m,tt):(m.d3.select(this).classed(C.legendItemFocused,!1),m.api.revert())}:null),Dt.append("text").text(function(tt){return p(T.data_names[tt])?T.data_names[tt]:tt}).each(function(tt,_t){Kt(this,tt,_t)}).style("pointer-events","none").attr("x",m.isLegendRight||m.isLegendInset?I:-200).attr("y",m.isLegendRight||m.isLegendInset?-200:$),Dt.append("rect").attr("class",C.legendItemEvent).style("fill-opacity",0).attr("x",m.isLegendRight||m.isLegendInset?k:-200).attr("y",m.isLegendRight||m.isLegendInset?-200:F),Dt.append("line").attr("class",C.legendItemTile).style("stroke",m.color).style("pointer-events","none").attr("x1",m.isLegendRight||m.isLegendInset?z:-200).attr("y1",m.isLegendRight||m.isLegendInset?-200:B).attr("x2",m.isLegendRight||m.isLegendInset?U:-200).attr("y2",m.isLegendRight||m.isLegendInset?-200:B).attr("stroke-width",T.legend_item_tile_height),xe=m.legend.select("."+C.legendBackground+" rect"),m.isLegendInset&&j>0&&xe.size()===0&&(xe=m.legend.insert("g","."+C.legendItem).attr("class",C.legendBackground).append("rect")),Ye=m.legend.selectAll("text").data(l).text(function(tt){return p(T.data_names[tt])?T.data_names[tt]:tt}).each(function(tt,_t){Kt(this,tt,_t)}),(lt?Ye.transition():Ye).attr("x",I).attr("y",$),Pe=m.legend.selectAll("rect."+C.legendItemEvent).data(l),(lt?Pe.transition():Pe).attr("width",function(tt){return gt[tt]}).attr("height",function(tt){return Et[tt]}).attr("x",k).attr("y",F),Dn=m.legend.selectAll("line."+C.legendItemTile).data(l),(lt?Dn.transition():Dn).style("stroke",m.levelColor?function(tt){return m.levelColor(m.cache[tt].values.reduce(function(_t,Un){return _t+Un.value},0))}:m.color).attr("x1",z).attr("y1",B).attr("x2",U).attr("y2",B),xe&&(lt?xe.transition():xe).attr("height",m.getLegendHeight()-12).attr("width",j*(ot+1)+10),m.legend.selectAll("."+C.legendItem).classed(C.legendItemHidden,function(tt){return!m.isTargetToShow(tt)}),m.updateLegendItemWidth(j),m.updateLegendItemHeight(J),m.updateLegendStep(ot),m.updateSizes(),m.updateScales(),m.updateSvgSize(),m.transformAll(de,g),m.legendHasRendered=!0},n.prototype.initRegion=function(){var l=this;l.region=l.main.append("g").attr("clip-path",l.clipPath).attr("class",C.regions)},n.prototype.updateRegion=function(l){var h=this,g=h.config;h.region.style("visibility",h.hasArcType()?"hidden":"visible");var m=h.main.select("."+C.regions).selectAll("."+C.region).data(g.regions),T=m.enter().append("g");T.append("rect").attr("x",h.regionX.bind(h)).attr("y",h.regionY.bind(h)).attr("width",h.regionWidth.bind(h)).attr("height",h.regionHeight.bind(h)).style("fill-opacity",function(M){return b(M.opacity)?M.opacity:.1}),T.append("text").text(h.labelRegion.bind(h)),h.mainRegion=T.merge(m).attr("class",h.classRegion.bind(h)),m.exit().transition().duration(l).style("opacity",0).remove()},n.prototype.redrawRegion=function(l,h){var g=this,m=g.mainRegion,T=g.mainRegion.selectAll("text");return[(l?m.transition(h):m).attr("x",g.regionX.bind(g)).attr("y",g.regionY.bind(g)).attr("width",g.regionWidth.bind(g)).attr("height",g.regionHeight.bind(g)).style("fill-opacity",function(M){return b(M.opacity)?M.opacity:.1}),(l?T.transition(h):T).attr("x",g.labelOffsetX.bind(g)).attr("y",g.labelOffsetY.bind(g)).attr("transform",g.labelTransform.bind(g)).attr("style","text-anchor: left;")]},n.prototype.regionX=function(l){var h=this,g=h.config,m,T=l.axis==="y"?h.y:h.y2;return l.axis==="y"||l.axis==="y2"?m=g.axis_rotated&&"start"in l?T(l.start):0:m=g.axis_rotated?0:"start"in l?h.x(h.isTimeSeries()?h.parseDate(l.start):l.start):0,m},n.prototype.regionY=function(l){var h=this,g=h.config,m,T=l.axis==="y"?h.y:h.y2;return l.axis==="y"||l.axis==="y2"?m=g.axis_rotated?0:"end"in l?T(l.end):0:m=g.axis_rotated&&"start"in l?h.x(h.isTimeSeries()?h.parseDate(l.start):l.start):0,m},n.prototype.regionWidth=function(l){var h=this,g=h.config,m=h.regionX(l),T,M=l.axis==="y"?h.y:h.y2;return l.axis==="y"||l.axis==="y2"?T=g.axis_rotated&&"end"in l?M(l.end):h.width:T=g.axis_rotated?h.width:"end"in l?h.x(h.isTimeSeries()?h.parseDate(l.end):l.end):h.width,T<m?0:T-m},n.prototype.regionHeight=function(l){var h=this,g=h.config,m=this.regionY(l),T,M=l.axis==="y"?h.y:h.y2;return l.axis==="y"||l.axis==="y2"?T=g.axis_rotated?h.height:"start"in l?M(l.start):h.height:T=g.axis_rotated&&"end"in l?h.x(h.isTimeSeries()?h.parseDate(l.end):l.end):h.height,T<m?0:T-m},n.prototype.isRegionOnX=function(l){return!l.axis||l.axis==="x"},n.prototype.labelRegion=function(l){return"label"in l?l.label:""},n.prototype.labelTransform=function(l){return"vertical"in l&&l.vertical?"rotate(90)":""},n.prototype.labelOffsetX=function(l){var h="paddingX"in l?l.paddingX:3,g="paddingY"in l?l.paddingY:3;return"vertical"in l&&l.vertical?this.regionY(l)+g:this.regionX(l)+h},n.prototype.labelOffsetY=function(l){var h="paddingX"in l?l.paddingX:3,g="paddingY"in l?l.paddingY:3;return"vertical"in l&&l.vertical?-(this.regionX(l)+h):this.regionY(l)+10+g};function X(l,h,g){var m=[.01,10];h||(h=l.scaleLinear(),h.range(m)),g||(g=l.scaleLog(),g.domain(m),g.nice());function T(I,k,V){var $,F,z,U;if(arguments.length<3)V=10;else if(V===0)return[];F=V-1,U=(k-I)/F,$=new Array(V),z=I,$[0]=Math.pow(10,z);for(var B=1;B<F;B++)z+=U,$[B]=Math.pow(10,z);return $[F]=Math.pow(10,k),$}function M(I){return g(h(I))}return M.domain=function(I){return arguments.length?(h.domain(I),M):h.domain()},M.range=function(I){return arguments.length?(g.range(I),M):g.range()},M.ticks=function(I){return T(-2,1,I||10).map(function(k){return h.invert(k)})},M.copy=function(){return X(l,h.copy(),g.copy())},M}n.prototype.getScale=function(l,h,g){return(g?this.d3.scaleTime():this.d3.scaleLinear()).range([l,h])},n.prototype.getX=function(l,h,g,m){var T=this,M=T.getScale(l,h,T.isTimeSeries()),I=g?M.domain(g):M,k;T.isCategorized()?(m=m||function(){return 0},M=function(V,$){var F=I(V)+m(V);return $?F:Math.ceil(F)}):M=function(V,$){var F=I(V);return $?F:Math.ceil(F)};for(k in I)M[k]=I[k];return M.orgDomain=function(){return I.domain()},T.isCategorized()&&(M.domain=function(V){return arguments.length?(I.domain(V),M):(V=this.orgDomain(),[V[0],V[1]+1])}),M},n.prototype.getY=function(l,h,g){var m;if(l==="timeseries"||l==="time")m=this.d3.scaleTime();else if(l==="log")m=X(this.d3);else if(l==="linear"||l===void 0)m=this.d3.scaleLinear();else throw new Error('Invalid Y axis type: "'+l+'"');return h&&m.domain(h),g&&m.range(g),m},n.prototype.getYScale=function(l){return this.axis.getId(l)==="y2"?this.y2:this.y},n.prototype.getSubYScale=function(l){return this.axis.getId(l)==="y2"?this.subY2:this.subY},n.prototype.updateScales=function(){var l=this,h=l.config,g=!l.x;l.xMin=h.axis_rotated?1:0,l.xMax=h.axis_rotated?l.height:l.width,l.yMin=h.axis_rotated?0:l.height,l.yMax=h.axis_rotated?l.width:1,l.subXMin=l.xMin,l.subXMax=l.xMax,l.subYMin=h.axis_rotated?0:l.height2,l.subYMax=h.axis_rotated?l.width2:1,l.x=l.getX(l.xMin,l.xMax,g?void 0:l.x.orgDomain(),function(){return l.xAxis.tickOffset()}),l.y=l.getY(h.axis_y_type,g?h.axis_y_default:l.y.domain(),[l.yMin,l.yMax]),l.y2=l.getY(h.axis_y2_type,g?h.axis_y2_default:l.y2.domain(),[l.yMin,l.yMax]),l.subX=l.getX(l.xMin,l.xMax,l.orgXDomain,function(m){return m%1?0:l.subXAxis.tickOffset()}),l.subY=l.getY(h.axis_y_type,g?h.axis_y_default:l.subY.domain(),[l.subYMin,l.subYMax]),l.subY2=l.getY(h.axis_y2_type,g?h.axis_y2_default:l.subY2.domain(),[l.subYMin,l.subYMax]),l.xAxisTickFormat=l.axis.getXAxisTickFormat(),l.xAxisTickValues=l.axis.getXAxisTickValues(),l.yAxisTickValues=l.axis.getYAxisTickValues(),l.y2AxisTickValues=l.axis.getY2AxisTickValues(),l.xAxis=l.axis.getXAxis(l.x,l.xOrient,l.xAxisTickFormat,l.xAxisTickValues,h.axis_x_tick_outer),l.subXAxis=l.axis.getXAxis(l.subX,l.subXOrient,l.xAxisTickFormat,l.xAxisTickValues,h.axis_x_tick_outer),l.yAxis=l.axis.getYAxis("y",l.y,l.yOrient,l.yAxisTickValues,h.axis_y_tick_outer),l.y2Axis=l.axis.getYAxis("y2",l.y2,l.y2Orient,l.y2AxisTickValues,h.axis_y2_tick_outer),g||l.brush&&l.brush.updateScale(l.subX),l.updateArc&&l.updateArc()},n.prototype.selectPoint=function(l,h,g){var m=this,T=m.config,M=(T.axis_rotated?m.circleY:m.circleX).bind(m),I=(T.axis_rotated?m.circleX:m.circleY).bind(m),k=m.pointSelectR.bind(m);T.data_onselected.call(m.api,h,l.node()),m.main.select("."+C.selectedCircles+m.getTargetSelectorSuffix(h.id)).selectAll("."+C.selectedCircle+"-"+g).data([h]).enter().append("circle").attr("class",function(){return m.generateClass(C.selectedCircle,g)}).attr("cx",M).attr("cy",I).attr("stroke",function(){return m.color(h)}).attr("r",function(V){return m.pointSelectR(V)*1.4}).transition().duration(100).attr("r",k)},n.prototype.unselectPoint=function(l,h,g){var m=this;m.config.data_onunselected.call(m.api,h,l.node()),m.main.select("."+C.selectedCircles+m.getTargetSelectorSuffix(h.id)).selectAll("."+C.selectedCircle+"-"+g).transition().duration(100).attr("r",0).remove()},n.prototype.togglePoint=function(l,h,g,m){l?this.selectPoint(h,g,m):this.unselectPoint(h,g,m)},n.prototype.selectPath=function(l,h){var g=this;g.config.data_onselected.call(g,h,l.node()),g.config.interaction_brighten&&l.transition().duration(100).style("fill",function(){return g.d3.rgb(g.color(h)).brighter(.75)})},n.prototype.unselectPath=function(l,h){var g=this;g.config.data_onunselected.call(g,h,l.node()),g.config.interaction_brighten&&l.transition().duration(100).style("fill",function(){return g.color(h)})},n.prototype.togglePath=function(l,h,g,m){l?this.selectPath(h,g,m):this.unselectPath(h,g,m)},n.prototype.getToggle=function(l,h){var g=this,m;return l.nodeName==="circle"?g.isStepType(h)?m=function(){}:m=g.togglePoint:l.nodeName==="path"&&(m=g.togglePath),m},n.prototype.toggleShape=function(l,h,g){var m=this,T=m.d3,M=m.config,I=T.select(l),k=I.classed(C.SELECTED),V=m.getToggle(l,h).bind(m);M.data_selection_enabled&&M.data_selection_isselectable(h)&&(M.data_selection_multiple||m.main.selectAll("."+C.shapes+(M.data_selection_grouped?m.getTargetSelectorSuffix(h.id):"")).selectAll("."+C.shape).each(function($,F){var z=T.select(this);z.classed(C.SELECTED)&&V(!1,z.classed(C.SELECTED,!1),$,F)}),I.classed(C.SELECTED,!k),V(!k,I,h,g))},n.prototype.initBar=function(){var l=this;l.main.select("."+C.chart).append("g").attr("class",C.chartBars)},n.prototype.updateTargetsForBar=function(l){var h=this,g=h.config,m,T,M=h.classChartBar.bind(h),I=h.classBars.bind(h),k=h.classFocus.bind(h);m=h.main.select("."+C.chartBars).selectAll("."+C.chartBar).data(l).attr("class",function(V){return M(V)+k(V)}),T=m.enter().append("g").attr("class",M).style("pointer-events","none"),T.append("g").attr("class",I).style("cursor",function(V){return g.data_selection_isselectable(V)?"pointer":null})},n.prototype.updateBar=function(l){var h=this,g=h.barData.bind(h),m=h.classBar.bind(h),T=h.initialOpacity.bind(h),M=function(V){return h.color(V.id)},I=h.main.selectAll("."+C.bars).selectAll("."+C.bar).data(g),k=I.enter().append("path").attr("class",m).style("stroke",M).style("fill",M);h.mainBar=k.merge(I).style("opacity",T),I.exit().transition().duration(l).style("opacity",0)},n.prototype.redrawBar=function(l,h,g){var m=this;return[(h?this.mainBar.transition(g):this.mainBar).attr("d",l).style("stroke",this.color).style("fill",this.color).style("opacity",function(T){return m.isTargetToShow(T.id)?1:0})]},n.prototype.getBarW=function(l,h){var g=this,m=g.config,T=typeof m.bar_width=="number"?m.bar_width:h?l.tickInterval()*m.bar_width_ratio/h:0;return m.bar_width_max&&T>m.bar_width_max?m.bar_width_max:T},n.prototype.getBars=function(l,h){var g=this;return(h?g.main.selectAll("."+C.bars+g.getTargetSelectorSuffix(h)):g.main).selectAll("."+C.bar+(b(l)?"-"+l:""))},n.prototype.expandBars=function(l,h,g){var m=this;g&&m.unexpandBars(),m.getBars(l,h).classed(C.EXPANDED,!0)},n.prototype.unexpandBars=function(l){var h=this;h.getBars(l).classed(C.EXPANDED,!1)},n.prototype.generateDrawBar=function(l,h){var g=this,m=g.config,T=g.generateGetBarPoints(l,h);return function(M,I){var k=T(M,I),V=m.axis_rotated?1:0,$=m.axis_rotated?0:1,F="M "+k[0][V]+","+k[0][$]+" L"+k[1][V]+","+k[1][$]+" L"+k[2][V]+","+k[2][$]+" L"+k[3][V]+","+k[3][$]+" z";return F}},n.prototype.generateGetBarPoints=function(l,h){var g=this,m=h?g.subXAxis:g.xAxis,T=l.__max__+1,M=g.getBarW(m,T),I=g.getShapeX(M,T,l,!!h),k=g.getShapeY(!!h),V=g.getShapeOffset(g.isBarType,l,!!h),$=M*(g.config.bar_space/2),F=h?g.getSubYScale:g.getYScale;return function(z,U){var B=F.call(g,z.id)(0),Z=V(z,U)||B,q=I(z),j=k(z);return g.config.axis_rotated&&(0<z.value&&j<B||z.value<0&&B<j)&&(j=B),j-=B-Z,[[q+$,Z],[q+$,j],[q+M-$,j],[q+M-$,Z]]}},n.prototype.isWithinBar=function(l,h){return P(l,f(h),2)},n.prototype.getShapeIndices=function(l){var h=this,g=h.config,m={},T=0,M,I;return h.filterTargetsToShow(h.data.targets.filter(l,h)).forEach(function(k){for(M=0;M<g.data_groups.length;M++)if(!(g.data_groups[M].indexOf(k.id)<0)){for(I=0;I<g.data_groups[M].length;I++)if(g.data_groups[M][I]in m){m[k.id]=m[g.data_groups[M][I]];break}}w(m[k.id])&&(m[k.id]=T++)}),m.__max__=T-1,m},n.prototype.getShapeX=function(l,h,g,m){var T=this,M=m?T.subX:T.x;return function(I){var k=I.id in g?g[I.id]:0;return I.x||I.x===0?M(I.x)-l*(h/2-k):0}},n.prototype.getShapeY=function(l){var h=this;return function(g){var m=l?h.getSubYScale(g.id):h.getYScale(g.id);return m(h.isTargetNormalized(g.id)?h.getRatio("index",g,!0):g.value)}},n.prototype.getShapeOffset=function(l,h,g){var m=this,T=m.orderTargets(m.filterTargetsToShow(m.data.targets.filter(l,m))),M=T.map(function(I){return I.id});return function(I,k){var V=g?m.getSubYScale(I.id):m.getYScale(I.id),$=V(0),F=$;return T.forEach(function(z){var U=m.isStepType(I)?m.convertValuesToStep(z.values):z.values,B=m.isTargetNormalized(I.id),Z=U.map(function(q){return B?m.getRatio("index",q,!0):q.value});z.id===I.id||h[z.id]!==h[I.id]||M.indexOf(z.id)<M.indexOf(I.id)&&((w(U[k])||+U[k].x!=+I.x)&&(k=-1,U.forEach(function(q,j){var J=q.x.constructor===Date?+q.x:q.x,dt=I.x.constructor===Date?+I.x:I.x;J===dt&&(k=j)})),k in U&&U[k].value*I.value>=0&&(F+=V(Z[k])-$))}),F}},n.prototype.isWithinShape=function(l,h){var g=this,m=g.d3.select(l),T;return g.isTargetToShow(h.id)?l.nodeName==="circle"?T=g.isStepType(h)?g.isWithinStep(l,g.getYScale(h.id)(h.value)):g.isWithinCircle(l,g.pointSelectR(h)*1.5):l.nodeName==="path"&&(T=m.classed(C.bar)?g.isWithinBar(g.d3.mouse(l),l):!0):T=!1,T},n.prototype.getInterpolate=function(l){var h=this,g=h.d3,m={linear:g.curveLinear,"linear-closed":g.curveLinearClosed,basis:g.curveBasis,"basis-open":g.curveBasisOpen,"basis-closed":g.curveBasisClosed,bundle:g.curveBundle,cardinal:g.curveCardinal,"cardinal-open":g.curveCardinalOpen,"cardinal-closed":g.curveCardinalClosed,monotone:g.curveMonotoneX,step:g.curveStep,"step-before":g.curveStepBefore,"step-after":g.curveStepAfter},T;return h.isSplineType(l)?T=m[h.config.spline_interpolation_type]||m.cardinal:h.isStepType(l)?T=m[h.config.line_step_type]:T=m.linear,T},n.prototype.initLine=function(){var l=this;l.main.select("."+C.chart).append("g").attr("class",C.chartLines)},n.prototype.updateTargetsForLine=function(l){var h=this,g=h.config,m,T,M=h.classChartLine.bind(h),I=h.classLines.bind(h),k=h.classAreas.bind(h),V=h.classCircles.bind(h),$=h.classFocus.bind(h);m=h.main.select("."+C.chartLines).selectAll("."+C.chartLine).data(l).attr("class",function(F){return M(F)+$(F)}),T=m.enter().append("g").attr("class",M).style("opacity",0).style("pointer-events","none"),T.append("g").attr("class",I),T.append("g").attr("class",k),T.append("g").attr("class",function(F){return h.generateClass(C.selectedCircles,F.id)}),T.append("g").attr("class",V).style("cursor",function(F){return g.data_selection_isselectable(F)?"pointer":null}),l.forEach(function(F){h.main.selectAll("."+C.selectedCircles+h.getTargetSelectorSuffix(F.id)).selectAll("."+C.selectedCircle).each(function(z){z.value=F.values[z.index].value})})},n.prototype.updateLine=function(l){var h=this,g=h.main.selectAll("."+C.lines).selectAll("."+C.line).data(h.lineData.bind(h)),m=g.enter().append("path").attr("class",h.classLine.bind(h)).style("stroke",h.color);h.mainLine=m.merge(g).style("opacity",h.initialOpacity.bind(h)).style("shape-rendering",function(T){return h.isStepType(T)?"crispEdges":""}).attr("transform",null),g.exit().transition().duration(l).style("opacity",0)},n.prototype.redrawLine=function(l,h,g){return[(h?this.mainLine.transition(g):this.mainLine).attr("d",l).style("stroke",this.color).style("opacity",1)]},n.prototype.generateDrawLine=function(l,h){var g=this,m=g.config,T=g.d3.line(),M=g.generateGetLinePoints(l,h),I=h?g.getSubYScale:g.getYScale,k=function($){return(h?g.subxx:g.xx).call(g,$)},V=function($,F){return m.data_groups.length>0?M($,F)[0][1]:I.call(g,$.id)($.value)};return T=m.axis_rotated?T.x(V).y(k):T.x(k).y(V),m.line_connectNull||(T=T.defined(function($){return $.value!=null})),function($){var F=m.line_connectNull?g.filterRemoveNull($.values):$.values,z=h?g.subX:g.x,U=I.call(g,$.id),B=0,Z=0,q;return g.isLineType($)?m.data_regions[$.id]?q=g.lineWithRegions(F,z,U,m.data_regions[$.id]):(g.isStepType($)&&(F=g.convertValuesToStep(F)),q=T.curve(g.getInterpolate($))(F)):(F[0]&&(B=z(F[0].x),Z=U(F[0].value)),q=m.axis_rotated?"M "+Z+" "+B:"M "+B+" "+Z),q||"M 0 0"}},n.prototype.generateGetLinePoints=function(l,h){var g=this,m=g.config,T=l.__max__+1,M=g.getShapeX(0,T,l,!!h),I=g.getShapeY(!!h),k=g.getShapeOffset(g.isLineType,l,!!h),V=h?g.getSubYScale:g.getYScale;return function($,F){var z=V.call(g,$.id)(0),U=k($,F)||z,B=M($),Z=I($);return m.axis_rotated&&(0<$.value&&Z<z||$.value<0&&z<Z)&&(Z=z),[[B,Z-(z-U)],[B,Z-(z-U)],[B,Z-(z-U)],[B,Z-(z-U)]]}},n.prototype.lineWithRegions=function(l,h,g,m){var T=this,M=T.config,I,k,V="M",$,F,z,U,B,Z,q,j,J=T.isCategorized()?.5:0,dt,vt,Dt=[];function Ft(gt,Et){var Pt;for(Pt=0;Pt<Et.length;Pt++)if(Et[Pt].start<gt&&gt<=Et[Pt].end)return!0;return!1}if(p(m))for(I=0;I<m.length;I++)Dt[I]={},w(m[I].start)?Dt[I].start=l[0].x:Dt[I].start=T.isTimeSeries()?T.parseDate(m[I].start):m[I].start,w(m[I].end)?Dt[I].end=l[l.length-1].x:Dt[I].end=T.isTimeSeries()?T.parseDate(m[I].end):m[I].end;dt=M.axis_rotated?function(gt){return g(gt.value)}:function(gt){return h(gt.x)},vt=M.axis_rotated?function(gt){return h(gt.x)}:function(gt){return g(gt.value)};function Gt(gt){return"M"+gt[0][0]+" "+gt[0][1]+" "+gt[1][0]+" "+gt[1][1]}for(T.isTimeSeries()?$=function(gt,Et,Pt,Tt){var ot=gt.x.getTime(),lt=Et.x-gt.x,de=new Date(ot+lt*Pt),Ye=new Date(ot+lt*(Pt+Tt)),Pe;return M.axis_rotated?Pe=[[g(z(Pt)),h(de)],[g(z(Pt+Tt)),h(Ye)]]:Pe=[[h(de),g(z(Pt))],[h(Ye),g(z(Pt+Tt))]],Gt(Pe)}:$=function(gt,Et,Pt,Tt){var ot;return M.axis_rotated?ot=[[g(z(Pt),!0),h(F(Pt))],[g(z(Pt+Tt),!0),h(F(Pt+Tt))]]:ot=[[h(F(Pt),!0),g(z(Pt))],[h(F(Pt+Tt),!0),g(z(Pt+Tt))]],Gt(ot)},I=0;I<l.length;I++){if(w(Dt)||!Ft(l[I].x,Dt))V+=" "+dt(l[I])+" "+vt(l[I]);else for(F=T.getScale(l[I-1].x+J,l[I].x+J,T.isTimeSeries()),z=T.getScale(l[I-1].value,l[I].value),U=h(l[I].x)-h(l[I-1].x),B=g(l[I].value)-g(l[I-1].value),Z=Math.sqrt(Math.pow(U,2)+Math.pow(B,2)),q=2/Z,j=q*2,k=q;k<=1;k+=j)V+=$(l[I-1],l[I],k,q);l[I].x}return V},n.prototype.updateArea=function(l){var h=this,g=h.d3,m=h.main.selectAll("."+C.areas).selectAll("."+C.area).data(h.lineData.bind(h)),T=m.enter().append("path").attr("class",h.classArea.bind(h)).style("fill",h.color).style("opacity",function(){return h.orgAreaOpacity=+g.select(this).style("opacity"),0});h.mainArea=T.merge(m).style("opacity",h.orgAreaOpacity),m.exit().transition().duration(l).style("opacity",0)},n.prototype.redrawArea=function(l,h,g){return[(h?this.mainArea.transition(g):this.mainArea).attr("d",l).style("fill",this.color).style("opacity",this.orgAreaOpacity)]},n.prototype.generateDrawArea=function(l,h){var g=this,m=g.config,T=g.d3.area(),M=g.generateGetAreaPoints(l,h),I=h?g.getSubYScale:g.getYScale,k=function(F){return(h?g.subxx:g.xx).call(g,F)},V=function(F,z){return m.data_groups.length>0?M(F,z)[0][1]:I.call(g,F.id)(g.getAreaBaseValue(F.id))},$=function(F,z){return m.data_groups.length>0?M(F,z)[1][1]:I.call(g,F.id)(F.value)};return T=m.axis_rotated?T.x0(V).x1($).y(k):T.x(k).y0(m.area_above?0:V).y1($),m.line_connectNull||(T=T.defined(function(F){return F.value!==null})),function(F){var z=m.line_connectNull?g.filterRemoveNull(F.values):F.values,U=0,B=0,Z;return g.isAreaType(F)?(g.isStepType(F)&&(z=g.convertValuesToStep(z)),Z=T.curve(g.getInterpolate(F))(z)):(z[0]&&(U=g.x(z[0].x),B=g.getYScale(F.id)(z[0].value)),Z=m.axis_rotated?"M "+B+" "+U:"M "+U+" "+B),Z||"M 0 0"}},n.prototype.getAreaBaseValue=function(){return 0},n.prototype.generateGetAreaPoints=function(l,h){var g=this,m=g.config,T=l.__max__+1,M=g.getShapeX(0,T,l,!!h),I=g.getShapeY(!!h),k=g.getShapeOffset(g.isAreaType,l,!!h),V=h?g.getSubYScale:g.getYScale;return function($,F){var z=V.call(g,$.id)(0),U=k($,F)||z,B=M($),Z=I($);return m.axis_rotated&&(0<$.value&&Z<z||$.value<0&&z<Z)&&(Z=z),[[B,U],[B,Z-(z-U)],[B,Z-(z-U)],[B,U]]}},n.prototype.updateCircle=function(l,h){var g=this,m=g.main.selectAll("."+C.circles).selectAll("."+C.circle).data(g.lineOrScatterOrStanfordData.bind(g)),T=m.enter().append("circle").attr("shape-rendering",g.isStanfordGraphType()?"crispEdges":"").attr("class",g.classCircle.bind(g)).attr("cx",l).attr("cy",h).attr("r",g.pointR.bind(g)).style("color",g.isStanfordGraphType()?g.getStanfordPointColor.bind(g):g.color);g.mainCircle=T.merge(m).style("opacity",g.isStanfordGraphType()?1:g.initialOpacityForCircle.bind(g)),m.exit().style("opacity",0)},n.prototype.redrawCircle=function(l,h,g,m){var T=this,M=T.main.selectAll("."+C.selectedCircle);return[(g?T.mainCircle.transition(m):T.mainCircle).style("opacity",this.opacityForCircle.bind(T)).style("color",T.isStanfordGraphType()?T.getStanfordPointColor.bind(T):T.color).attr("cx",l).attr("cy",h),(g?M.transition(m):M).attr("cx",l).attr("cy",h)]},n.prototype.circleX=function(l){return l.x||l.x===0?this.x(l.x):null},n.prototype.updateCircleY=function(){var l=this,h,g;l.config.data_groups.length>0?(h=l.getShapeIndices(l.isLineType),g=l.generateGetLinePoints(h),l.circleY=function(m,T){return g(m,T)[0][1]}):l.circleY=function(m){return l.getYScale(m.id)(m.value)}},n.prototype.getCircles=function(l,h){var g=this;return(h?g.main.selectAll("."+C.circles+g.getTargetSelectorSuffix(h)):g.main).selectAll("."+C.circle+(b(l)?"-"+l:""))},n.prototype.expandCircles=function(l,h,g){var m=this,T=m.pointExpandedR.bind(m);g&&m.unexpandCircles(),m.getCircles(l,h).classed(C.EXPANDED,!0).attr("r",T)},n.prototype.unexpandCircles=function(l){var h=this,g=h.pointR.bind(h);h.getCircles(l).filter(function(){return h.d3.select(this).classed(C.EXPANDED)}).classed(C.EXPANDED,!1).attr("r",g)},n.prototype.pointR=function(l){var h=this,g=h.config;return h.isStepType(l)?0:y(g.point_r)?g.point_r(l):g.point_r},n.prototype.pointExpandedR=function(l){var h=this,g=h.config;return g.point_focus_expand_enabled?y(g.point_focus_expand_r)?g.point_focus_expand_r(l):g.point_focus_expand_r?g.point_focus_expand_r:h.pointR(l)*1.75:h.pointR(l)},n.prototype.pointSelectR=function(l){var h=this,g=h.config;return y(g.point_select_r)?g.point_select_r(l):g.point_select_r?g.point_select_r:h.pointR(l)*4},n.prototype.isWithinCircle=function(l,h){var g=this.d3,m=g.mouse(l),T=g.select(l),M=+T.attr("cx"),I=+T.attr("cy");return Math.sqrt(Math.pow(M-m[0],2)+Math.pow(I-m[1],2))<h},n.prototype.isWithinStep=function(l,h){return Math.abs(h-this.d3.mouse(l)[1])<30},n.prototype.getCurrentWidth=function(){var l=this,h=l.config;return h.size_width?h.size_width:l.getParentWidth()},n.prototype.getCurrentHeight=function(){var l=this,h=l.config,g=h.size_height?h.size_height:l.getParentHeight();return g>0?g:320/(l.hasType("gauge")&&!h.gauge_fullCircle?2:1)},n.prototype.getCurrentPaddingTop=function(){var l=this,h=l.config,g=b(h.padding_top)?h.padding_top:0;return l.title&&l.title.node()&&(g+=l.getTitlePadding()),g},n.prototype.getCurrentPaddingBottom=function(){var l=this.config;return b(l.padding_bottom)?l.padding_bottom:0},n.prototype.getCurrentPaddingLeft=function(l){var h=this,g=h.config;return b(g.padding_left)?g.padding_left:g.axis_rotated?!g.axis_x_show||g.axis_x_inner?1:Math.max(a(h.getAxisWidthByAxisId("x",l)),40):!g.axis_y_show||g.axis_y_inner?h.axis.getYAxisLabelPosition().isOuter?30:1:a(h.getAxisWidthByAxisId("y",l))},n.prototype.getCurrentPaddingRight=function(){var l=this,h=l.config,g=0,m=10,T=l.isLegendRight?l.getLegendWidth()+20:0;return b(h.padding_right)?g=h.padding_right+1:h.axis_rotated?g=m+T:!h.axis_y2_show||h.axis_y2_inner?g=2+T+(l.axis.getY2AxisLabelPosition().isOuter?20:0):g=a(l.getAxisWidthByAxisId("y2"))+T,l.colorScale&&l.colorScale.node()&&(g+=l.getColorScalePadding()),g},n.prototype.getParentRectValue=function(l){for(var h=this.selectChart.node(),g;h&&h.tagName!=="BODY";){try{g=h.getBoundingClientRect()[l]}catch{l==="width"&&(g=h.offsetWidth)}if(g)break;h=h.parentNode}return g},n.prototype.getParentWidth=function(){return this.getParentRectValue("width")},n.prototype.getParentHeight=function(){var l=this.selectChart.style("height");return l.indexOf("px")>0?+l.replace("px",""):0},n.prototype.getSvgLeft=function(l){var h=this,g=h.config,m=g.axis_rotated||!g.axis_rotated&&!g.axis_y_inner,T=g.axis_rotated?C.axisX:C.axisY,M=h.main.select("."+T).node(),I=M&&m?M.getBoundingClientRect():{right:0},k=h.selectChart.node().getBoundingClientRect(),V=h.hasArcType(),$=I.right-k.left-(V?0:h.getCurrentPaddingLeft(l));return $>0?$:0},n.prototype.getAxisWidthByAxisId=function(l,h){var g=this,m=g.axis.getLabelPositionById(l);return g.axis.getMaxTickWidth(l,h)+(m.isInner?20:40)},n.prototype.getHorizontalAxisHeight=function(l,h){var g=this,m=g.config,T=30;return l==="x"&&!(p(h)&&h?m.subchart_axis_x_show:m.axis_x_show)?8:l==="x"&&m.axis_x_height?m.axis_x_height:l==="y"&&!m.axis_y_show?m.legend_show&&!g.isLegendRight&&!g.isLegendInset?10:1:l==="y2"&&!m.axis_y2_show?g.rotated_padding_top:(l==="x"&&!m.axis_rotated&&m.axis_x_tick_rotate&&(T=30+g.axis.getMaxTickWidth(l)*Math.cos(Math.PI*(90-Math.abs(m.axis_x_tick_rotate))/180)),l==="y"&&m.axis_rotated&&m.axis_y_tick_rotate&&(T=30+g.axis.getMaxTickWidth(l)*Math.cos(Math.PI*(90-Math.abs(m.axis_y_tick_rotate))/180)),T+(g.axis.getLabelPositionById(l).isInner?0:10)+(l==="y2"?-10:0))},n.prototype.initBrush=function(l){var h=this,g=h.d3;return h.brush=(h.config.axis_rotated?g.brushY():g.brushX()).on("brush",function(){var m=g.event.sourceEvent;m&&m.type==="zoom"||h.redrawForBrush()}).on("end",function(){var m=g.event.sourceEvent;m&&m.type==="zoom"||h.brush.empty()&&m&&m.type!=="end"&&h.brush.clear()}),h.brush.updateExtent=function(){var m=this.scale.range(),T;return h.config.axis_rotated?T=[[0,m[0]],[h.width2,m[1]]]:T=[[m[0],0],[m[1],h.height2]],this.extent(T),this},h.brush.updateScale=function(m){return this.scale=m,this},h.brush.update=function(m){this.updateScale(m||h.subX).updateExtent(),h.context.select("."+C.brush).call(this)},h.brush.clear=function(){h.context.select("."+C.brush).call(h.brush.move,null)},h.brush.selection=function(){return g.brushSelection(h.context.select("."+C.brush).node())},h.brush.selectionAsValue=function(m,T){var M,I;return m?(h.context&&(M=[this.scale(m[0]),this.scale(m[1])],I=h.context.select("."+C.brush),T&&(I=I.transition()),h.brush.move(I,M)),[]):(M=h.brush.selection()||[0,0],[this.scale.invert(M[0]),this.scale.invert(M[1])])},h.brush.empty=function(){var m=h.brush.selection();return!m||m[0]===m[1]},h.brush.updateScale(l)},n.prototype.initSubchart=function(){var l=this,h=l.config,g=l.context=l.svg.append("g").attr("transform",l.getTranslate("context"));g.style("visibility","visible"),g.append("g").attr("clip-path",l.clipPathForSubchart).attr("class",C.chart),g.select("."+C.chart).append("g").attr("class",C.chartBars),g.select("."+C.chart).append("g").attr("class",C.chartLines),g.append("g").attr("clip-path",l.clipPath).attr("class",C.brush),l.axes.subx=g.append("g").attr("class",C.axisX).attr("transform",l.getTranslate("subx")).attr("clip-path",h.axis_rotated?"":l.clipPathForXAxis).style("visibility",h.subchart_axis_x_show?"visible":"hidden")},n.prototype.initSubchartBrush=function(){var l=this;l.initBrush(l.subX).updateExtent(),l.context.select("."+C.brush).call(l.brush)},n.prototype.updateTargetsForSubchart=function(l){var h=this,g=h.context,m=h.config,T,M,I,k,V=h.classChartBar.bind(h),$=h.classBars.bind(h),F=h.classChartLine.bind(h),z=h.classLines.bind(h),U=h.classAreas.bind(h);k=g.select("."+C.chartBars).selectAll("."+C.chartBar).data(l),I=k.enter().append("g").style("opacity",0),I.merge(k).attr("class",V),I.append("g").attr("class",$),M=g.select("."+C.chartLines).selectAll("."+C.chartLine).data(l),T=M.enter().append("g").style("opacity",0),T.merge(M).attr("class",F),T.append("g").attr("class",z),T.append("g").attr("class",U),g.selectAll("."+C.brush+" rect").attr(m.axis_rotated?"width":"height",m.axis_rotated?h.width2:h.height2)},n.prototype.updateBarForSubchart=function(l){var h=this,g=h.context.selectAll("."+C.bars).selectAll("."+C.bar).data(h.barData.bind(h)),m=g.enter().append("path").attr("class",h.classBar.bind(h)).style("stroke","none").style("fill",h.color);g.exit().transition().duration(l).style("opacity",0).remove(),h.contextBar=m.merge(g).style("opacity",h.initialOpacity.bind(h))},n.prototype.redrawBarForSubchart=function(l,h,g){(h?this.contextBar.transition(Math.random().toString()).duration(g):this.contextBar).attr("d",l).style("opacity",1)},n.prototype.updateLineForSubchart=function(l){var h=this,g=h.context.selectAll("."+C.lines).selectAll("."+C.line).data(h.lineData.bind(h)),m=g.enter().append("path").attr("class",h.classLine.bind(h)).style("stroke",h.color);g.exit().transition().duration(l).style("opacity",0).remove(),h.contextLine=m.merge(g).style("opacity",h.initialOpacity.bind(h))},n.prototype.redrawLineForSubchart=function(l,h,g){(h?this.contextLine.transition(Math.random().toString()).duration(g):this.contextLine).attr("d",l).style("opacity",1)},n.prototype.updateAreaForSubchart=function(l){var h=this,g=h.d3,m=h.context.selectAll("."+C.areas).selectAll("."+C.area).data(h.lineData.bind(h)),T=m.enter().append("path").attr("class",h.classArea.bind(h)).style("fill",h.color).style("opacity",function(){return h.orgAreaOpacity=+g.select(this).style("opacity"),0});m.exit().transition().duration(l).style("opacity",0).remove(),h.contextArea=T.merge(m).style("opacity",0)},n.prototype.redrawAreaForSubchart=function(l,h,g){(h?this.contextArea.transition(Math.random().toString()).duration(g):this.contextArea).attr("d",l).style("fill",this.color).style("opacity",this.orgAreaOpacity)},n.prototype.redrawSubchart=function(l,h,g,m,T,M,I){var k=this,V=k.d3,$,F,z;V.event&&V.event.type==="zoom"&&k.brush.selectionAsValue(k.x.orgDomain()),l&&(k.brush.empty()||k.brush.selectionAsValue(k.x.orgDomain()),$=k.generateDrawArea(T,!0),F=k.generateDrawBar(M,!0),z=k.generateDrawLine(I,!0),k.updateBarForSubchart(g),k.updateLineForSubchart(g),k.updateAreaForSubchart(g),k.redrawBarForSubchart(F,g,g),k.redrawLineForSubchart(z,g,g),k.redrawAreaForSubchart($,g,g))},n.prototype.redrawForBrush=function(){var l=this,h=l.x,g=l.d3,m;l.redraw({withTransition:!1,withY:l.config.zoom_rescale,withSubchart:!1,withUpdateXDomain:!0,withEventRect:!1,withDimension:!1}),m=g.event.selection||l.brush.scale.range(),l.main.select("."+C.eventRect).call(l.zoom.transform,g.zoomIdentity.scale(l.width/(m[1]-m[0])).translate(-m[0],0)),l.config.subchart_onbrush.call(l.api,h.orgDomain())},n.prototype.transformContext=function(l,h){var g=this,m;h&&h.axisSubX?m=h.axisSubX:(m=g.context.select("."+C.axisX),l&&(m=m.transition())),g.context.attr("transform",g.getTranslate("context")),m.attr("transform",g.getTranslate("subx"))},n.prototype.getDefaultSelection=function(){var l=this,h=l.config,g=y(h.axis_x_selection)?h.axis_x_selection(l.getXDomain(l.data.targets)):h.axis_x_selection;return l.isTimeSeries()&&(g=[l.parseDate(g[0]),l.parseDate(g[1])]),g},n.prototype.removeSubchart=function(){var l=this;l.brush=null,l.context.remove(),l.context=null},n.prototype.initText=function(){var l=this;l.main.select("."+C.chart).append("g").attr("class",C.chartTexts),l.mainText=l.d3.selectAll([])},n.prototype.updateTargetsForText=function(l){var h=this,g=h.classChartText.bind(h),m=h.classTexts.bind(h),T=h.classFocus.bind(h),M=h.main.select("."+C.chartTexts).selectAll("."+C.chartText).data(l),I=M.enter().append("g").attr("class",g).style("opacity",0).style("pointer-events","none");I.append("g").attr("class",m),I.merge(M).attr("class",function(k){return g(k)+T(k)})},n.prototype.updateText=function(l,h,g){var m=this,T=m.config,M=m.barOrLineData.bind(m),I=m.classText.bind(m),k=m.main.selectAll("."+C.texts).selectAll("."+C.text).data(M),V=k.enter().append("text").attr("class",I).attr("text-anchor",function($){return T.axis_rotated?$.value<0?"end":"start":"middle"}).style("stroke","none").attr("x",l).attr("y",h).style("fill",function($){return m.color($)}).style("fill-opacity",0);m.mainText=V.merge(k).text(function($,F,z){return m.dataLabelFormat($.id)($.value,$.id,F,z)}),k.exit().transition().duration(g).style("fill-opacity",0).remove()},n.prototype.redrawText=function(l,h,g,m,T){return[(m?this.mainText.transition(T):this.mainText).attr("x",l).attr("y",h).style("fill",this.color).style("fill-opacity",g?0:this.opacityForText.bind(this))]},n.prototype.getTextRect=function(l,h,g){var m=this.d3.select("body").append("div").classed("c3",!0),T=m.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),M=this.d3.select(g).style("font"),I;return T.selectAll(".dummy").data([l]).enter().append("text").classed(h||"",!0).style("font",M).text(l).each(function(){I=f(this)}),m.remove(),I},n.prototype.generateXYForText=function(l,h,g,m){var T=this,M=T.generateGetAreaPoints(l,!1),I=T.generateGetBarPoints(h,!1),k=T.generateGetLinePoints(g,!1),V=m?T.getXForText:T.getYForText;return function($,F){var z=T.isAreaType($)?M:T.isBarType($)?I:k;return V.call(T,z($,F),$,this)}},n.prototype.getXForText=function(l,h,g){var m=this,T=f(g),M,I;return m.config.axis_rotated?(I=m.isBarType(h)?4:6,M=l[2][1]+I*(h.value<0?-1:1)):M=m.hasType("bar")?(l[2][0]+l[0][0])/2:l[0][0],h.value===null&&(M>m.width?M=m.width-T.width:M<0&&(M=4)),M},n.prototype.getYForText=function(l,h,g){var m=this,T=f(g),M;return m.config.axis_rotated?M=(l[0][0]+l[2][0]+T.height*.6)/2:(M=l[2][1],h.value<0||h.value===0&&!m.hasPositiveValue?(M+=T.height,m.isBarType(h)&&m.isSafari()?M-=3:!m.isBarType(h)&&m.isChrome()&&(M+=3)):M+=m.isBarType(h)?-3:-6),h.value===null&&!m.config.axis_rotated&&(M<T.height?M=T.height:M>this.height&&(M=this.height-4)),M},n.prototype.initTitle=function(){var l=this;l.title=l.svg.append("text").text(l.config.title_text).attr("class",l.CLASS.title)},n.prototype.redrawTitle=function(){var l=this;l.title.attr("x",l.xForTitle.bind(l)).attr("y",l.yForTitle.bind(l))},n.prototype.xForTitle=function(){var l=this,h=l.config,g=h.title_position||"left",m;return g.indexOf("right")>=0?m=l.currentWidth-l.getTextRect(l.title.node().textContent,l.CLASS.title,l.title.node()).width-h.title_padding.right:g.indexOf("center")>=0?m=Math.max((l.currentWidth-l.getTextRect(l.title.node().textContent,l.CLASS.title,l.title.node()).width)/2,0):m=h.title_padding.left,m},n.prototype.yForTitle=function(){var l=this;return l.config.title_padding.top+l.getTextRect(l.title.node().textContent,l.CLASS.title,l.title.node()).height},n.prototype.getTitlePadding=function(){var l=this;return l.yForTitle()+l.config.title_padding.bottom};function H(l){return l/Math.pow(10,Math.ceil(Math.log(l)/Math.LN10-1e-12))===1}n.prototype.drawColorScale=function(){var l=this,h=l.d3,g=l.config,m=l.data.targets[0],T,M,I,k,V,$,F,z;if(T=isNaN(g.stanford_scaleWidth)?20:g.stanford_scaleWidth,M=5,M<0||T<0)throw Error("Colorscale's barheight and barwidth must be greater than 0.");z=l.height-g.stanford_padding.bottom-g.stanford_padding.top,k=h.range(g.stanford_padding.bottom,z,M),F=h.scaleSequential(m.colors).domain([k[k.length-1],k[0]]),l.colorScale&&l.colorScale.remove(),l.colorScale=l.svg.append("g").attr("width",50).attr("height",z).attr("class",C.colorScale),l.colorScale.append("g").attr("transform","translate(0, "+g.stanford_padding.top+")").selectAll("bars").data(k).enter().append("rect").attr("y",function(U,B){return B*M}).attr("x",0).attr("width",T).attr("height",M).attr("fill",function(U){return F(U)}),$=h.scaleLog().domain([m.minEpochs,m.maxEpochs]).range([k[0]+g.stanford_padding.top+k[k.length-1]+M-1,k[0]+g.stanford_padding.top]),V=h.axisRight($),g.stanford_scaleFormat==="pow10"?V.tickValues([1,10,100,1e3,1e4,1e5,1e6,1e7]):y(g.stanford_scaleFormat)?V.tickFormat(g.stanford_scaleFormat):V.tickFormat(h.format("d")),y(g.stanford_scaleValues)&&V.tickValues(g.stanford_scaleValues(m.minEpochs,m.maxEpochs)),I=l.colorScale.append("g").attr("class","legend axis").attr("transform","translate("+T+",0)").call(V),g.stanford_scaleFormat==="pow10"&&I.selectAll(".tick text").text(null).filter(H).text(10).append("tspan").attr("dy","-.7em").text(function(U){return Math.round(Math.log(U)/Math.LN10)}),l.colorScale.attr("transform","translate("+(l.currentWidth-l.xForColorScale())+", 0)")},n.prototype.xForColorScale=function(){var l=this;return l.config.stanford_padding.right+f(l.colorScale.node()).width},n.prototype.getColorScalePadding=function(){var l=this;return l.xForColorScale()+l.config.stanford_padding.left+20},n.prototype.isStanfordGraphType=function(){var l=this;return l.config.data_type==="stanford"},n.prototype.initStanfordData=function(){var l=this,h=l.d3,g=l.config,m=l.data.targets[0],T,M,I;if(m.values.sort(Q),T=m.values.map(function(k){return k.epochs}),I=isNaN(g.stanford_scaleMin)?h.min(T):g.stanford_scaleMin,M=isNaN(g.stanford_scaleMax)?h.max(T):g.stanford_scaleMax,I>M)throw Error("Number of minEpochs has to be smaller than maxEpochs");m.colors=y(g.stanford_colors)?g.stanford_colors:h.interpolateHslLong(h.hsl(250,1,.5),h.hsl(0,1,.5)),m.colorscale=h.scaleSequentialLog(m.colors).domain([I,M]),m.minEpochs=I,m.maxEpochs=M},n.prototype.getStanfordPointColor=function(l){var h=this,g=h.data.targets[0];return g.colorscale(l.epochs)},n.prototype.getCentroid=function(l){var h=W(l),g=0,m=0,T,M,I,k,V;for(T=0,M=l.length-1;T<l.length;M=T,T+=1)k=l[T],V=l[M],I=k.x*V.y-V.x*k.y,g+=(k.x+V.x)*I,m+=(k.y+V.y)*I;return I=h*6,{x:g/I,y:m/I}},n.prototype.getStanfordTooltipTitle=function(l){var h=this,g=h.axis.getLabelText("x"),m=h.axis.getLabelText("y");return`
      <tr><th>`+(g?A(g):"x")+"</th><th class='value'>"+l.x+`</th></tr>
      <tr><th>`+(m?A(m):"y")+"</th><th class='value'>"+l.value+`</th></tr>
    `},n.prototype.countEpochsInRegion=function(l){var h=this,g=h.data.targets[0],m,T;return m=g.values.reduce(function(M,I){return M+Number(I.epochs)},0),T=g.values.reduce(function(M,I){return K(I,l)?M+Number(I.epochs):M},0),{value:T,percentage:T!==0?(T/m*100).toFixed(1):0}};var W=function(l){var h=0,g,m,T,M;for(g=0,m=l.length-1;g<l.length;m=g,g+=1)T=l[g],M=l[m],h+=T.x*M.y,h-=T.y*M.x;return h/=2,h},K=function(l,h){for(var g,m,T,M,I,k=l.x,V=l.value,$=!1,F=0,z=h.length-1;F<h.length;z=F++)g=h[F].x,m=h[F].y,M=h[z].x,T=h[z].y,I=m>V!=T>V&&k<(M-g)*(V-m)/(T-m)+g,I&&($=!$);return $},Q=function(l,h){return l.epochs<h.epochs?-1:l.epochs>h.epochs?1:0};return n.prototype.initStanfordElements=function(){var l=this;l.stanfordElements=l.main.select("."+C.chart).append("g").attr("class",C.stanfordElements),l.stanfordElements.append("g").attr("class",C.stanfordLines),l.stanfordElements.append("g").attr("class",C.stanfordTexts),l.stanfordElements.append("g").attr("class",C.stanfordRegions)},n.prototype.updateStanfordElements=function(l){var h=this,g=h.main,m=h.config,T,M,I,k,V,$,F=h.xvCustom.bind(h),z=h.yvCustom.bind(h),U=h.countEpochsInRegion.bind(h);T=g.select("."+C.stanfordLines).style("shape-rendering","geometricprecision").selectAll("."+C.stanfordLine).data(m.stanford_lines),M=T.enter().append("g").attr("class",function(B){return C.stanfordLine+(B.class?" "+B.class:"")}),M.append("line").attr("x1",function(B){return m.axis_rotated?z(B,"value_y1"):F(B,"value_x1")}).attr("x2",function(B){return m.axis_rotated?z(B,"value_y2"):F(B,"value_x2")}).attr("y1",function(B){return m.axis_rotated?F(B,"value_x1"):z(B,"value_y1")}).attr("y2",function(B){return m.axis_rotated?F(B,"value_x2"):z(B,"value_y2")}).style("opacity",0),h.stanfordLines=M.merge(T),h.stanfordLines.select("line").transition().duration(l).attr("x1",function(B){return m.axis_rotated?z(B,"value_y1"):F(B,"value_x1")}).attr("x2",function(B){return m.axis_rotated?z(B,"value_y2"):F(B,"value_x2")}).attr("y1",function(B){return m.axis_rotated?F(B,"value_x1"):z(B,"value_y1")}).attr("y2",function(B){return m.axis_rotated?F(B,"value_x2"):z(B,"value_y2")}).style("opacity",1),T.exit().transition().duration(l).style("opacity",0).remove(),V=g.select("."+C.stanfordTexts).selectAll("."+C.stanfordText).data(m.stanford_texts),$=V.enter().append("g").attr("class",function(B){return C.stanfordText+(B.class?" "+B.class:"")}),$.append("text").attr("x",function(B){return m.axis_rotated?z(B,"y"):F(B,"x")}).attr("y",function(B){return m.axis_rotated?F(B,"x"):z(B,"y")}).style("opacity",0),h.stanfordTexts=$.merge(V),h.stanfordTexts.select("text").transition().duration(l).attr("x",function(B){return m.axis_rotated?z(B,"y"):F(B,"x")}).attr("y",function(B){return m.axis_rotated?F(B,"x"):z(B,"y")}).text(function(B){return B.content}).style("opacity",1),V.exit().transition().duration(l).style("opacity",0).remove(),I=g.select("."+C.stanfordRegions).selectAll("."+C.stanfordRegion).data(m.stanford_regions),k=I.enter().append("g").attr("class",function(B){return C.stanfordRegion+(B.class?" "+B.class:"")}),k.append("polygon").attr("points",function(B){return B.points.map(function(Z){return[m.axis_rotated?z(Z,"y"):F(Z,"x"),m.axis_rotated?F(Z,"x"):z(Z,"y")].join(",")}).join(" ")}).style("opacity",0),k.append("text").attr("x",function(B){return h.getCentroid(B.points).x}).attr("y",function(B){return h.getCentroid(B.points).y}).style("opacity",0),h.stanfordRegions=k.merge(I),h.stanfordRegions.select("polygon").transition().duration(l).attr("points",function(B){return B.points.map(function(Z){return[m.axis_rotated?z(Z,"y"):F(Z,"x"),m.axis_rotated?F(Z,"x"):z(Z,"y")].join(",")}).join(" ")}).style("opacity",function(B){return B.opacity?B.opacity:.2}),h.stanfordRegions.select("text").transition().duration(l).attr("x",function(B){return m.axis_rotated?z(h.getCentroid(B.points),"y"):F(h.getCentroid(B.points),"x")}).attr("y",function(B){return m.axis_rotated?F(h.getCentroid(B.points),"x"):z(h.getCentroid(B.points),"y")}).text(function(B){if(B.text){var Z,q,j;return h.isStanfordGraphType()&&(j=U(B.points),Z=j.value,q=j.percentage),B.text(Z,q)}return""}).attr("text-anchor","middle").attr("dominant-baseline","middle").style("opacity",1),I.exit().transition().duration(l).style("opacity",0).remove()},n.prototype.initTooltip=function(){var l=this,h=l.config,g;if(l.tooltip=l.selectChart.style("position","relative").append("div").attr("class",C.tooltipContainer).style("position","absolute").style("pointer-events","none").style("display","none"),h.tooltip_init_show){if(l.isTimeSeries()&&_(h.tooltip_init_x)){for(h.tooltip_init_x=l.parseDate(h.tooltip_init_x),g=0;g<l.data.targets[0].values.length&&l.data.targets[0].values[g].x-h.tooltip_init_x!==0;g++);h.tooltip_init_x=g}l.tooltip.html(h.tooltip_contents.call(l,l.data.targets.map(function(m){return l.addName(m.values[h.tooltip_init_x])}),l.axis.getXAxisTickFormat(),l.getYFormat(l.hasArcType()),l.color)),l.tooltip.style("top",h.tooltip_init_position.top).style("left",h.tooltip_init_position.left).style("display","block")}},n.prototype.getTooltipSortFunction=function(){var l=this,h=l.config;if(h.data_groups.length===0||h.tooltip_order!==void 0){var g=h.tooltip_order;g===void 0&&(g=h.data_order);var m=function(I){return I?I.value:null};if(_(g)&&g.toLowerCase()==="asc")return function(I,k){return m(I)-m(k)};if(_(g)&&g.toLowerCase()==="desc")return function(I,k){return m(k)-m(I)};if(y(g)){var T=g;return h.tooltip_order===void 0&&(T=function(I,k){return g(I?{id:I.id,values:[I]}:null,k?{id:k.id,values:[k]}:null)}),T}else if(d(g))return function(I,k){return g.indexOf(I.id)-g.indexOf(k.id)}}else{var M=l.orderTargets(l.data.targets).map(function(I){return I.id});return(l.isOrderAsc()||l.isOrderDesc())&&(M=M.reverse()),function(I,k){return M.indexOf(I.id)-M.indexOf(k.id)}}},n.prototype.getTooltipContent=function(l,h,g,m){var T=this,M=T.config,I=M.tooltip_format_title||h,k=M.tooltip_format_name||function(j){return j},V,$,F,z,U,B,Z=M.tooltip_format_value;Z||(Z=T.isTargetNormalized(l.id)?function(j,J){return(J*100).toFixed(2)+"%"}:g);var q=this.getTooltipSortFunction();for(q&&l.sort(q),$=0;$<l.length;$++)if(l[$]&&(l[$].value||l[$].value===0)){if(T.isStanfordGraphType())V||(F=T.getStanfordTooltipTitle(l[$]),V="<table class='"+T.CLASS.tooltip+"'>"+F),B=T.getStanfordPointColor(l[$]),U=A(M.data_epochs),z=l[$].epochs;else if(V||(F=A(I?I(l[$].x,l[$].index):l[$].x),V="<table class='"+T.CLASS.tooltip+"'>"+(F||F===0?"<tr><th colspan='2'>"+F+"</th></tr>":"")),z=A(Z(l[$].value,l[$].ratio,l[$].id,l[$].index,l)),z!==void 0){if(l[$].name===null)continue;U=A(k(l[$].name,l[$].ratio,l[$].id,l[$].index)),B=T.levelColor?T.levelColor(l[$].value):m(l[$].id)}z!==void 0&&(V+="<tr class='"+T.CLASS.tooltipName+"-"+T.getTargetSelectorSuffix(l[$].id)+"'>",V+="<td class='name'><span style='background-color:"+B+"'></span>"+U+"</td>",V+="<td class='value'>"+z+"</td>",V+="</tr>")}return V+"</table>"},n.prototype.tooltipPosition=function(l,h,g,m){var T=this,M=T.config,I=T.d3,k,V,$,F,z,U=T.hasArcType(),B=I.mouse(m);return U?(V=(T.width-(T.isLegendRight?T.getLegendWidth():0))/2+B[0],F=(T.hasType("gauge")?T.height:T.height/2)+B[1]+20):(k=T.getSvgLeft(!0),M.axis_rotated?(V=k+B[0]+100,$=V+h,z=T.currentWidth-T.getCurrentPaddingRight(),F=T.x(l[0].x)+20):(V=k+T.getCurrentPaddingLeft(!0)+T.x(l[0].x)+20,$=V+h,z=k+T.currentWidth-T.getCurrentPaddingRight(),F=B[1]+15),$>z&&(V-=$-z+20),F+g>T.currentHeight&&(F-=g+30)),F<0&&(F=0),{top:F,left:V}},n.prototype.showTooltip=function(l,h){var g=this,m=g.config,T,M,I,k=g.hasArcType(),V=l.filter(function(F){return F&&b(F.value)}),$=m.tooltip_position||n.prototype.tooltipPosition;if(V.length===0||!m.tooltip_show){g.hideTooltip();return}g.tooltip.html(m.tooltip_contents.call(g,l,g.axis.getXAxisTickFormat(),g.getYFormat(k),g.color)).style("display","block"),T=g.tooltip.property("offsetWidth"),M=g.tooltip.property("offsetHeight"),I=$.call(this,V,T,M,h),g.tooltip.style("top",I.top+"px").style("left",I.left+"px")},n.prototype.hideTooltip=function(){this.tooltip.style("display","none")},n.prototype.setTargetType=function(l,h){var g=this,m=g.config;g.mapToTargetIds(l).forEach(function(T){g.withoutFadeIn[T]=h===m.data_types[T],m.data_types[T]=h}),l||(m.data_type=h)},n.prototype.hasType=function(l,h){var g=this,m=g.config.data_types,T=!1;return h=h||g.data.targets,h&&h.length?h.forEach(function(M){var I=m[M.id];(I&&I.indexOf(l)>=0||!I&&l==="line")&&(T=!0)}):Object.keys(m).length?Object.keys(m).forEach(function(M){m[M]===l&&(T=!0)}):T=g.config.data_type===l,T},n.prototype.hasArcType=function(l){return this.hasType("pie",l)||this.hasType("donut",l)||this.hasType("gauge",l)},n.prototype.isLineType=function(l){var h=this.config,g=_(l)?l:l.id;return!h.data_types[g]||["line","spline","area","area-spline","step","area-step"].indexOf(h.data_types[g])>=0},n.prototype.isStepType=function(l){var h=_(l)?l:l.id;return["step","area-step"].indexOf(this.config.data_types[h])>=0},n.prototype.isSplineType=function(l){var h=_(l)?l:l.id;return["spline","area-spline"].indexOf(this.config.data_types[h])>=0},n.prototype.isAreaType=function(l){var h=_(l)?l:l.id;return["area","area-spline","area-step"].indexOf(this.config.data_types[h])>=0},n.prototype.isBarType=function(l){var h=_(l)?l:l.id;return this.config.data_types[h]==="bar"},n.prototype.isScatterType=function(l){var h=_(l)?l:l.id;return this.config.data_types[h]==="scatter"},n.prototype.isStanfordType=function(l){var h=_(l)?l:l.id;return this.config.data_types[h]==="stanford"},n.prototype.isPieType=function(l){var h=_(l)?l:l.id;return this.config.data_types[h]==="pie"},n.prototype.isGaugeType=function(l){var h=_(l)?l:l.id;return this.config.data_types[h]==="gauge"},n.prototype.isDonutType=function(l){var h=_(l)?l:l.id;return this.config.data_types[h]==="donut"},n.prototype.isArcType=function(l){return this.isPieType(l)||this.isDonutType(l)||this.isGaugeType(l)},n.prototype.lineData=function(l){return this.isLineType(l)?[l]:[]},n.prototype.arcData=function(l){return this.isArcType(l.data)?[l]:[]},n.prototype.barData=function(l){return this.isBarType(l)?l.values:[]},n.prototype.lineOrScatterOrStanfordData=function(l){return this.isLineType(l)||this.isScatterType(l)||this.isStanfordType(l)?l.values:[]},n.prototype.barOrLineData=function(l){return this.isBarType(l)||this.isLineType(l)?l.values:[]},n.prototype.isSafari=function(){var l=window.navigator.userAgent;return l.indexOf("Safari")>=0&&l.indexOf("Chrome")<0},n.prototype.isChrome=function(){var l=window.navigator.userAgent;return l.indexOf("Chrome")>=0},n.prototype.initZoom=function(){var l=this,h=l.d3,g=l.config,m;return l.zoom=h.zoom().on("start",function(){if(g.zoom_type==="scroll"){var T=h.event.sourceEvent;T&&T.type==="brush"||(m=T,g.zoom_onzoomstart.call(l.api,T))}}).on("zoom",function(){if(g.zoom_type==="scroll"){var T=h.event.sourceEvent;T&&T.type==="brush"||(l.redrawForZoom(),g.zoom_onzoom.call(l.api,l.x.orgDomain()))}}).on("end",function(){if(g.zoom_type==="scroll"){var T=h.event.sourceEvent;T&&T.type==="brush"||T&&m.clientX===T.clientX&&m.clientY===T.clientY||g.zoom_onzoomend.call(l.api,l.x.orgDomain())}}),l.zoom.updateDomain=function(){return h.event&&h.event.transform&&(g.axis_rotated&&g.zoom_type==="scroll"&&h.event.sourceEvent.type==="mousemove"?l.x.domain(h.event.transform.rescaleY(l.subX).domain()):l.x.domain(h.event.transform.rescaleX(l.subX).domain())),this},l.zoom.updateExtent=function(){return this.scaleExtent([1,1/0]).translateExtent([[0,0],[l.width,l.height]]).extent([[0,0],[l.width,l.height]]),this},l.zoom.update=function(){return this.updateExtent().updateDomain()},l.zoom.updateExtent()},n.prototype.zoomTransform=function(l){var h=this,g=[h.x(l[0]),h.x(l[1])];return h.d3.zoomIdentity.scale(h.width/(g[1]-g[0])).translate(-g[0],0)},n.prototype.initDragZoom=function(){var l=this,h=l.d3,g=l.config,m=l.context=l.svg,T=l.margin.left+20.5,M=l.margin.top+.5;if(g.zoom_type==="drag"&&g.zoom_enabled){var I=function(V){return V&&V.map(function($){return l.x.invert($)})},k=l.dragZoomBrush=h.brushX().on("start",function(){l.api.unzoom(),l.svg.select("."+C.dragZoom).classed("disabled",!1),g.zoom_onzoomstart.call(l.api,h.event.sourceEvent)}).on("brush",function(){g.zoom_onzoom.call(l.api,I(h.event.selection))}).on("end",function(){if(h.event.selection!=null){var V=I(h.event.selection);g.zoom_disableDefaultBehavior||l.api.zoom(V),l.svg.select("."+C.dragZoom).classed("disabled",!0),g.zoom_onzoomend.call(l.api,V)}});m.append("g").classed(C.dragZoom,!0).attr("clip-path",l.clipPath).attr("transform","translate("+T+","+M+")").call(k)}},n.prototype.getZoomDomain=function(){var l=this,h=l.config,g=l.d3,m=g.min([l.orgXDomain[0],h.zoom_x_min]),T=g.max([l.orgXDomain[1],h.zoom_x_max]);return[m,T]},n.prototype.redrawForZoom=function(){var l=this,h=l.d3,g=l.config,m=l.zoom,T=l.x;g.zoom_enabled&&l.filterTargetsToShow(l.data.targets).length!==0&&(m.update(),!g.zoom_disableDefaultBehavior&&(l.isCategorized()&&T.orgDomain()[0]===l.orgXDomain[0]&&T.domain([l.orgXDomain[0]-1e-10,T.orgDomain()[1]]),l.redraw({withTransition:!1,withY:g.zoom_rescale,withSubchart:!1,withEventRect:!1,withDimension:!1}),h.event.sourceEvent&&h.event.sourceEvent.type==="mousemove"&&(l.cancelClick=!0)))},G})})(d5);const mF=Pg,_F=t=>{mF.generate({bindto:"#dountChar",data:{columns:t,type:"donut"},donut:{label:{format:function(e,n,r){return`${parseFloat(n*100).toFixed(1)}%`}}},tooltip:{format:{value:function(e,n,r,i){return`${e}`}}}})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var C0=function(t,e){return C0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},C0(t,e)};function ht(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");C0(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var xF=function(){function t(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return t}(),wF=function(){function t(){this.browser=new xF,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return t}(),Ji=new wF;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(Ji.wxa=!0,Ji.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?Ji.worker=!0:typeof navigator>"u"?(Ji.node=!0,Ji.svgSupported=!0):bF(navigator.userAgent,Ji);function bF(t,e){var n=e.browser,r=t.match(/Firefox\/([\d.]+)/),i=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/),a=t.match(/Edge?\/([\d.]+)/),o=/micromessenger/i.test(t);r&&(n.firefox=!0,n.version=r[1]),i&&(n.ie=!0,n.version=i[1]),a&&(n.edge=!0,n.version=a[1],n.newEdge=+a[1].split(".")[0]>18),o&&(n.weChat=!0),e.svgSupported=typeof SVGRect<"u",e.touchEventsSupported="ontouchstart"in window&&!n.ie&&!n.edge,e.pointerEventsSupported="onpointerdown"in window&&(n.edge||n.ie&&+n.version>=11),e.domSupported=typeof document<"u";var s=document.documentElement.style;e.transform3dSupported=(n.ie&&"transition"in s||n.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in s)&&!("OTransition"in s),e.transformSupported=e.transform3dSupported||n.ie&&+n.version>=9}const Ct=Ji;var o_=12,SF="sans-serif",Ma=o_+"px "+SF,TF=20,AF=100,CF="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function MF(t){var e={};if(typeof JSON>"u")return e;for(var n=0;n<t.length;n++){var r=String.fromCharCode(n+32),i=(t.charCodeAt(n)-TF)/AF;e[r]=i}return e}var PF=MF(CF),ds={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(){var t,e;return function(n,r){if(!t){var i=ds.createCanvas();t=i&&i.getContext("2d")}if(t)return e!==r&&(e=t.font=r||Ma),t.measureText(n);n=n||"",r=r||Ma;var a=/(\d+)px/.exec(r),o=a&&+a[1]||o_,s=0;if(r.indexOf("mono")>=0)s=o*n.length;else for(var u=0;u<n.length;u++){var f=PF[n[u]];s+=f==null?o:f*o}return{width:s}}}(),loadImage:function(t,e,n){var r=new Image;return r.onload=e,r.onerror=n,r.src=t,r}},yL=ps(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(t,e){return t["[object "+e+"]"]=!0,t},{}),mL=ps(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(t,e){return t["[object "+e+"Array]"]=!0,t},{}),Nl=Object.prototype.toString,Pd=Array.prototype,LF=Pd.forEach,DF=Pd.filter,s_=Pd.slice,EF=Pd.map,Fw=function(){}.constructor,pf=Fw?Fw.prototype:null,u_="__proto__",IF=2311;function _L(){return IF++}function l_(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];typeof console<"u"&&console.error.apply(console,t)}function wt(t){if(t==null||typeof t!="object")return t;var e=t,n=Nl.call(t);if(n==="[object Array]"){if(!Lu(t)){e=[];for(var r=0,i=t.length;r<i;r++)e[r]=wt(t[r])}}else if(mL[n]){if(!Lu(t)){var a=t.constructor;if(a.from)e=a.from(t);else{e=new a(t.length);for(var r=0,i=t.length;r<i;r++)e[r]=t[r]}}}else if(!yL[n]&&!Lu(t)&&!ll(t)){e={};for(var o in t)t.hasOwnProperty(o)&&o!==u_&&(e[o]=wt(t[o]))}return e}function Mt(t,e,n){if(!pt(e)||!pt(t))return n?wt(e):t;for(var r in e)if(e.hasOwnProperty(r)&&r!==u_){var i=t[r],a=e[r];pt(a)&&pt(i)&&!nt(a)&&!nt(i)&&!ll(a)&&!ll(i)&&!Bw(a)&&!Bw(i)&&!Lu(a)&&!Lu(i)?Mt(i,a,n):(n||!(r in t))&&(t[r]=wt(e[r]))}return t}function et(t,e){if(Object.assign)Object.assign(t,e);else for(var n in e)e.hasOwnProperty(n)&&n!==u_&&(t[n]=e[n]);return t}function bt(t,e,n){for(var r=jt(e),i=0;i<r.length;i++){var a=r[i];(n?e[a]!=null:t[a]==null)&&(t[a]=e[a])}return t}function Ot(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n}return-1}function RF(t,e){var n=t.prototype;function r(){}r.prototype=e.prototype,t.prototype=new r;for(var i in n)n.hasOwnProperty(i)&&(t.prototype[i]=n[i]);t.prototype.constructor=t,t.superClass=e}function gr(t,e,n){if(t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,Object.getOwnPropertyNames)for(var r=Object.getOwnPropertyNames(e),i=0;i<r.length;i++){var a=r[i];a!=="constructor"&&(n?e[a]!=null:t[a]==null)&&(t[a]=e[a])}else bt(t,e,n)}function en(t){return!t||typeof t=="string"?!1:typeof t.length=="number"}function Y(t,e,n){if(t&&e)if(t.forEach&&t.forEach===LF)t.forEach(e,n);else if(t.length===+t.length)for(var r=0,i=t.length;r<i;r++)e.call(n,t[r],r,t);else for(var a in t)t.hasOwnProperty(a)&&e.call(n,t[a],a,t)}function at(t,e,n){if(!t)return[];if(!e)return f_(t);if(t.map&&t.map===EF)return t.map(e,n);for(var r=[],i=0,a=t.length;i<a;i++)r.push(e.call(n,t[i],i,t));return r}function ps(t,e,n,r){if(t&&e){for(var i=0,a=t.length;i<a;i++)n=e.call(r,n,t[i],i,t);return n}}function pe(t,e,n){if(!t)return[];if(!e)return f_(t);if(t.filter&&t.filter===DF)return t.filter(e,n);for(var r=[],i=0,a=t.length;i<a;i++)e.call(n,t[i],i,t)&&r.push(t[i]);return r}function jt(t){if(!t)return[];if(Object.keys)return Object.keys(t);var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e}function kF(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return function(){return t.apply(e,n.concat(s_.call(arguments)))}}var qt=pf&&mt(pf.bind)?pf.call.bind(pf.bind):kF;function zt(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return function(){return t.apply(this,e.concat(s_.call(arguments)))}}function nt(t){return Array.isArray?Array.isArray(t):Nl.call(t)==="[object Array]"}function mt(t){return typeof t=="function"}function ut(t){return typeof t=="string"}function M0(t){return Nl.call(t)==="[object String]"}function Qt(t){return typeof t=="number"}function pt(t){var e=typeof t;return e==="function"||!!t&&e==="object"}function Bw(t){return!!yL[Nl.call(t)]}function cn(t){return!!mL[Nl.call(t)]}function ll(t){return typeof t=="object"&&typeof t.nodeType=="number"&&typeof t.ownerDocument=="object"}function Ld(t){return t.colorStops!=null}function OF(t){return t.image!=null}function Sh(t){return t!==t}function fl(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0,r=t.length;n<r;n++)if(t[n]!=null)return t[n]}function Vt(t,e){return t??e}function hc(t,e,n){return t??e??n}function f_(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return s_.apply(t,e)}function xL(t){if(typeof t=="number")return[t,t,t,t];var e=t.length;return e===2?[t[0],t[1],t[0],t[1]]:e===3?[t[0],t[1],t[2],t[1]]:t}function cr(t,e){if(!t)throw new Error(e)}function ar(t){return t==null?null:typeof t.trim=="function"?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var wL="__ec_primitive__";function P0(t){t[wL]=!0}function Lu(t){return t[wL]}var NF=function(){function t(){this.data={}}return t.prototype.delete=function(e){var n=this.has(e);return n&&delete this.data[e],n},t.prototype.has=function(e){return this.data.hasOwnProperty(e)},t.prototype.get=function(e){return this.data[e]},t.prototype.set=function(e,n){return this.data[e]=n,this},t.prototype.keys=function(){return jt(this.data)},t.prototype.forEach=function(e){var n=this.data;for(var r in n)n.hasOwnProperty(r)&&e(n[r],r)},t}(),bL=typeof Map=="function";function $F(){return bL?new Map:new NF}var GF=function(){function t(e){var n=nt(e);this.data=$F();var r=this;e instanceof t?e.each(i):e&&Y(e,i);function i(a,o){n?r.set(a,o):r.set(o,a)}}return t.prototype.hasKey=function(e){return this.data.has(e)},t.prototype.get=function(e){return this.data.get(e)},t.prototype.set=function(e,n){return this.data.set(e,n),n},t.prototype.each=function(e,n){this.data.forEach(function(r,i){e.call(n,r,i)})},t.prototype.keys=function(){var e=this.data.keys();return bL?Array.from(e):e},t.prototype.removeKey=function(e){this.data.delete(e)},t}();function yt(t){return new GF(t)}function VF(t,e){for(var n=new t.constructor(t.length+e.length),r=0;r<t.length;r++)n[r]=t[r];for(var i=t.length,r=0;r<e.length;r++)n[r+i]=e[r];return n}function Dd(t,e){var n;if(Object.create)n=Object.create(t);else{var r=function(){};r.prototype=t,n=new r}return e&&et(n,e),n}function SL(t){var e=t.style;e.webkitUserSelect="none",e.userSelect="none",e.webkitTapHighlightColor="rgba(0,0,0,0)",e["-webkit-touch-callout"]="none"}function Ko(t,e){return t.hasOwnProperty(e)}function $e(){}var FF=180/Math.PI;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var L0=function(t,e){return L0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},L0(t,e)};function Yt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");L0(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function vs(t,e){return t==null&&(t=0),e==null&&(e=0),[t,e]}function BF(t){return[t[0],t[1]]}function zw(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function zF(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function HF(t){return Math.sqrt(YF(t))}function YF(t){return t[0]*t[0]+t[1]*t[1]}function iv(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function XF(t,e){var n=HF(e);return n===0?(t[0]=0,t[1]=0):(t[0]=e[0]/n,t[1]=e[1]/n),t}function D0(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}var UF=D0;function WF(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])}var ko=WF;function qF(t,e,n,r){return t[0]=e[0]+r*(n[0]-e[0]),t[1]=e[1]+r*(n[1]-e[1]),t}function Pn(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t}function bo(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function So(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}var Ka=function(){function t(e,n){this.target=e,this.topTarget=n&&n.topTarget}return t}(),ZF=function(){function t(e){this.handler=e,e.on("mousedown",this._dragStart,this),e.on("mousemove",this._drag,this),e.on("mouseup",this._dragEnd,this)}return t.prototype._dragStart=function(e){for(var n=e.target;n&&!n.draggable;)n=n.parent||n.__hostTarget;n&&(this._draggingTarget=n,n.dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.handler.dispatchToElement(new Ka(n,e),"dragstart",e.event))},t.prototype._drag=function(e){var n=this._draggingTarget;if(n){var r=e.offsetX,i=e.offsetY,a=r-this._x,o=i-this._y;this._x=r,this._y=i,n.drift(a,o,e),this.handler.dispatchToElement(new Ka(n,e),"drag",e.event);var s=this.handler.findHover(r,i,n).target,u=this._dropTarget;this._dropTarget=s,n!==s&&(u&&s!==u&&this.handler.dispatchToElement(new Ka(u,e),"dragleave",e.event),s&&s!==u&&this.handler.dispatchToElement(new Ka(s,e),"dragenter",e.event))}},t.prototype._dragEnd=function(e){var n=this._draggingTarget;n&&(n.dragging=!1),this.handler.dispatchToElement(new Ka(n,e),"dragend",e.event),this._dropTarget&&this.handler.dispatchToElement(new Ka(this._dropTarget,e),"drop",e.event),this._draggingTarget=null,this._dropTarget=null},t}();const QF=ZF;var KF=function(){function t(e){e&&(this._$eventProcessor=e)}return t.prototype.on=function(e,n,r,i){this._$handlers||(this._$handlers={});var a=this._$handlers;if(typeof n=="function"&&(i=r,r=n,n=null),!r||!e)return this;var o=this._$eventProcessor;n!=null&&o&&o.normalizeQuery&&(n=o.normalizeQuery(n)),a[e]||(a[e]=[]);for(var s=0;s<a[e].length;s++)if(a[e][s].h===r)return this;var u={h:r,query:n,ctx:i||this,callAtLast:r.zrEventfulCallAtLast},f=a[e].length-1,c=a[e][f];return c&&c.callAtLast?a[e].splice(f,0,u):a[e].push(u),this},t.prototype.isSilent=function(e){var n=this._$handlers;return!n||!n[e]||!n[e].length},t.prototype.off=function(e,n){var r=this._$handlers;if(!r)return this;if(!e)return this._$handlers={},this;if(n){if(r[e]){for(var i=[],a=0,o=r[e].length;a<o;a++)r[e][a].h!==n&&i.push(r[e][a]);r[e]=i}r[e]&&r[e].length===0&&delete r[e]}else delete r[e];return this},t.prototype.trigger=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(!this._$handlers)return this;var i=this._$handlers[e],a=this._$eventProcessor;if(i)for(var o=n.length,s=i.length,u=0;u<s;u++){var f=i[u];if(!(a&&a.filter&&f.query!=null&&!a.filter(e,f.query)))switch(o){case 0:f.h.call(f.ctx);break;case 1:f.h.call(f.ctx,n[0]);break;case 2:f.h.call(f.ctx,n[0],n[1]);break;default:f.h.apply(f.ctx,n);break}}return a&&a.afterTrigger&&a.afterTrigger(e),this},t.prototype.triggerWithContext=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(!this._$handlers)return this;var i=this._$handlers[e],a=this._$eventProcessor;if(i)for(var o=n.length,s=n[o-1],u=i.length,f=0;f<u;f++){var c=i[f];if(!(a&&a.filter&&c.query!=null&&!a.filter(e,c.query)))switch(o){case 0:c.h.call(s);break;case 1:c.h.call(s,n[0]);break;case 2:c.h.call(s,n[0],n[1]);break;default:c.h.apply(s,n.slice(1,o-1));break}}return a&&a.afterTrigger&&a.afterTrigger(e),this},t}();const Yn=KF;var jF=Math.log(2);function E0(t,e,n,r,i,a){var o=r+"-"+i,s=t.length;if(a.hasOwnProperty(o))return a[o];if(e===1){var u=Math.round(Math.log((1<<s)-1&~i)/jF);return t[n][u]}for(var f=r|1<<n,c=n+1;r&1<<c;)c++;for(var d=0,p=0,v=0;p<s;p++){var y=1<<p;y&i||(d+=(v%2?-1:1)*t[n][p]*E0(t,e-1,c,f,i|y,a),v++)}return a[o]=d,d}function Hw(t,e){var n=[[t[0],t[1],1,0,0,0,-e[0]*t[0],-e[0]*t[1]],[0,0,0,t[0],t[1],1,-e[1]*t[0],-e[1]*t[1]],[t[2],t[3],1,0,0,0,-e[2]*t[2],-e[2]*t[3]],[0,0,0,t[2],t[3],1,-e[3]*t[2],-e[3]*t[3]],[t[4],t[5],1,0,0,0,-e[4]*t[4],-e[4]*t[5]],[0,0,0,t[4],t[5],1,-e[5]*t[4],-e[5]*t[5]],[t[6],t[7],1,0,0,0,-e[6]*t[6],-e[6]*t[7]],[0,0,0,t[6],t[7],1,-e[7]*t[6],-e[7]*t[7]]],r={},i=E0(n,8,0,0,0,r);if(i!==0){for(var a=[],o=0;o<8;o++)for(var s=0;s<8;s++)a[s]==null&&(a[s]=0),a[s]+=((o+s)%2?-1:1)*E0(n,7,o===0?1:0,1<<o,1<<s,r)/i*e[o];return function(u,f,c){var d=f*a[6]+c*a[7]+1;u[0]=(f*a[0]+c*a[1]+a[2])/d,u[1]=(f*a[3]+c*a[4]+a[5])/d}}}var Yw="___zrEVENTSAVED",av=[];function JF(t,e,n,r,i){return I0(av,e,r,i,!0)&&I0(t,n,av[0],av[1])}function I0(t,e,n,r,i){if(e.getBoundingClientRect&&Ct.domSupported&&!TL(e)){var a=e[Yw]||(e[Yw]={}),o=tB(e,a),s=eB(o,a,i);if(s)return s(t,n,r),!0}return!1}function tB(t,e){var n=e.markers;if(n)return n;n=e.markers=[];for(var r=["left","right"],i=["top","bottom"],a=0;a<4;a++){var o=document.createElement("div"),s=o.style,u=a%2,f=(a>>1)%2;s.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",r[u]+":0",i[f]+":0",r[1-u]+":auto",i[1-f]+":auto",""].join("!important;"),t.appendChild(o),n.push(o)}return n}function eB(t,e,n){for(var r=n?"invTrans":"trans",i=e[r],a=e.srcCoords,o=[],s=[],u=!0,f=0;f<4;f++){var c=t[f].getBoundingClientRect(),d=2*f,p=c.left,v=c.top;o.push(p,v),u=u&&a&&p===a[d]&&v===a[d+1],s.push(t[f].offsetLeft,t[f].offsetTop)}return u&&i?i:(e.srcCoords=o,e[r]=n?Hw(s,o):Hw(o,s))}function TL(t){return t.nodeName.toUpperCase()==="CANVAS"}var nB=/([&<>"'])/g,rB={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Tn(t){return t==null?"":(t+"").replace(nB,function(e,n){return rB[n]})}var iB=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ov=[],aB=Ct.browser.firefox&&+Ct.browser.version.split(".")[0]<39;function R0(t,e,n,r){return n=n||{},r?Xw(t,e,n):aB&&e.layerX!=null&&e.layerX!==e.offsetX?(n.zrX=e.layerX,n.zrY=e.layerY):e.offsetX!=null?(n.zrX=e.offsetX,n.zrY=e.offsetY):Xw(t,e,n),n}function Xw(t,e,n){if(Ct.domSupported&&t.getBoundingClientRect){var r=e.clientX,i=e.clientY;if(TL(t)){var a=t.getBoundingClientRect();n.zrX=r-a.left,n.zrY=i-a.top;return}else if(I0(ov,t,r,i)){n.zrX=ov[0],n.zrY=ov[1];return}}n.zrX=n.zrY=0}function c_(t){return t||window.event}function xn(t,e,n){if(e=c_(e),e.zrX!=null)return e;var r=e.type,i=r&&r.indexOf("touch")>=0;if(i){var o=r!=="touchend"?e.targetTouches[0]:e.changedTouches[0];o&&R0(t,o,e,n)}else{R0(t,e,e,n);var a=oB(e);e.zrDelta=a?a/120:-(e.detail||0)/3}var s=e.button;return e.which==null&&s!==void 0&&iB.test(e.type)&&(e.which=s&1?1:s&2?3:s&4?2:0),e}function oB(t){var e=t.wheelDelta;if(e)return e;var n=t.deltaX,r=t.deltaY;if(n==null||r==null)return e;var i=Math.abs(r!==0?r:n),a=r>0?-1:r<0?1:n>0?-1:1;return 3*i*a}function k0(t,e,n,r){t.addEventListener(e,n,r)}function sB(t,e,n,r){t.removeEventListener(e,n,r)}var AL=function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0},uB=function(){function t(){this._track=[]}return t.prototype.recognize=function(e,n,r){return this._doTrack(e,n,r),this._recognize(e)},t.prototype.clear=function(){return this._track.length=0,this},t.prototype._doTrack=function(e,n,r){var i=e.touches;if(i){for(var a={points:[],touches:[],target:n,event:e},o=0,s=i.length;o<s;o++){var u=i[o],f=R0(r,u,{});a.points.push([f.zrX,f.zrY]),a.touches.push(u)}this._track.push(a)}},t.prototype._recognize=function(e){for(var n in sv)if(sv.hasOwnProperty(n)){var r=sv[n](this._track,e);if(r)return r}},t}();function Uw(t){var e=t[1][0]-t[0][0],n=t[1][1]-t[0][1];return Math.sqrt(e*e+n*n)}function lB(t){return[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]}var sv={pinch:function(t,e){var n=t.length;if(n){var r=(t[n-1]||{}).points,i=(t[n-2]||{}).points||r;if(i&&i.length>1&&r&&r.length>1){var a=Uw(r)/Uw(i);!isFinite(a)&&(a=1),e.pinchScale=a;var o=lB(r);return e.pinchX=o[0],e.pinchY=o[1],{type:"pinch",target:t[0].target,event:e}}}}};function cl(){return[1,0,0,1,0,0]}function h_(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function fB(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function Oo(t,e,n){var r=e[0]*n[0]+e[2]*n[1],i=e[1]*n[0]+e[3]*n[1],a=e[0]*n[2]+e[2]*n[3],o=e[1]*n[2]+e[3]*n[3],s=e[0]*n[4]+e[2]*n[5]+e[4],u=e[1]*n[4]+e[3]*n[5]+e[5];return t[0]=r,t[1]=i,t[2]=a,t[3]=o,t[4]=s,t[5]=u,t}function O0(t,e,n){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+n[0],t[5]=e[5]+n[1],t}function d_(t,e,n){var r=e[0],i=e[2],a=e[4],o=e[1],s=e[3],u=e[5],f=Math.sin(n),c=Math.cos(n);return t[0]=r*c+o*f,t[1]=-r*f+o*c,t[2]=i*c+s*f,t[3]=-i*f+c*s,t[4]=c*a+f*u,t[5]=c*u-f*a,t}function cB(t,e,n){var r=n[0],i=n[1];return t[0]=e[0]*r,t[1]=e[1]*i,t[2]=e[2]*r,t[3]=e[3]*i,t[4]=e[4]*r,t[5]=e[5]*i,t}function p_(t,e){var n=e[0],r=e[2],i=e[4],a=e[1],o=e[3],s=e[5],u=n*o-a*r;return u?(u=1/u,t[0]=o*u,t[1]=-a*u,t[2]=-r*u,t[3]=n*u,t[4]=(r*s-o*i)*u,t[5]=(a*i-n*s)*u,t):null}var hB=function(){function t(e,n){this.x=e||0,this.y=n||0}return t.prototype.copy=function(e){return this.x=e.x,this.y=e.y,this},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.set=function(e,n){return this.x=e,this.y=n,this},t.prototype.equal=function(e){return e.x===this.x&&e.y===this.y},t.prototype.add=function(e){return this.x+=e.x,this.y+=e.y,this},t.prototype.scale=function(e){this.x*=e,this.y*=e},t.prototype.scaleAndAdd=function(e,n){this.x+=e.x*n,this.y+=e.y*n},t.prototype.sub=function(e){return this.x-=e.x,this.y-=e.y,this},t.prototype.dot=function(e){return this.x*e.x+this.y*e.y},t.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},t.prototype.normalize=function(){var e=this.len();return this.x/=e,this.y/=e,this},t.prototype.distance=function(e){var n=this.x-e.x,r=this.y-e.y;return Math.sqrt(n*n+r*r)},t.prototype.distanceSquare=function(e){var n=this.x-e.x,r=this.y-e.y;return n*n+r*r},t.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},t.prototype.transform=function(e){if(e){var n=this.x,r=this.y;return this.x=e[0]*n+e[2]*r+e[4],this.y=e[1]*n+e[3]*r+e[5],this}},t.prototype.toArray=function(e){return e[0]=this.x,e[1]=this.y,e},t.prototype.fromArray=function(e){this.x=e[0],this.y=e[1]},t.set=function(e,n,r){e.x=n,e.y=r},t.copy=function(e,n){e.x=n.x,e.y=n.y},t.len=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},t.lenSquare=function(e){return e.x*e.x+e.y*e.y},t.dot=function(e,n){return e.x*n.x+e.y*n.y},t.add=function(e,n,r){e.x=n.x+r.x,e.y=n.y+r.y},t.sub=function(e,n,r){e.x=n.x-r.x,e.y=n.y-r.y},t.scale=function(e,n,r){e.x=n.x*r,e.y=n.y*r},t.scaleAndAdd=function(e,n,r,i){e.x=n.x+r.x*i,e.y=n.y+r.y*i},t.lerp=function(e,n,r,i){var a=1-i;e.x=a*n.x+i*r.x,e.y=a*n.y+i*r.y},t}();const kt=hB;var vf=Math.min,gf=Math.max,Pi=new kt,Li=new kt,Di=new kt,Ei=new kt,Is=new kt,Rs=new kt,dB=function(){function t(e,n,r,i){r<0&&(e=e+r,r=-r),i<0&&(n=n+i,i=-i),this.x=e,this.y=n,this.width=r,this.height=i}return t.prototype.union=function(e){var n=vf(e.x,this.x),r=vf(e.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=gf(e.x+e.width,this.x+this.width)-n:this.width=e.width,isFinite(this.y)&&isFinite(this.height)?this.height=gf(e.y+e.height,this.y+this.height)-r:this.height=e.height,this.x=n,this.y=r},t.prototype.applyTransform=function(e){t.applyTransform(this,this,e)},t.prototype.calculateTransform=function(e){var n=this,r=e.width/n.width,i=e.height/n.height,a=cl();return O0(a,a,[-n.x,-n.y]),cB(a,a,[r,i]),O0(a,a,[e.x,e.y]),a},t.prototype.intersect=function(e,n){if(!e)return!1;e instanceof t||(e=t.create(e));var r=this,i=r.x,a=r.x+r.width,o=r.y,s=r.y+r.height,u=e.x,f=e.x+e.width,c=e.y,d=e.y+e.height,p=!(a<u||f<i||s<c||d<o);if(n){var v=1/0,y=0,x=Math.abs(a-u),_=Math.abs(f-i),w=Math.abs(s-c),b=Math.abs(d-o),S=Math.min(x,_),A=Math.min(w,b);a<u||f<i?S>y&&(y=S,x<_?kt.set(Rs,-x,0):kt.set(Rs,_,0)):S<v&&(v=S,x<_?kt.set(Is,x,0):kt.set(Is,-_,0)),s<c||d<o?A>y&&(y=A,w<b?kt.set(Rs,0,-w):kt.set(Rs,0,b)):S<v&&(v=S,w<b?kt.set(Is,0,w):kt.set(Is,0,-b))}return n&&kt.copy(n,p?Is:Rs),p},t.prototype.contain=function(e,n){var r=this;return e>=r.x&&e<=r.x+r.width&&n>=r.y&&n<=r.y+r.height},t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copy=function(e){t.copy(this,e)},t.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},t.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},t.prototype.isZero=function(){return this.width===0||this.height===0},t.create=function(e){return new t(e.x,e.y,e.width,e.height)},t.copy=function(e,n){e.x=n.x,e.y=n.y,e.width=n.width,e.height=n.height},t.applyTransform=function(e,n,r){if(!r){e!==n&&t.copy(e,n);return}if(r[1]<1e-5&&r[1]>-1e-5&&r[2]<1e-5&&r[2]>-1e-5){var i=r[0],a=r[3],o=r[4],s=r[5];e.x=n.x*i+o,e.y=n.y*a+s,e.width=n.width*i,e.height=n.height*a,e.width<0&&(e.x+=e.width,e.width=-e.width),e.height<0&&(e.y+=e.height,e.height=-e.height);return}Pi.x=Di.x=n.x,Pi.y=Ei.y=n.y,Li.x=Ei.x=n.x+n.width,Li.y=Di.y=n.y+n.height,Pi.transform(r),Ei.transform(r),Li.transform(r),Di.transform(r),e.x=vf(Pi.x,Li.x,Di.x,Ei.x),e.y=vf(Pi.y,Li.y,Di.y,Ei.y);var u=gf(Pi.x,Li.x,Di.x,Ei.x),f=gf(Pi.y,Li.y,Di.y,Ei.y);e.width=u-e.x,e.height=f-e.y},t}();const Nt=dB;var CL="silent";function pB(t,e,n){return{type:t,event:n,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:n.zrX,offsetY:n.zrY,gestureEvent:n.gestureEvent,pinchX:n.pinchX,pinchY:n.pinchY,pinchScale:n.pinchScale,wheelDelta:n.zrDelta,zrByTouch:n.zrByTouch,which:n.which,stop:vB}}function vB(){AL(this.event)}var gB=function(t){Yt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.handler=null,n}return e.prototype.dispose=function(){},e.prototype.setCursor=function(){},e}(Yn),ks=function(){function t(e,n){this.x=e,this.y=n}return t}(),yB=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],uv=new Nt(0,0,0,0),ML=function(t){Yt(e,t);function e(n,r,i,a,o){var s=t.call(this)||this;return s._hovered=new ks(0,0),s.storage=n,s.painter=r,s.painterRoot=a,s._pointerSize=o,i=i||new gB,s.proxy=null,s.setHandlerProxy(i),s._draggingMgr=new QF(s),s}return e.prototype.setHandlerProxy=function(n){this.proxy&&this.proxy.dispose(),n&&(Y(yB,function(r){n.on&&n.on(r,this[r],this)},this),n.handler=this),this.proxy=n},e.prototype.mousemove=function(n){var r=n.zrX,i=n.zrY,a=PL(this,r,i),o=this._hovered,s=o.target;s&&!s.__zr&&(o=this.findHover(o.x,o.y),s=o.target);var u=this._hovered=a?new ks(r,i):this.findHover(r,i),f=u.target,c=this.proxy;c.setCursor&&c.setCursor(f?f.cursor:"default"),s&&f!==s&&this.dispatchToElement(o,"mouseout",n),this.dispatchToElement(u,"mousemove",n),f&&f!==s&&this.dispatchToElement(u,"mouseover",n)},e.prototype.mouseout=function(n){var r=n.zrEventControl;r!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",n),r!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:n})},e.prototype.resize=function(){this._hovered=new ks(0,0)},e.prototype.dispatch=function(n,r){var i=this[n];i&&i.call(this,r)},e.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},e.prototype.setCursorStyle=function(n){var r=this.proxy;r.setCursor&&r.setCursor(n)},e.prototype.dispatchToElement=function(n,r,i){n=n||{};var a=n.target;if(!(a&&a.silent)){for(var o="on"+r,s=pB(r,n,i);a&&(a[o]&&(s.cancelBubble=!!a[o].call(a,s)),a.trigger(r,s),a=a.__hostTarget?a.__hostTarget:a.parent,!s.cancelBubble););s.cancelBubble||(this.trigger(r,s),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(u){typeof u[o]=="function"&&u[o].call(u,s),u.trigger&&u.trigger(r,s)}))}},e.prototype.findHover=function(n,r,i){var a=this.storage.getDisplayList(),o=new ks(n,r);if(Ww(a,o,n,r,i),this._pointerSize&&!o.target){for(var s=[],u=this._pointerSize,f=u/2,c=new Nt(n-f,r-f,u,u),d=a.length-1;d>=0;d--){var p=a[d];p!==i&&!p.ignore&&!p.ignoreCoarsePointer&&(!p.parent||!p.parent.ignoreCoarsePointer)&&(uv.copy(p.getBoundingRect()),p.transform&&uv.applyTransform(p.transform),uv.intersect(c)&&s.push(p))}if(s.length)for(var v=4,y=Math.PI/12,x=Math.PI*2,_=0;_<f;_+=v)for(var w=0;w<x;w+=y){var b=n+_*Math.cos(w),S=r+_*Math.sin(w);if(Ww(s,o,b,S,i),o.target)return o}}return o},e.prototype.processGesture=function(n,r){this._gestureMgr||(this._gestureMgr=new uB);var i=this._gestureMgr;r==="start"&&i.clear();var a=i.recognize(n,this.findHover(n.zrX,n.zrY,null).target,this.proxy.dom);if(r==="end"&&i.clear(),a){var o=a.type;n.gestureEvent=o;var s=new ks;s.target=a.target,this.dispatchToElement(s,o,a.event)}},e}(Yn);Y(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(t){ML.prototype[t]=function(e){var n=e.zrX,r=e.zrY,i=PL(this,n,r),a,o;if((t!=="mouseup"||!i)&&(a=this.findHover(n,r),o=a.target),t==="mousedown")this._downEl=o,this._downPoint=[e.zrX,e.zrY],this._upEl=o;else if(t==="mouseup")this._upEl=o;else if(t==="click"){if(this._downEl!==this._upEl||!this._downPoint||UF(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(a,t,e)}});function mB(t,e,n){if(t[t.rectHover?"rectContain":"contain"](e,n)){for(var r=t,i=void 0,a=!1;r;){if(r.ignoreClip&&(a=!0),!a){var o=r.getClipPath();if(o&&!o.contain(e,n))return!1;r.silent&&(i=!0)}var s=r.__hostTarget;r=s||r.parent}return i?CL:!0}return!1}function Ww(t,e,n,r,i){for(var a=t.length-1;a>=0;a--){var o=t[a],s=void 0;if(o!==i&&!o.ignore&&(s=mB(o,n,r))&&(!e.topTarget&&(e.topTarget=o),s!==CL)){e.target=o;break}}}function PL(t,e,n){var r=t.painter;return e<0||e>r.getWidth()||n<0||n>r.getHeight()}const _B=ML;var LL=32,Os=7;function xB(t){for(var e=0;t>=LL;)e|=t&1,t>>=1;return t+e}function qw(t,e,n,r){var i=e+1;if(i===n)return 1;if(r(t[i++],t[e])<0){for(;i<n&&r(t[i],t[i-1])<0;)i++;wB(t,e,i)}else for(;i<n&&r(t[i],t[i-1])>=0;)i++;return i-e}function wB(t,e,n){for(n--;e<n;){var r=t[e];t[e++]=t[n],t[n--]=r}}function Zw(t,e,n,r,i){for(r===e&&r++;r<n;r++){for(var a=t[r],o=e,s=r,u;o<s;)u=o+s>>>1,i(a,t[u])<0?s=u:o=u+1;var f=r-o;switch(f){case 3:t[o+3]=t[o+2];case 2:t[o+2]=t[o+1];case 1:t[o+1]=t[o];break;default:for(;f>0;)t[o+f]=t[o+f-1],f--}t[o]=a}}function lv(t,e,n,r,i,a){var o=0,s=0,u=1;if(a(t,e[n+i])>0){for(s=r-i;u<s&&a(t,e[n+i+u])>0;)o=u,u=(u<<1)+1,u<=0&&(u=s);u>s&&(u=s),o+=i,u+=i}else{for(s=i+1;u<s&&a(t,e[n+i-u])<=0;)o=u,u=(u<<1)+1,u<=0&&(u=s);u>s&&(u=s);var f=o;o=i-u,u=i-f}for(o++;o<u;){var c=o+(u-o>>>1);a(t,e[n+c])>0?o=c+1:u=c}return u}function fv(t,e,n,r,i,a){var o=0,s=0,u=1;if(a(t,e[n+i])<0){for(s=i+1;u<s&&a(t,e[n+i-u])<0;)o=u,u=(u<<1)+1,u<=0&&(u=s);u>s&&(u=s);var f=o;o=i-u,u=i-f}else{for(s=r-i;u<s&&a(t,e[n+i+u])>=0;)o=u,u=(u<<1)+1,u<=0&&(u=s);u>s&&(u=s),o+=i,u+=i}for(o++;o<u;){var c=o+(u-o>>>1);a(t,e[n+c])<0?u=c:o=c+1}return u}function bB(t,e){var n=Os,r,i,a=0;t.length;var o=[];r=[],i=[];function s(v,y){r[a]=v,i[a]=y,a+=1}function u(){for(;a>1;){var v=a-2;if(v>=1&&i[v-1]<=i[v]+i[v+1]||v>=2&&i[v-2]<=i[v]+i[v-1])i[v-1]<i[v+1]&&v--;else if(i[v]>i[v+1])break;c(v)}}function f(){for(;a>1;){var v=a-2;v>0&&i[v-1]<i[v+1]&&v--,c(v)}}function c(v){var y=r[v],x=i[v],_=r[v+1],w=i[v+1];i[v]=x+w,v===a-3&&(r[v+1]=r[v+2],i[v+1]=i[v+2]),a--;var b=fv(t[_],t,y,x,0,e);y+=b,x-=b,x!==0&&(w=lv(t[y+x-1],t,_,w,w-1,e),w!==0&&(x<=w?d(y,x,_,w):p(y,x,_,w)))}function d(v,y,x,_){var w=0;for(w=0;w<y;w++)o[w]=t[v+w];var b=0,S=x,A=v;if(t[A++]=t[S++],--_===0){for(w=0;w<y;w++)t[A+w]=o[b+w];return}if(y===1){for(w=0;w<_;w++)t[A+w]=t[S+w];t[A+_]=o[b];return}for(var L=n,P,E,O;;){P=0,E=0,O=!1;do if(e(t[S],o[b])<0){if(t[A++]=t[S++],E++,P=0,--_===0){O=!0;break}}else if(t[A++]=o[b++],P++,E=0,--y===1){O=!0;break}while((P|E)<L);if(O)break;do{if(P=fv(t[S],o,b,y,0,e),P!==0){for(w=0;w<P;w++)t[A+w]=o[b+w];if(A+=P,b+=P,y-=P,y<=1){O=!0;break}}if(t[A++]=t[S++],--_===0){O=!0;break}if(E=lv(o[b],t,S,_,0,e),E!==0){for(w=0;w<E;w++)t[A+w]=t[S+w];if(A+=E,S+=E,_-=E,_===0){O=!0;break}}if(t[A++]=o[b++],--y===1){O=!0;break}L--}while(P>=Os||E>=Os);if(O)break;L<0&&(L=0),L+=2}if(n=L,n<1&&(n=1),y===1){for(w=0;w<_;w++)t[A+w]=t[S+w];t[A+_]=o[b]}else{if(y===0)throw new Error;for(w=0;w<y;w++)t[A+w]=o[b+w]}}function p(v,y,x,_){var w=0;for(w=0;w<_;w++)o[w]=t[x+w];var b=v+y-1,S=_-1,A=x+_-1,L=0,P=0;if(t[A--]=t[b--],--y===0){for(L=A-(_-1),w=0;w<_;w++)t[L+w]=o[w];return}if(_===1){for(A-=y,b-=y,P=A+1,L=b+1,w=y-1;w>=0;w--)t[P+w]=t[L+w];t[A]=o[S];return}for(var E=n;;){var O=0,R=0,C=!1;do if(e(o[S],t[b])<0){if(t[A--]=t[b--],O++,R=0,--y===0){C=!0;break}}else if(t[A--]=o[S--],R++,O=0,--_===1){C=!0;break}while((O|R)<E);if(C)break;do{if(O=y-fv(o[S],t,v,y,y-1,e),O!==0){for(A-=O,b-=O,y-=O,P=A+1,L=b+1,w=O-1;w>=0;w--)t[P+w]=t[L+w];if(y===0){C=!0;break}}if(t[A--]=o[S--],--_===1){C=!0;break}if(R=_-lv(t[b],o,0,_,_-1,e),R!==0){for(A-=R,S-=R,_-=R,P=A+1,L=S+1,w=0;w<R;w++)t[P+w]=o[L+w];if(_<=1){C=!0;break}}if(t[A--]=t[b--],--y===0){C=!0;break}E--}while(O>=Os||R>=Os);if(C)break;E<0&&(E=0),E+=2}if(n=E,n<1&&(n=1),_===1){for(A-=y,b-=y,P=A+1,L=b+1,w=y-1;w>=0;w--)t[P+w]=t[L+w];t[A]=o[S]}else{if(_===0)throw new Error;for(L=A-(_-1),w=0;w<_;w++)t[L+w]=o[w]}}return{mergeRuns:u,forceMergeRuns:f,pushRun:s}}function dc(t,e,n,r){n||(n=0),r||(r=t.length);var i=r-n;if(!(i<2)){var a=0;if(i<LL){a=qw(t,n,r,e),Zw(t,n,r,n+a,e);return}var o=bB(t,e),s=xB(i);do{if(a=qw(t,n,r,e),a<s){var u=i;u>s&&(u=s),Zw(t,n,n+u,n+a,e),a=u}o.pushRun(n,a),o.mergeRuns(),i-=a,n+=a}while(i!==0);o.forceMergeRuns()}}var un=1,vu=2,go=4,Qw=!1;function cv(){Qw||(Qw=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function Kw(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}var SB=function(){function t(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=Kw}return t.prototype.traverse=function(e,n){for(var r=0;r<this._roots.length;r++)this._roots[r].traverse(e,n)},t.prototype.getDisplayList=function(e,n){n=n||!1;var r=this._displayList;return(e||!r.length)&&this.updateDisplayList(n),r},t.prototype.updateDisplayList=function(e){this._displayListLen=0;for(var n=this._roots,r=this._displayList,i=0,a=n.length;i<a;i++)this._updateAndAddDisplayable(n[i],null,e);r.length=this._displayListLen,dc(r,Kw)},t.prototype._updateAndAddDisplayable=function(e,n,r){if(!(e.ignore&&!r)){e.beforeUpdate(),e.update(),e.afterUpdate();var i=e.getClipPath();if(e.ignoreClip)n=null;else if(i){n?n=n.slice():n=[];for(var a=i,o=e;a;)a.parent=o,a.updateTransform(),n.push(a),o=a,a=a.getClipPath()}if(e.childrenRef){for(var s=e.childrenRef(),u=0;u<s.length;u++){var f=s[u];e.__dirty&&(f.__dirty|=un),this._updateAndAddDisplayable(f,n,r)}e.__dirty=0}else{var c=e;n&&n.length?c.__clipPaths=n:c.__clipPaths&&c.__clipPaths.length>0&&(c.__clipPaths=[]),isNaN(c.z)&&(cv(),c.z=0),isNaN(c.z2)&&(cv(),c.z2=0),isNaN(c.zlevel)&&(cv(),c.zlevel=0),this._displayList[this._displayListLen++]=c}var d=e.getDecalElement&&e.getDecalElement();d&&this._updateAndAddDisplayable(d,n,r);var p=e.getTextGuideLine();p&&this._updateAndAddDisplayable(p,n,r);var v=e.getTextContent();v&&this._updateAndAddDisplayable(v,n,r)}},t.prototype.addRoot=function(e){e.__zr&&e.__zr.storage===this||this._roots.push(e)},t.prototype.delRoot=function(e){if(e instanceof Array){for(var n=0,r=e.length;n<r;n++)this.delRoot(e[n]);return}var i=Ot(this._roots,e);i>=0&&this._roots.splice(i,1)},t.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},t.prototype.getRoots=function(){return this._roots},t.prototype.dispose=function(){this._displayList=null,this._roots=null},t}();const TB=SB;var DL;DL=Ct.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){return setTimeout(t,16)};const N0=DL;var pc={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return .5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return t===0?0:Math.pow(1024,t-1)},exponentialOut:function(t){return t===1?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return t===0?0:t===1?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,n=.1,r=.4;return t===0?0:t===1?1:(!n||n<1?(n=1,e=r/4):e=r*Math.asin(1/n)/(2*Math.PI),-(n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/r)))},elasticOut:function(t){var e,n=.1,r=.4;return t===0?0:t===1?1:(!n||n<1?(n=1,e=r/4):e=r*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/r)+1)},elasticInOut:function(t){var e,n=.1,r=.4;return t===0?0:t===1?1:(!n||n<1?(n=1,e=r/4):e=r*Math.asin(1/n)/(2*Math.PI),(t*=2)<1?-.5*(n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/r)):n*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/r)*.5+1)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?.5*(t*t*((e+1)*t-e)):.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-pc.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?pc.bounceIn(t*2)*.5:pc.bounceOut(t*2-1)*.5+.5}};const EL=pc;var yf=Math.pow,li=Math.sqrt,Th=1e-8,IL=1e-4,jw=li(3),mf=1/3,rr=vs(),An=vs(),No=vs();function oi(t){return t>-Th&&t<Th}function RL(t){return t>Th||t<-Th}function le(t,e,n,r,i){var a=1-i;return a*a*(a*t+3*i*e)+i*i*(i*r+3*a*n)}function Jw(t,e,n,r,i){var a=1-i;return 3*(((e-t)*a+2*(n-e)*i)*a+(r-n)*i*i)}function Ah(t,e,n,r,i,a){var o=r+3*(e-n)-t,s=3*(n-e*2+t),u=3*(e-t),f=t-i,c=s*s-3*o*u,d=s*u-9*o*f,p=u*u-3*s*f,v=0;if(oi(c)&&oi(d))if(oi(s))a[0]=0;else{var y=-u/s;y>=0&&y<=1&&(a[v++]=y)}else{var x=d*d-4*c*p;if(oi(x)){var _=d/c,y=-s/o+_,w=-_/2;y>=0&&y<=1&&(a[v++]=y),w>=0&&w<=1&&(a[v++]=w)}else if(x>0){var b=li(x),S=c*s+1.5*o*(-d+b),A=c*s+1.5*o*(-d-b);S<0?S=-yf(-S,mf):S=yf(S,mf),A<0?A=-yf(-A,mf):A=yf(A,mf);var y=(-s-(S+A))/(3*o);y>=0&&y<=1&&(a[v++]=y)}else{var L=(2*c*s-3*o*d)/(2*li(c*c*c)),P=Math.acos(L)/3,E=li(c),O=Math.cos(P),y=(-s-2*E*O)/(3*o),w=(-s+E*(O+jw*Math.sin(P)))/(3*o),R=(-s+E*(O-jw*Math.sin(P)))/(3*o);y>=0&&y<=1&&(a[v++]=y),w>=0&&w<=1&&(a[v++]=w),R>=0&&R<=1&&(a[v++]=R)}}return v}function kL(t,e,n,r,i){var a=6*n-12*e+6*t,o=9*e+3*r-3*t-9*n,s=3*e-3*t,u=0;if(oi(o)){if(RL(a)){var f=-s/a;f>=0&&f<=1&&(i[u++]=f)}}else{var c=a*a-4*o*s;if(oi(c))i[0]=-a/(2*o);else if(c>0){var d=li(c),f=(-a+d)/(2*o),p=(-a-d)/(2*o);f>=0&&f<=1&&(i[u++]=f),p>=0&&p<=1&&(i[u++]=p)}}return u}function mi(t,e,n,r,i,a){var o=(e-t)*i+t,s=(n-e)*i+e,u=(r-n)*i+n,f=(s-o)*i+o,c=(u-s)*i+s,d=(c-f)*i+f;a[0]=t,a[1]=o,a[2]=f,a[3]=d,a[4]=d,a[5]=c,a[6]=u,a[7]=r}function AB(t,e,n,r,i,a,o,s,u,f,c){var d,p=.005,v=1/0,y,x,_,w;rr[0]=u,rr[1]=f;for(var b=0;b<1;b+=.05)An[0]=le(t,n,i,o,b),An[1]=le(e,r,a,s,b),_=ko(rr,An),_<v&&(d=b,v=_);v=1/0;for(var S=0;S<32&&!(p<IL);S++)y=d-p,x=d+p,An[0]=le(t,n,i,o,y),An[1]=le(e,r,a,s,y),_=ko(An,rr),y>=0&&_<v?(d=y,v=_):(No[0]=le(t,n,i,o,x),No[1]=le(e,r,a,s,x),w=ko(No,rr),x<=1&&w<v?(d=x,v=w):p*=.5);return c&&(c[0]=le(t,n,i,o,d),c[1]=le(e,r,a,s,d)),li(v)}function CB(t,e,n,r,i,a,o,s,u){for(var f=t,c=e,d=0,p=1/u,v=1;v<=u;v++){var y=v*p,x=le(t,n,i,o,y),_=le(e,r,a,s,y),w=x-f,b=_-c;d+=Math.sqrt(w*w+b*b),f=x,c=_}return d}function Ce(t,e,n,r){var i=1-r;return i*(i*t+2*r*e)+r*r*n}function tb(t,e,n,r){return 2*((1-r)*(e-t)+r*(n-e))}function MB(t,e,n,r,i){var a=t-2*e+n,o=2*(e-t),s=t-r,u=0;if(oi(a)){if(RL(o)){var f=-s/o;f>=0&&f<=1&&(i[u++]=f)}}else{var c=o*o-4*a*s;if(oi(c)){var f=-o/(2*a);f>=0&&f<=1&&(i[u++]=f)}else if(c>0){var d=li(c),f=(-o+d)/(2*a),p=(-o-d)/(2*a);f>=0&&f<=1&&(i[u++]=f),p>=0&&p<=1&&(i[u++]=p)}}return u}function OL(t,e,n){var r=t+n-2*e;return r===0?.5:(t-e)/r}function Ch(t,e,n,r,i){var a=(e-t)*r+t,o=(n-e)*r+e,s=(o-a)*r+a;i[0]=t,i[1]=a,i[2]=s,i[3]=s,i[4]=o,i[5]=n}function PB(t,e,n,r,i,a,o,s,u){var f,c=.005,d=1/0;rr[0]=o,rr[1]=s;for(var p=0;p<1;p+=.05){An[0]=Ce(t,n,i,p),An[1]=Ce(e,r,a,p);var v=ko(rr,An);v<d&&(f=p,d=v)}d=1/0;for(var y=0;y<32&&!(c<IL);y++){var x=f-c,_=f+c;An[0]=Ce(t,n,i,x),An[1]=Ce(e,r,a,x);var v=ko(An,rr);if(x>=0&&v<d)f=x,d=v;else{No[0]=Ce(t,n,i,_),No[1]=Ce(e,r,a,_);var w=ko(No,rr);_<=1&&w<d?(f=_,d=w):c*=.5}}return u&&(u[0]=Ce(t,n,i,f),u[1]=Ce(e,r,a,f)),li(d)}function LB(t,e,n,r,i,a,o){for(var s=t,u=e,f=0,c=1/o,d=1;d<=o;d++){var p=d*c,v=Ce(t,n,i,p),y=Ce(e,r,a,p),x=v-s,_=y-u;f+=Math.sqrt(x*x+_*_),s=v,u=y}return f}var DB=/cubic-bezier\(([0-9,\.e ]+)\)/;function NL(t){var e=t&&DB.exec(t);if(e){var n=e[1].split(","),r=+ar(n[0]),i=+ar(n[1]),a=+ar(n[2]),o=+ar(n[3]);if(isNaN(r+i+a+o))return;var s=[];return function(u){return u<=0?0:u>=1?1:Ah(0,r,a,1,u,s)&&le(0,i,o,1,s[0])}}}var EB=function(){function t(e){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=e.life||1e3,this._delay=e.delay||0,this.loop=e.loop||!1,this.onframe=e.onframe||$e,this.ondestroy=e.ondestroy||$e,this.onrestart=e.onrestart||$e,e.easing&&this.setEasing(e.easing)}return t.prototype.step=function(e,n){if(this._inited||(this._startTime=e+this._delay,this._inited=!0),this._paused){this._pausedTime+=n;return}var r=this._life,i=e-this._startTime-this._pausedTime,a=i/r;a<0&&(a=0),a=Math.min(a,1);var o=this.easingFunc,s=o?o(a):a;if(this.onframe(s),a===1)if(this.loop){var u=i%r;this._startTime=e-u,this._pausedTime=0,this.onrestart()}else return!0;return!1},t.prototype.pause=function(){this._paused=!0},t.prototype.resume=function(){this._paused=!1},t.prototype.setEasing=function(e){this.easing=e,this.easingFunc=mt(e)?e:EL[e]||NL(e)},t}();const IB=EB;var $L=function(){function t(e){this.value=e}return t}(),RB=function(){function t(){this._len=0}return t.prototype.insert=function(e){var n=new $L(e);return this.insertEntry(n),n},t.prototype.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++},t.prototype.remove=function(e){var n=e.prev,r=e.next;n?n.next=r:this.head=r,r?r.prev=n:this.tail=n,e.next=e.prev=null,this._len--},t.prototype.len=function(){return this._len},t.prototype.clear=function(){this.head=this.tail=null,this._len=0},t}(),kB=function(){function t(e){this._list=new RB,this._maxSize=10,this._map={},this._maxSize=e}return t.prototype.put=function(e,n){var r=this._list,i=this._map,a=null;if(i[e]==null){var o=r.len(),s=this._lastRemovedEntry;if(o>=this._maxSize&&o>0){var u=r.head;r.remove(u),delete i[u.key],a=u.value,this._lastRemovedEntry=u}s?s.value=n:s=new $L(n),s.key=e,r.insertEntry(s),i[e]=s}return a},t.prototype.get=function(e){var n=this._map[e],r=this._list;if(n!=null)return n!==r.tail&&(r.remove(n),r.insertEntry(n)),n.value},t.prototype.clear=function(){this._list.clear(),this._map={}},t.prototype.len=function(){return this._list.len()},t}();const $l=kB;var eb={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function fi(t){return t=Math.round(t),t<0?0:t>255?255:t}function $0(t){return t<0?0:t>1?1:t}function hv(t){var e=t;return e.length&&e.charAt(e.length-1)==="%"?fi(parseFloat(e)/100*255):fi(parseInt(e,10))}function Du(t){var e=t;return e.length&&e.charAt(e.length-1)==="%"?$0(parseFloat(e)/100):$0(parseFloat(e))}function dv(t,e,n){return n<0?n+=1:n>1&&(n-=1),n*6<1?t+(e-t)*n*6:n*2<1?e:n*3<2?t+(e-t)*(2/3-n)*6:t}function _f(t,e,n){return t+(e-t)*n}function _n(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}function G0(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}var GL=new $l(20),xf=null;function ja(t,e){xf&&G0(xf,e),xf=GL.put(t,xf||e.slice())}function Dr(t,e){if(t){e=e||[];var n=GL.get(t);if(n)return G0(e,n);t=t+"";var r=t.replace(/ /g,"").toLowerCase();if(r in eb)return G0(e,eb[r]),ja(t,e),e;var i=r.length;if(r.charAt(0)==="#"){if(i===4||i===5){var a=parseInt(r.slice(1,4),16);if(!(a>=0&&a<=4095)){_n(e,0,0,0,1);return}return _n(e,(a&3840)>>4|(a&3840)>>8,a&240|(a&240)>>4,a&15|(a&15)<<4,i===5?parseInt(r.slice(4),16)/15:1),ja(t,e),e}else if(i===7||i===9){var a=parseInt(r.slice(1,7),16);if(!(a>=0&&a<=16777215)){_n(e,0,0,0,1);return}return _n(e,(a&16711680)>>16,(a&65280)>>8,a&255,i===9?parseInt(r.slice(7),16)/255:1),ja(t,e),e}return}var o=r.indexOf("("),s=r.indexOf(")");if(o!==-1&&s+1===i){var u=r.substr(0,o),f=r.substr(o+1,s-(o+1)).split(","),c=1;switch(u){case"rgba":if(f.length!==4)return f.length===3?_n(e,+f[0],+f[1],+f[2],1):_n(e,0,0,0,1);c=Du(f.pop());case"rgb":if(f.length>=3)return _n(e,hv(f[0]),hv(f[1]),hv(f[2]),f.length===3?c:Du(f[3])),ja(t,e),e;_n(e,0,0,0,1);return;case"hsla":if(f.length!==4){_n(e,0,0,0,1);return}return f[3]=Du(f[3]),nb(f,e),ja(t,e),e;case"hsl":if(f.length!==3){_n(e,0,0,0,1);return}return nb(f,e),ja(t,e),e;default:return}}_n(e,0,0,0,1)}}function nb(t,e){var n=(parseFloat(t[0])%360+360)%360/360,r=Du(t[1]),i=Du(t[2]),a=i<=.5?i*(r+1):i+r-i*r,o=i*2-a;return e=e||[],_n(e,fi(dv(o,a,n+1/3)*255),fi(dv(o,a,n)*255),fi(dv(o,a,n-1/3)*255),1),t.length===4&&(e[3]=t[3]),e}function rb(t,e){var n=Dr(t);if(n){for(var r=0;r<3;r++)e<0?n[r]=n[r]*(1-e)|0:n[r]=(255-n[r])*e+n[r]|0,n[r]>255?n[r]=255:n[r]<0&&(n[r]=0);return Ed(n,n.length===4?"rgba":"rgb")}}function OB(t,e,n){if(!(!(e&&e.length)||!(t>=0&&t<=1))){var r=t*(e.length-1),i=Math.floor(r),a=Math.ceil(r),o=Dr(e[i]),s=Dr(e[a]),u=r-i,f=Ed([fi(_f(o[0],s[0],u)),fi(_f(o[1],s[1],u)),fi(_f(o[2],s[2],u)),$0(_f(o[3],s[3],u))],"rgba");return n?{color:f,leftIndex:i,rightIndex:a,value:r}:f}}function Ed(t,e){if(!(!t||!t.length)){var n=t[0]+","+t[1]+","+t[2];return(e==="rgba"||e==="hsva"||e==="hsla")&&(n+=","+t[3]),e+"("+n+")"}}function Mh(t,e){var n=Dr(t);return n?(.299*n[0]+.587*n[1]+.114*n[2])*n[3]/255+(1-n[3])*e:0}function NB(t){return t.type==="linear"}function $B(t){return t.type==="radial"}(function(){return Ct.hasGlobalWindow&&mt(window.btoa)?function(t){return window.btoa(unescape(encodeURIComponent(t)))}:typeof Buffer<"u"?function(t){return Buffer.from(t).toString("base64")}:function(t){return null}})();var V0=Array.prototype.slice;function Tr(t,e,n){return(e-t)*n+t}function pv(t,e,n,r){for(var i=e.length,a=0;a<i;a++)t[a]=Tr(e[a],n[a],r);return t}function GB(t,e,n,r){for(var i=e.length,a=i&&e[0].length,o=0;o<i;o++){t[o]||(t[o]=[]);for(var s=0;s<a;s++)t[o][s]=Tr(e[o][s],n[o][s],r)}return t}function wf(t,e,n,r){for(var i=e.length,a=0;a<i;a++)t[a]=e[a]+n[a]*r;return t}function ib(t,e,n,r){for(var i=e.length,a=i&&e[0].length,o=0;o<i;o++){t[o]||(t[o]=[]);for(var s=0;s<a;s++)t[o][s]=e[o][s]+n[o][s]*r}return t}function VB(t,e){for(var n=t.length,r=e.length,i=n>r?e:t,a=Math.min(n,r),o=i[a-1]||{color:[0,0,0,0],offset:0},s=a;s<Math.max(n,r);s++)i.push({offset:o.offset,color:o.color.slice()})}function FB(t,e,n){var r=t,i=e;if(!(!r.push||!i.push)){var a=r.length,o=i.length;if(a!==o){var s=a>o;if(s)r.length=o;else for(var u=a;u<o;u++)r.push(n===1?i[u]:V0.call(i[u]))}for(var f=r[0]&&r[0].length,u=0;u<r.length;u++)if(n===1)isNaN(r[u])&&(r[u]=i[u]);else for(var c=0;c<f;c++)isNaN(r[u][c])&&(r[u][c]=i[u][c])}}function vc(t){if(en(t)){var e=t.length;if(en(t[0])){for(var n=[],r=0;r<e;r++)n.push(V0.call(t[r]));return n}return V0.call(t)}return t}function gc(t){return t[0]=Math.floor(t[0])||0,t[1]=Math.floor(t[1])||0,t[2]=Math.floor(t[2])||0,t[3]=t[3]==null?1:t[3],"rgba("+t.join(",")+")"}function BB(t){return en(t&&t[0])?2:1}var bf=0,yc=1,VL=2,gu=3,F0=4,B0=5,ab=6;function ob(t){return t===F0||t===B0}function Sf(t){return t===yc||t===VL}var Ns=[0,0,0,0],zB=function(){function t(e){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=e}return t.prototype.isFinished=function(){return this._finished},t.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},t.prototype.needsAnimate=function(){return this.keyframes.length>=1},t.prototype.getAdditiveTrack=function(){return this._additiveTrack},t.prototype.addKeyframe=function(e,n,r){this._needsSort=!0;var i=this.keyframes,a=i.length,o=!1,s=ab,u=n;if(en(n)){var f=BB(n);s=f,(f===1&&!Qt(n[0])||f===2&&!Qt(n[0][0]))&&(o=!0)}else if(Qt(n)&&!Sh(n))s=bf;else if(ut(n))if(!isNaN(+n))s=bf;else{var c=Dr(n);c&&(u=c,s=gu)}else if(Ld(n)){var d=et({},u);d.colorStops=at(n.colorStops,function(v){return{offset:v.offset,color:Dr(v.color)}}),NB(n)?s=F0:$B(n)&&(s=B0),u=d}a===0?this.valType=s:(s!==this.valType||s===ab)&&(o=!0),this.discrete=this.discrete||o;var p={time:e,value:u,rawValue:n,percent:0};return r&&(p.easing=r,p.easingFunc=mt(r)?r:EL[r]||NL(r)),i.push(p),p},t.prototype.prepare=function(e,n){var r=this.keyframes;this._needsSort&&r.sort(function(x,_){return x.time-_.time});for(var i=this.valType,a=r.length,o=r[a-1],s=this.discrete,u=Sf(i),f=ob(i),c=0;c<a;c++){var d=r[c],p=d.value,v=o.value;d.percent=d.time/e,s||(u&&c!==a-1?FB(p,v,i):f&&VB(p.colorStops,v.colorStops))}if(!s&&i!==B0&&n&&this.needsAnimate()&&n.needsAnimate()&&i===n.valType&&!n._finished){this._additiveTrack=n;for(var y=r[0].value,c=0;c<a;c++)i===bf?r[c].additiveValue=r[c].value-y:i===gu?r[c].additiveValue=wf([],r[c].value,y,-1):Sf(i)&&(r[c].additiveValue=i===yc?wf([],r[c].value,y,-1):ib([],r[c].value,y,-1))}},t.prototype.step=function(e,n){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var r=this._additiveTrack!=null,i=r?"additiveValue":"value",a=this.valType,o=this.keyframes,s=o.length,u=this.propName,f=a===gu,c,d=this._lastFr,p=Math.min,v,y;if(s===1)v=y=o[0];else{if(n<0)c=0;else if(n<this._lastFrP){var x=p(d+1,s-1);for(c=x;c>=0&&!(o[c].percent<=n);c--);c=p(c,s-2)}else{for(c=d;c<s&&!(o[c].percent>n);c++);c=p(c-1,s-2)}y=o[c+1],v=o[c]}if(v&&y){this._lastFr=c,this._lastFrP=n;var _=y.percent-v.percent,w=_===0?1:p((n-v.percent)/_,1);y.easingFunc&&(w=y.easingFunc(w));var b=r?this._additiveValue:f?Ns:e[u];if((Sf(a)||f)&&!b&&(b=this._additiveValue=[]),this.discrete)e[u]=w<1?v.rawValue:y.rawValue;else if(Sf(a))a===yc?pv(b,v[i],y[i],w):GB(b,v[i],y[i],w);else if(ob(a)){var S=v[i],A=y[i],L=a===F0;e[u]={type:L?"linear":"radial",x:Tr(S.x,A.x,w),y:Tr(S.y,A.y,w),colorStops:at(S.colorStops,function(E,O){var R=A.colorStops[O];return{offset:Tr(E.offset,R.offset,w),color:gc(pv([],E.color,R.color,w))}}),global:A.global},L?(e[u].x2=Tr(S.x2,A.x2,w),e[u].y2=Tr(S.y2,A.y2,w)):e[u].r=Tr(S.r,A.r,w)}else if(f)pv(b,v[i],y[i],w),r||(e[u]=gc(b));else{var P=Tr(v[i],y[i],w);r?this._additiveValue=P:e[u]=P}r&&this._addToTarget(e)}}},t.prototype._addToTarget=function(e){var n=this.valType,r=this.propName,i=this._additiveValue;n===bf?e[r]=e[r]+i:n===gu?(Dr(e[r],Ns),wf(Ns,Ns,i,1),e[r]=gc(Ns)):n===yc?wf(e[r],e[r],i,1):n===VL&&ib(e[r],e[r],i,1)},t}(),HB=function(){function t(e,n,r,i){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=e,this._loop=n,n&&i){l_("Can' use additive animation on looped animation.");return}this._additiveAnimators=i,this._allowDiscrete=r}return t.prototype.getMaxTime=function(){return this._maxTime},t.prototype.getDelay=function(){return this._delay},t.prototype.getLoop=function(){return this._loop},t.prototype.getTarget=function(){return this._target},t.prototype.changeTarget=function(e){this._target=e},t.prototype.when=function(e,n,r){return this.whenWithKeys(e,n,jt(n),r)},t.prototype.whenWithKeys=function(e,n,r,i){for(var a=this._tracks,o=0;o<r.length;o++){var s=r[o],u=a[s];if(!u){u=a[s]=new zB(s);var f=void 0,c=this._getAdditiveTrack(s);if(c){var d=c.keyframes,p=d[d.length-1];f=p&&p.value,c.valType===gu&&f&&(f=gc(f))}else f=this._target[s];if(f==null)continue;e>0&&u.addKeyframe(0,vc(f),i),this._trackKeys.push(s)}u.addKeyframe(e,vc(n[s]),i)}return this._maxTime=Math.max(this._maxTime,e),this},t.prototype.pause=function(){this._clip.pause(),this._paused=!0},t.prototype.resume=function(){this._clip.resume(),this._paused=!1},t.prototype.isPaused=function(){return!!this._paused},t.prototype.duration=function(e){return this._maxTime=e,this._force=!0,this},t.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var e=this._doneCbs;if(e)for(var n=e.length,r=0;r<n;r++)e[r].call(this)},t.prototype._abortedCallback=function(){this._setTracksFinished();var e=this.animation,n=this._abortedCbs;if(e&&e.removeClip(this._clip),this._clip=null,n)for(var r=0;r<n.length;r++)n[r].call(this)},t.prototype._setTracksFinished=function(){for(var e=this._tracks,n=this._trackKeys,r=0;r<n.length;r++)e[n[r]].setFinished()},t.prototype._getAdditiveTrack=function(e){var n,r=this._additiveAnimators;if(r)for(var i=0;i<r.length;i++){var a=r[i].getTrack(e);a&&(n=a)}return n},t.prototype.start=function(e){if(!(this._started>0)){this._started=1;for(var n=this,r=[],i=this._maxTime||0,a=0;a<this._trackKeys.length;a++){var o=this._trackKeys[a],s=this._tracks[o],u=this._getAdditiveTrack(o),f=s.keyframes,c=f.length;if(s.prepare(i,u),s.needsAnimate())if(!this._allowDiscrete&&s.discrete){var d=f[c-1];d&&(n._target[s.propName]=d.rawValue),s.setFinished()}else r.push(s)}if(r.length||this._force){var p=new IB({life:i,loop:this._loop,delay:this._delay||0,onframe:function(v){n._started=2;var y=n._additiveAnimators;if(y){for(var x=!1,_=0;_<y.length;_++)if(y[_]._clip){x=!0;break}x||(n._additiveAnimators=null)}for(var _=0;_<r.length;_++)r[_].step(n._target,v);var w=n._onframeCbs;if(w)for(var _=0;_<w.length;_++)w[_](n._target,v)},ondestroy:function(){n._doneCallback()}});this._clip=p,this.animation&&this.animation.addClip(p),e&&p.setEasing(e)}else this._doneCallback();return this}},t.prototype.stop=function(e){if(this._clip){var n=this._clip;e&&n.onframe(1),this._abortedCallback()}},t.prototype.delay=function(e){return this._delay=e,this},t.prototype.during=function(e){return e&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(e)),this},t.prototype.done=function(e){return e&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(e)),this},t.prototype.aborted=function(e){return e&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(e)),this},t.prototype.getClip=function(){return this._clip},t.prototype.getTrack=function(e){return this._tracks[e]},t.prototype.getTracks=function(){var e=this;return at(this._trackKeys,function(n){return e._tracks[n]})},t.prototype.stopTracks=function(e,n){if(!e.length||!this._clip)return!0;for(var r=this._tracks,i=this._trackKeys,a=0;a<e.length;a++){var o=r[e[a]];o&&!o.isFinished()&&(n?o.step(this._target,1):this._started===1&&o.step(this._target,0),o.setFinished())}for(var s=!0,a=0;a<i.length;a++)if(!r[i[a]].isFinished()){s=!1;break}return s&&this._abortedCallback(),s},t.prototype.saveTo=function(e,n,r){if(e){n=n||this._trackKeys;for(var i=0;i<n.length;i++){var a=n[i],o=this._tracks[a];if(!(!o||o.isFinished())){var s=o.keyframes,u=s[r?0:s.length-1];u&&(e[a]=vc(u.rawValue))}}}},t.prototype.__changeFinalValue=function(e,n){n=n||jt(e);for(var r=0;r<n.length;r++){var i=n[r],a=this._tracks[i];if(a){var o=a.keyframes;if(o.length>1){var s=o.pop();a.addKeyframe(s.time,e[i]),a.prepare(this._maxTime,a.getAdditiveTrack())}}}},t}();const v_=HB;function To(){return new Date().getTime()}var YB=function(t){Yt(e,t);function e(n){var r=t.call(this)||this;return r._running=!1,r._time=0,r._pausedTime=0,r._pauseStart=0,r._paused=!1,n=n||{},r.stage=n.stage||{},r}return e.prototype.addClip=function(n){n.animation&&this.removeClip(n),this._head?(this._tail.next=n,n.prev=this._tail,n.next=null,this._tail=n):this._head=this._tail=n,n.animation=this},e.prototype.addAnimator=function(n){n.animation=this;var r=n.getClip();r&&this.addClip(r)},e.prototype.removeClip=function(n){if(n.animation){var r=n.prev,i=n.next;r?r.next=i:this._head=i,i?i.prev=r:this._tail=r,n.next=n.prev=n.animation=null}},e.prototype.removeAnimator=function(n){var r=n.getClip();r&&this.removeClip(r),n.animation=null},e.prototype.update=function(n){for(var r=To()-this._pausedTime,i=r-this._time,a=this._head;a;){var o=a.next,s=a.step(r,i);s&&(a.ondestroy(),this.removeClip(a)),a=o}this._time=r,n||(this.trigger("frame",i),this.stage.update&&this.stage.update())},e.prototype._startLoop=function(){var n=this;this._running=!0;function r(){n._running&&(N0(r),!n._paused&&n.update())}N0(r)},e.prototype.start=function(){this._running||(this._time=To(),this._pausedTime=0,this._startLoop())},e.prototype.stop=function(){this._running=!1},e.prototype.pause=function(){this._paused||(this._pauseStart=To(),this._paused=!0)},e.prototype.resume=function(){this._paused&&(this._pausedTime+=To()-this._pauseStart,this._paused=!1)},e.prototype.clear=function(){for(var n=this._head;n;){var r=n.next;n.prev=n.next=n.animation=null,n=r}this._head=this._tail=null},e.prototype.isFinished=function(){return this._head==null},e.prototype.animate=function(n,r){r=r||{},this.start();var i=new v_(n,r.loop);return this.addAnimator(i),i},e}(Yn);const XB=YB;var UB=300,vv=Ct.domSupported,gv=function(){var t=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],e=["touchstart","touchend","touchmove"],n={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},r=at(t,function(i){var a=i.replace("mouse","pointer");return n.hasOwnProperty(a)?a:i});return{mouse:t,touch:e,pointer:r}}(),sb={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},ub=!1;function z0(t){var e=t.pointerType;return e==="pen"||e==="touch"}function WB(t){t.touching=!0,t.touchTimer!=null&&(clearTimeout(t.touchTimer),t.touchTimer=null),t.touchTimer=setTimeout(function(){t.touching=!1,t.touchTimer=null},700)}function yv(t){t&&(t.zrByTouch=!0)}function qB(t,e){return xn(t.dom,new ZB(t,e),!0)}function FL(t,e){for(var n=e,r=!1;n&&n.nodeType!==9&&!(r=n.domBelongToZr||n!==e&&n===t.painterRoot);)n=n.parentNode;return r}var ZB=function(){function t(e,n){this.stopPropagation=$e,this.stopImmediatePropagation=$e,this.preventDefault=$e,this.type=n.type,this.target=this.currentTarget=e.dom,this.pointerType=n.pointerType,this.clientX=n.clientX,this.clientY=n.clientY}return t}(),kn={mousedown:function(t){t=xn(this.dom,t),this.__mayPointerCapture=[t.zrX,t.zrY],this.trigger("mousedown",t)},mousemove:function(t){t=xn(this.dom,t);var e=this.__mayPointerCapture;e&&(t.zrX!==e[0]||t.zrY!==e[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",t)},mouseup:function(t){t=xn(this.dom,t),this.__togglePointerCapture(!1),this.trigger("mouseup",t)},mouseout:function(t){t=xn(this.dom,t);var e=t.toElement||t.relatedTarget;FL(this,e)||(this.__pointerCapturing&&(t.zrEventControl="no_globalout"),this.trigger("mouseout",t))},wheel:function(t){ub=!0,t=xn(this.dom,t),this.trigger("mousewheel",t)},mousewheel:function(t){ub||(t=xn(this.dom,t),this.trigger("mousewheel",t))},touchstart:function(t){t=xn(this.dom,t),yv(t),this.__lastTouchMoment=new Date,this.handler.processGesture(t,"start"),kn.mousemove.call(this,t),kn.mousedown.call(this,t)},touchmove:function(t){t=xn(this.dom,t),yv(t),this.handler.processGesture(t,"change"),kn.mousemove.call(this,t)},touchend:function(t){t=xn(this.dom,t),yv(t),this.handler.processGesture(t,"end"),kn.mouseup.call(this,t),+new Date-+this.__lastTouchMoment<UB&&kn.click.call(this,t)},pointerdown:function(t){kn.mousedown.call(this,t)},pointermove:function(t){z0(t)||kn.mousemove.call(this,t)},pointerup:function(t){kn.mouseup.call(this,t)},pointerout:function(t){z0(t)||kn.mouseout.call(this,t)}};Y(["click","dblclick","contextmenu"],function(t){kn[t]=function(e){e=xn(this.dom,e),this.trigger(t,e)}});var H0={pointermove:function(t){z0(t)||H0.mousemove.call(this,t)},pointerup:function(t){H0.mouseup.call(this,t)},mousemove:function(t){this.trigger("mousemove",t)},mouseup:function(t){var e=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",t),e&&(t.zrEventControl="only_globalout",this.trigger("mouseout",t))}};function QB(t,e){var n=e.domHandlers;Ct.pointerEventsSupported?Y(gv.pointer,function(r){mc(e,r,function(i){n[r].call(t,i)})}):(Ct.touchEventsSupported&&Y(gv.touch,function(r){mc(e,r,function(i){n[r].call(t,i),WB(e)})}),Y(gv.mouse,function(r){mc(e,r,function(i){i=c_(i),e.touching||n[r].call(t,i)})}))}function KB(t,e){Ct.pointerEventsSupported?Y(sb.pointer,n):Ct.touchEventsSupported||Y(sb.mouse,n);function n(r){function i(a){a=c_(a),FL(t,a.target)||(a=qB(t,a),e.domHandlers[r].call(t,a))}mc(e,r,i,{capture:!0})}}function mc(t,e,n,r){t.mounted[e]=n,t.listenerOpts[e]=r,k0(t.domTarget,e,n,r)}function mv(t){var e=t.mounted;for(var n in e)e.hasOwnProperty(n)&&sB(t.domTarget,n,e[n],t.listenerOpts[n]);t.mounted={}}var lb=function(){function t(e,n){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=e,this.domHandlers=n}return t}(),jB=function(t){Yt(e,t);function e(n,r){var i=t.call(this)||this;return i.__pointerCapturing=!1,i.dom=n,i.painterRoot=r,i._localHandlerScope=new lb(n,kn),vv&&(i._globalHandlerScope=new lb(document,H0)),QB(i,i._localHandlerScope),i}return e.prototype.dispose=function(){mv(this._localHandlerScope),vv&&mv(this._globalHandlerScope)},e.prototype.setCursor=function(n){this.dom.style&&(this.dom.style.cursor=n||"default")},e.prototype.__togglePointerCapture=function(n){if(this.__mayPointerCapture=null,vv&&+this.__pointerCapturing^+n){this.__pointerCapturing=n;var r=this._globalHandlerScope;n?KB(this,r):mv(r)}},e}(Yn);const JB=jB;var BL=1;Ct.hasGlobalWindow&&(BL=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var Ph=BL,Y0=.4,X0="#333",U0="#ccc",tz="#eee",fb=h_,cb=5e-5;function Ii(t){return t>cb||t<-cb}var Ri=[],Ja=[],_v=cl(),xv=Math.abs,Id=function(){function t(){}return t.prototype.getLocalTransform=function(e){return t.getLocalTransform(this,e)},t.prototype.setPosition=function(e){this.x=e[0],this.y=e[1]},t.prototype.setScale=function(e){this.scaleX=e[0],this.scaleY=e[1]},t.prototype.setSkew=function(e){this.skewX=e[0],this.skewY=e[1]},t.prototype.setOrigin=function(e){this.originX=e[0],this.originY=e[1]},t.prototype.needLocalTransform=function(){return Ii(this.rotation)||Ii(this.x)||Ii(this.y)||Ii(this.scaleX-1)||Ii(this.scaleY-1)||Ii(this.skewX)||Ii(this.skewY)},t.prototype.updateTransform=function(){var e=this.parent&&this.parent.transform,n=this.needLocalTransform(),r=this.transform;if(!(n||e)){r&&fb(r);return}r=r||cl(),n?this.getLocalTransform(r):fb(r),e&&(n?Oo(r,e,r):fB(r,e)),this.transform=r,this._resolveGlobalScaleRatio(r)},t.prototype._resolveGlobalScaleRatio=function(e){var n=this.globalScaleRatio;if(n!=null&&n!==1){this.getGlobalScale(Ri);var r=Ri[0]<0?-1:1,i=Ri[1]<0?-1:1,a=((Ri[0]-r)*n+r)/Ri[0]||0,o=((Ri[1]-i)*n+i)/Ri[1]||0;e[0]*=a,e[1]*=a,e[2]*=o,e[3]*=o}this.invTransform=this.invTransform||cl(),p_(this.invTransform,e)},t.prototype.getComputedTransform=function(){for(var e=this,n=[];e;)n.push(e),e=e.parent;for(;e=n.pop();)e.updateTransform();return this.transform},t.prototype.setLocalTransform=function(e){if(e){var n=e[0]*e[0]+e[1]*e[1],r=e[2]*e[2]+e[3]*e[3],i=Math.atan2(e[1],e[0]),a=Math.PI/2+i-Math.atan2(e[3],e[2]);r=Math.sqrt(r)*Math.cos(a),n=Math.sqrt(n),this.skewX=a,this.skewY=0,this.rotation=-i,this.x=+e[4],this.y=+e[5],this.scaleX=n,this.scaleY=r,this.originX=0,this.originY=0}},t.prototype.decomposeTransform=function(){if(this.transform){var e=this.parent,n=this.transform;e&&e.transform&&(Oo(Ja,e.invTransform,n),n=Ja);var r=this.originX,i=this.originY;(r||i)&&(_v[4]=r,_v[5]=i,Oo(Ja,n,_v),Ja[4]-=r,Ja[5]-=i,n=Ja),this.setLocalTransform(n)}},t.prototype.getGlobalScale=function(e){var n=this.transform;return e=e||[],n?(e[0]=Math.sqrt(n[0]*n[0]+n[1]*n[1]),e[1]=Math.sqrt(n[2]*n[2]+n[3]*n[3]),n[0]<0&&(e[0]=-e[0]),n[3]<0&&(e[1]=-e[1]),e):(e[0]=1,e[1]=1,e)},t.prototype.transformCoordToLocal=function(e,n){var r=[e,n],i=this.invTransform;return i&&Pn(r,r,i),r},t.prototype.transformCoordToGlobal=function(e,n){var r=[e,n],i=this.transform;return i&&Pn(r,r,i),r},t.prototype.getLineScale=function(){var e=this.transform;return e&&xv(e[0]-1)>1e-10&&xv(e[3]-1)>1e-10?Math.sqrt(xv(e[0]*e[3]-e[2]*e[1])):1},t.prototype.copyTransform=function(e){ez(this,e)},t.getLocalTransform=function(e,n){n=n||[];var r=e.originX||0,i=e.originY||0,a=e.scaleX,o=e.scaleY,s=e.anchorX,u=e.anchorY,f=e.rotation||0,c=e.x,d=e.y,p=e.skewX?Math.tan(e.skewX):0,v=e.skewY?Math.tan(-e.skewY):0;if(r||i||s||u){var y=r+s,x=i+u;n[4]=-y*a-p*x*o,n[5]=-x*o-v*y*a}else n[4]=n[5]=0;return n[0]=a,n[3]=o,n[1]=v*a,n[2]=p*o,f&&d_(n,n,f),n[4]+=r+c,n[5]+=i+d,n},t.initDefaultProps=function(){var e=t.prototype;e.scaleX=e.scaleY=e.globalScaleRatio=1,e.x=e.y=e.originX=e.originY=e.skewX=e.skewY=e.rotation=e.anchorX=e.anchorY=0}(),t}(),hl=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function ez(t,e){for(var n=0;n<hl.length;n++){var r=hl[n];t[r]=e[r]}}var hb={};function fn(t,e){e=e||Ma;var n=hb[e];n||(n=hb[e]=new $l(500));var r=n.get(t);return r==null&&(r=ds.measureText(t,e).width,n.put(t,r)),r}function db(t,e,n,r){var i=fn(t,e),a=g_(e),o=yu(0,i,n),s=yo(0,a,r),u=new Nt(o,s,i,a);return u}function Rd(t,e,n,r){var i=((t||"")+"").split(`
`),a=i.length;if(a===1)return db(i[0],e,n,r);for(var o=new Nt(0,0,0,0),s=0;s<i.length;s++){var u=db(i[s],e,n,r);s===0?o.copy(u):o.union(u)}return o}function yu(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function yo(t,e,n){return n==="middle"?t-=e/2:n==="bottom"&&(t-=e),t}function g_(t){return fn("",t)}function _i(t,e){return typeof t=="string"?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t}function Lh(t,e,n){var r=e.position||"inside",i=e.distance!=null?e.distance:5,a=n.height,o=n.width,s=a/2,u=n.x,f=n.y,c="left",d="top";if(r instanceof Array)u+=_i(r[0],n.width),f+=_i(r[1],n.height),c=null,d=null;else switch(r){case"left":u-=i,f+=s,c="right",d="middle";break;case"right":u+=i+o,f+=s,d="middle";break;case"top":u+=o/2,f-=i,c="center",d="bottom";break;case"bottom":u+=o/2,f+=a+i,c="center";break;case"inside":u+=o/2,f+=s,c="center",d="middle";break;case"insideLeft":u+=i,f+=s,d="middle";break;case"insideRight":u+=o-i,f+=s,c="right",d="middle";break;case"insideTop":u+=o/2,f+=i,c="center";break;case"insideBottom":u+=o/2,f+=a-i,c="center",d="bottom";break;case"insideTopLeft":u+=i,f+=i;break;case"insideTopRight":u+=o-i,f+=i,c="right";break;case"insideBottomLeft":u+=i,f+=a-i,d="bottom";break;case"insideBottomRight":u+=o-i,f+=a-i,c="right",d="bottom";break}return t=t||{},t.x=u,t.y=f,t.align=c,t.verticalAlign=d,t}var wv="__zr_normal__",bv=hl.concat(["ignore"]),nz=ps(hl,function(t,e){return t[e]=!0,t},{ignore:!1}),to={},rz=new Nt(0,0,0,0),y_=function(){function t(e){this.id=_L(),this.animators=[],this.currentStates=[],this.states={},this._init(e)}return t.prototype._init=function(e){this.attr(e)},t.prototype.drift=function(e,n,r){switch(this.draggable){case"horizontal":n=0;break;case"vertical":e=0;break}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]),i[4]+=e,i[5]+=n,this.decomposeTransform(),this.markRedraw()},t.prototype.beforeUpdate=function(){},t.prototype.afterUpdate=function(){},t.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},t.prototype.updateInnerText=function(e){var n=this._textContent;if(n&&(!n.ignore||e)){this.textConfig||(this.textConfig={});var r=this.textConfig,i=r.local,a=n.innerTransformable,o=void 0,s=void 0,u=!1;a.parent=i?this:null;var f=!1;if(a.copyTransform(n),r.position!=null){var c=rz;r.layoutRect?c.copy(r.layoutRect):c.copy(this.getBoundingRect()),i||c.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(to,r,c):Lh(to,r,c),a.x=to.x,a.y=to.y,o=to.align,s=to.verticalAlign;var d=r.origin;if(d&&r.rotation!=null){var p=void 0,v=void 0;d==="center"?(p=c.width*.5,v=c.height*.5):(p=_i(d[0],c.width),v=_i(d[1],c.height)),f=!0,a.originX=-a.x+p+(i?0:c.x),a.originY=-a.y+v+(i?0:c.y)}}r.rotation!=null&&(a.rotation=r.rotation);var y=r.offset;y&&(a.x+=y[0],a.y+=y[1],f||(a.originX=-y[0],a.originY=-y[1]));var x=r.inside==null?typeof r.position=="string"&&r.position.indexOf("inside")>=0:r.inside,_=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),w=void 0,b=void 0,S=void 0;x&&this.canBeInsideText()?(w=r.insideFill,b=r.insideStroke,(w==null||w==="auto")&&(w=this.getInsideTextFill()),(b==null||b==="auto")&&(b=this.getInsideTextStroke(w),S=!0)):(w=r.outsideFill,b=r.outsideStroke,(w==null||w==="auto")&&(w=this.getOutsideFill()),(b==null||b==="auto")&&(b=this.getOutsideStroke(w),S=!0)),w=w||"#000",(w!==_.fill||b!==_.stroke||S!==_.autoStroke||o!==_.align||s!==_.verticalAlign)&&(u=!0,_.fill=w,_.stroke=b,_.autoStroke=S,_.align=o,_.verticalAlign=s,n.setDefaultTextStyle(_)),n.__dirty|=un,u&&n.dirtyStyle(!0)}},t.prototype.canBeInsideText=function(){return!0},t.prototype.getInsideTextFill=function(){return"#fff"},t.prototype.getInsideTextStroke=function(e){return"#000"},t.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?U0:X0},t.prototype.getOutsideStroke=function(e){var n=this.__zr&&this.__zr.getBackgroundColor(),r=typeof n=="string"&&Dr(n);r||(r=[255,255,255,1]);for(var i=r[3],a=this.__zr.isDarkMode(),o=0;o<3;o++)r[o]=r[o]*i+(a?0:255)*(1-i);return r[3]=1,Ed(r,"rgba")},t.prototype.traverse=function(e,n){},t.prototype.attrKV=function(e,n){e==="textConfig"?this.setTextConfig(n):e==="textContent"?this.setTextContent(n):e==="clipPath"?this.setClipPath(n):e==="extra"?(this.extra=this.extra||{},et(this.extra,n)):this[e]=n},t.prototype.hide=function(){this.ignore=!0,this.markRedraw()},t.prototype.show=function(){this.ignore=!1,this.markRedraw()},t.prototype.attr=function(e,n){if(typeof e=="string")this.attrKV(e,n);else if(pt(e))for(var r=e,i=jt(r),a=0;a<i.length;a++){var o=i[a];this.attrKV(o,e[o])}return this.markRedraw(),this},t.prototype.saveCurrentToNormalState=function(e){this._innerSaveToNormal(e);for(var n=this._normalState,r=0;r<this.animators.length;r++){var i=this.animators[r],a=i.__fromStateTransition;if(!(i.getLoop()||a&&a!==wv)){var o=i.targetName,s=o?n[o]:n;i.saveTo(s)}}},t.prototype._innerSaveToNormal=function(e){var n=this._normalState;n||(n=this._normalState={}),e.textConfig&&!n.textConfig&&(n.textConfig=this.textConfig),this._savePrimaryToNormal(e,n,bv)},t.prototype._savePrimaryToNormal=function(e,n,r){for(var i=0;i<r.length;i++){var a=r[i];e[a]!=null&&!(a in n)&&(n[a]=this[a])}},t.prototype.hasState=function(){return this.currentStates.length>0},t.prototype.getState=function(e){return this.states[e]},t.prototype.ensureState=function(e){var n=this.states;return n[e]||(n[e]={}),n[e]},t.prototype.clearStates=function(e){this.useState(wv,!1,e)},t.prototype.useState=function(e,n,r,i){var a=e===wv,o=this.hasState();if(!(!o&&a)){var s=this.currentStates,u=this.stateTransition;if(!(Ot(s,e)>=0&&(n||s.length===1))){var f;if(this.stateProxy&&!a&&(f=this.stateProxy(e)),f||(f=this.states&&this.states[e]),!f&&!a){l_("State "+e+" not exists.");return}a||this.saveCurrentToNormalState(f);var c=!!(f&&f.hoverLayer||i);c&&this._toggleHoverLayerFlag(!0),this._applyStateObj(e,f,this._normalState,n,!r&&!this.__inHover&&u&&u.duration>0,u);var d=this._textContent,p=this._textGuide;return d&&d.useState(e,n,r,c),p&&p.useState(e,n,r,c),a?(this.currentStates=[],this._normalState={}):n?this.currentStates.push(e):this.currentStates=[e],this._updateAnimationTargets(),this.markRedraw(),!c&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~un),f}}},t.prototype.useStates=function(e,n,r){if(!e.length)this.clearStates();else{var i=[],a=this.currentStates,o=e.length,s=o===a.length;if(s){for(var u=0;u<o;u++)if(e[u]!==a[u]){s=!1;break}}if(s)return;for(var u=0;u<o;u++){var f=e[u],c=void 0;this.stateProxy&&(c=this.stateProxy(f,e)),c||(c=this.states[f]),c&&i.push(c)}var d=i[o-1],p=!!(d&&d.hoverLayer||r);p&&this._toggleHoverLayerFlag(!0);var v=this._mergeStates(i),y=this.stateTransition;this.saveCurrentToNormalState(v),this._applyStateObj(e.join(","),v,this._normalState,!1,!n&&!this.__inHover&&y&&y.duration>0,y);var x=this._textContent,_=this._textGuide;x&&x.useStates(e,n,p),_&&_.useStates(e,n,p),this._updateAnimationTargets(),this.currentStates=e.slice(),this.markRedraw(),!p&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~un)}},t.prototype._updateAnimationTargets=function(){for(var e=0;e<this.animators.length;e++){var n=this.animators[e];n.targetName&&n.changeTarget(this[n.targetName])}},t.prototype.removeState=function(e){var n=Ot(this.currentStates,e);if(n>=0){var r=this.currentStates.slice();r.splice(n,1),this.useStates(r)}},t.prototype.replaceState=function(e,n,r){var i=this.currentStates.slice(),a=Ot(i,e),o=Ot(i,n)>=0;a>=0?o?i.splice(a,1):i[a]=n:r&&!o&&i.push(n),this.useStates(i)},t.prototype.toggleState=function(e,n){n?this.useState(e,!0):this.removeState(e)},t.prototype._mergeStates=function(e){for(var n={},r,i=0;i<e.length;i++){var a=e[i];et(n,a),a.textConfig&&(r=r||{},et(r,a.textConfig))}return r&&(n.textConfig=r),n},t.prototype._applyStateObj=function(e,n,r,i,a,o){var s=!(n&&i);n&&n.textConfig?(this.textConfig=et({},i?this.textConfig:r.textConfig),et(this.textConfig,n.textConfig)):s&&r.textConfig&&(this.textConfig=r.textConfig);for(var u={},f=!1,c=0;c<bv.length;c++){var d=bv[c],p=a&&nz[d];n&&n[d]!=null?p?(f=!0,u[d]=n[d]):this[d]=n[d]:s&&r[d]!=null&&(p?(f=!0,u[d]=r[d]):this[d]=r[d])}if(!a)for(var c=0;c<this.animators.length;c++){var v=this.animators[c],y=v.targetName;v.getLoop()||v.__changeFinalValue(y?(n||r)[y]:n||r)}f&&this._transitionState(e,u,o)},t.prototype._attachComponent=function(e){if(!(e.__zr&&!e.__hostTarget)&&e!==this){var n=this.__zr;n&&e.addSelfToZr(n),e.__zr=n,e.__hostTarget=this}},t.prototype._detachComponent=function(e){e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__hostTarget=null},t.prototype.getClipPath=function(){return this._clipPath},t.prototype.setClipPath=function(e){this._clipPath&&this._clipPath!==e&&this.removeClipPath(),this._attachComponent(e),this._clipPath=e,this.markRedraw()},t.prototype.removeClipPath=function(){var e=this._clipPath;e&&(this._detachComponent(e),this._clipPath=null,this.markRedraw())},t.prototype.getTextContent=function(){return this._textContent},t.prototype.setTextContent=function(e){var n=this._textContent;n!==e&&(n&&n!==e&&this.removeTextContent(),e.innerTransformable=new Id,this._attachComponent(e),this._textContent=e,this.markRedraw())},t.prototype.setTextConfig=function(e){this.textConfig||(this.textConfig={}),et(this.textConfig,e),this.markRedraw()},t.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},t.prototype.removeTextContent=function(){var e=this._textContent;e&&(e.innerTransformable=null,this._detachComponent(e),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},t.prototype.getTextGuideLine=function(){return this._textGuide},t.prototype.setTextGuideLine=function(e){this._textGuide&&this._textGuide!==e&&this.removeTextGuideLine(),this._attachComponent(e),this._textGuide=e,this.markRedraw()},t.prototype.removeTextGuideLine=function(){var e=this._textGuide;e&&(this._detachComponent(e),this._textGuide=null,this.markRedraw())},t.prototype.markRedraw=function(){this.__dirty|=un;var e=this.__zr;e&&(this.__inHover?e.refreshHover():e.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},t.prototype.dirty=function(){this.markRedraw()},t.prototype._toggleHoverLayerFlag=function(e){this.__inHover=e;var n=this._textContent,r=this._textGuide;n&&(n.__inHover=e),r&&(r.__inHover=e)},t.prototype.addSelfToZr=function(e){if(this.__zr!==e){this.__zr=e;var n=this.animators;if(n)for(var r=0;r<n.length;r++)e.animation.addAnimator(n[r]);this._clipPath&&this._clipPath.addSelfToZr(e),this._textContent&&this._textContent.addSelfToZr(e),this._textGuide&&this._textGuide.addSelfToZr(e)}},t.prototype.removeSelfFromZr=function(e){if(this.__zr){this.__zr=null;var n=this.animators;if(n)for(var r=0;r<n.length;r++)e.animation.removeAnimator(n[r]);this._clipPath&&this._clipPath.removeSelfFromZr(e),this._textContent&&this._textContent.removeSelfFromZr(e),this._textGuide&&this._textGuide.removeSelfFromZr(e)}},t.prototype.animate=function(e,n,r){var i=e?this[e]:this,a=new v_(i,n,r);return e&&(a.targetName=e),this.addAnimator(a,e),a},t.prototype.addAnimator=function(e,n){var r=this.__zr,i=this;e.during(function(){i.updateDuringAnimation(n)}).done(function(){var a=i.animators,o=Ot(a,e);o>=0&&a.splice(o,1)}),this.animators.push(e),r&&r.animation.addAnimator(e),r&&r.wakeUp()},t.prototype.updateDuringAnimation=function(e){this.markRedraw()},t.prototype.stopAnimation=function(e,n){for(var r=this.animators,i=r.length,a=[],o=0;o<i;o++){var s=r[o];!e||e===s.scope?s.stop(n):a.push(s)}return this.animators=a,this},t.prototype.animateTo=function(e,n,r){Sv(this,e,n,r)},t.prototype.animateFrom=function(e,n,r){Sv(this,e,n,r,!0)},t.prototype._transitionState=function(e,n,r,i){for(var a=Sv(this,n,r,i),o=0;o<a.length;o++)a[o].__fromStateTransition=e},t.prototype.getBoundingRect=function(){return null},t.prototype.getPaintRect=function(){return null},t.initDefaultProps=function(){var e=t.prototype;e.type="element",e.name="",e.ignore=e.silent=e.isGroup=e.draggable=e.dragging=e.ignoreClip=e.__inHover=!1,e.__dirty=un;function n(r,i,a,o){Object.defineProperty(e,r,{get:function(){if(!this[i]){var u=this[i]=[];s(this,u)}return this[i]},set:function(u){this[a]=u[0],this[o]=u[1],this[i]=u,s(this,u)}});function s(u,f){Object.defineProperty(f,0,{get:function(){return u[a]},set:function(c){u[a]=c}}),Object.defineProperty(f,1,{get:function(){return u[o]},set:function(c){u[o]=c}})}}Object.defineProperty&&(n("position","_legacyPos","x","y"),n("scale","_legacyScale","scaleX","scaleY"),n("origin","_legacyOrigin","originX","originY"))}(),t}();gr(y_,Yn);gr(y_,Id);function Sv(t,e,n,r,i){n=n||{};var a=[];zL(t,"",t,e,n,r,a,i);var o=a.length,s=!1,u=n.done,f=n.aborted,c=function(){s=!0,o--,o<=0&&(s?u&&u():f&&f())},d=function(){o--,o<=0&&(s?u&&u():f&&f())};o||u&&u(),a.length>0&&n.during&&a[0].during(function(y,x){n.during(x)});for(var p=0;p<a.length;p++){var v=a[p];c&&v.done(c),d&&v.aborted(d),n.force&&v.duration(n.duration),v.start(n.easing)}return a}function Tv(t,e,n){for(var r=0;r<n;r++)t[r]=e[r]}function iz(t){return en(t[0])}function az(t,e,n){if(en(e[n]))if(en(t[n])||(t[n]=[]),cn(e[n])){var r=e[n].length;t[n].length!==r&&(t[n]=new e[n].constructor(r),Tv(t[n],e[n],r))}else{var i=e[n],a=t[n],o=i.length;if(iz(i))for(var s=i[0].length,u=0;u<o;u++)a[u]?Tv(a[u],i[u],s):a[u]=Array.prototype.slice.call(i[u]);else Tv(a,i,o);a.length=i.length}else t[n]=e[n]}function oz(t,e){return t===e||en(t)&&en(e)&&sz(t,e)}function sz(t,e){var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function zL(t,e,n,r,i,a,o,s){for(var u=jt(r),f=i.duration,c=i.delay,d=i.additive,p=i.setToFinal,v=!pt(a),y=t.animators,x=[],_=0;_<u.length;_++){var w=u[_],b=r[w];if(b!=null&&n[w]!=null&&(v||a[w]))if(pt(b)&&!en(b)&&!Ld(b)){if(e){s||(n[w]=b,t.updateDuringAnimation(e));continue}zL(t,w,n[w],b,i,a&&a[w],o,s)}else x.push(w);else s||(n[w]=b,t.updateDuringAnimation(e),x.push(w))}var S=x.length;if(!d&&S)for(var A=0;A<y.length;A++){var L=y[A];if(L.targetName===e){var P=L.stopTracks(x);if(P){var E=Ot(y,L);y.splice(E,1)}}}if(i.force||(x=pe(x,function(N){return!oz(r[N],n[N])}),S=x.length),S>0||i.force&&!o.length){var O=void 0,R=void 0,C=void 0;if(s){R={},p&&(O={});for(var A=0;A<S;A++){var w=x[A];R[w]=n[w],p?O[w]=r[w]:n[w]=r[w]}}else if(p){C={};for(var A=0;A<S;A++){var w=x[A];C[w]=vc(n[w]),az(n,r,w)}}var L=new v_(n,!1,!1,d?pe(y,function(D){return D.targetName===e}):null);L.targetName=e,i.scope&&(L.scope=i.scope),p&&O&&L.whenWithKeys(0,O,x),C&&L.whenWithKeys(0,C,x),L.whenWithKeys(f??500,s?R:r,x).delay(c||0),t.addAnimator(L,e),o.push(L)}}const HL=y_;var YL=function(t){Yt(e,t);function e(n){var r=t.call(this)||this;return r.isGroup=!0,r._children=[],r.attr(n),r}return e.prototype.childrenRef=function(){return this._children},e.prototype.children=function(){return this._children.slice()},e.prototype.childAt=function(n){return this._children[n]},e.prototype.childOfName=function(n){for(var r=this._children,i=0;i<r.length;i++)if(r[i].name===n)return r[i]},e.prototype.childCount=function(){return this._children.length},e.prototype.add=function(n){return n&&n!==this&&n.parent!==this&&(this._children.push(n),this._doAdd(n)),this},e.prototype.addBefore=function(n,r){if(n&&n!==this&&n.parent!==this&&r&&r.parent===this){var i=this._children,a=i.indexOf(r);a>=0&&(i.splice(a,0,n),this._doAdd(n))}return this},e.prototype.replace=function(n,r){var i=Ot(this._children,n);return i>=0&&this.replaceAt(r,i),this},e.prototype.replaceAt=function(n,r){var i=this._children,a=i[r];if(n&&n!==this&&n.parent!==this&&n!==a){i[r]=n,a.parent=null;var o=this.__zr;o&&a.removeSelfFromZr(o),this._doAdd(n)}return this},e.prototype._doAdd=function(n){n.parent&&n.parent.remove(n),n.parent=this;var r=this.__zr;r&&r!==n.__zr&&n.addSelfToZr(r),r&&r.refresh()},e.prototype.remove=function(n){var r=this.__zr,i=this._children,a=Ot(i,n);return a<0?this:(i.splice(a,1),n.parent=null,r&&n.removeSelfFromZr(r),r&&r.refresh(),this)},e.prototype.removeAll=function(){for(var n=this._children,r=this.__zr,i=0;i<n.length;i++){var a=n[i];r&&a.removeSelfFromZr(r),a.parent=null}return n.length=0,this},e.prototype.eachChild=function(n,r){for(var i=this._children,a=0;a<i.length;a++){var o=i[a];n.call(r,o,a)}return this},e.prototype.traverse=function(n,r){for(var i=0;i<this._children.length;i++){var a=this._children[i],o=n.call(r,a);a.isGroup&&!o&&a.traverse(n,r)}return this},e.prototype.addSelfToZr=function(n){t.prototype.addSelfToZr.call(this,n);for(var r=0;r<this._children.length;r++){var i=this._children[r];i.addSelfToZr(n)}},e.prototype.removeSelfFromZr=function(n){t.prototype.removeSelfFromZr.call(this,n);for(var r=0;r<this._children.length;r++){var i=this._children[r];i.removeSelfFromZr(n)}},e.prototype.getBoundingRect=function(n){for(var r=new Nt(0,0,0,0),i=n||this._children,a=[],o=null,s=0;s<i.length;s++){var u=i[s];if(!(u.ignore||u.invisible)){var f=u.getBoundingRect(),c=u.getLocalTransform(a);c?(Nt.applyTransform(r,f,c),o=o||r.clone(),o.union(r)):(o=o||f.clone(),o.union(f))}}return o||r},e}(HL);YL.prototype.type="group";const ce=YL;/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var _c={},XL={};function uz(t){delete XL[t]}function lz(t){if(!t)return!1;if(typeof t=="string")return Mh(t,1)<Y0;if(t.colorStops){for(var e=t.colorStops,n=0,r=e.length,i=0;i<r;i++)n+=Mh(e[i].color,1);return n/=r,n<Y0}return!1}var fz=function(){function t(e,n,r){var i=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,r=r||{},this.dom=n,this.id=e;var a=new TB,o=r.renderer||"canvas";_c[o]||(o=jt(_c)[0]),r.useDirtyRect=r.useDirtyRect==null?!1:r.useDirtyRect;var s=new _c[o](n,a,r,e),u=r.ssr||s.ssrOnly;this.storage=a,this.painter=s;var f=!Ct.node&&!Ct.worker&&!u?new JB(s.getViewportRoot(),s.root):null,c=r.useCoarsePointer,d=c==null||c==="auto"?Ct.touchEventsSupported:!!c,p=44,v;d&&(v=Vt(r.pointerSize,p)),this.handler=new _B(a,s,f,s.root,v),this.animation=new XB({stage:{update:u?null:function(){return i._flush(!0)}}}),u||this.animation.start()}return t.prototype.add=function(e){e&&(this.storage.addRoot(e),e.addSelfToZr(this),this.refresh())},t.prototype.remove=function(e){e&&(this.storage.delRoot(e),e.removeSelfFromZr(this),this.refresh())},t.prototype.configLayer=function(e,n){this.painter.configLayer&&this.painter.configLayer(e,n),this.refresh()},t.prototype.setBackgroundColor=function(e){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(e),this.refresh(),this._backgroundColor=e,this._darkMode=lz(e)},t.prototype.getBackgroundColor=function(){return this._backgroundColor},t.prototype.setDarkMode=function(e){this._darkMode=e},t.prototype.isDarkMode=function(){return this._darkMode},t.prototype.refreshImmediately=function(e){e||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},t.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},t.prototype.flush=function(){this._flush(!1)},t.prototype._flush=function(e){var n,r=To();this._needsRefresh&&(n=!0,this.refreshImmediately(e)),this._needsRefreshHover&&(n=!0,this.refreshHoverImmediately());var i=To();n?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:i-r})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},t.prototype.setSleepAfterStill=function(e){this._sleepAfterStill=e},t.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},t.prototype.refreshHover=function(){this._needsRefreshHover=!0},t.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover()},t.prototype.resize=function(e){e=e||{},this.painter.resize(e.width,e.height),this.handler.resize()},t.prototype.clearAnimation=function(){this.animation.clear()},t.prototype.getWidth=function(){return this.painter.getWidth()},t.prototype.getHeight=function(){return this.painter.getHeight()},t.prototype.setCursorStyle=function(e){this.handler.setCursorStyle(e)},t.prototype.findHover=function(e,n){return this.handler.findHover(e,n)},t.prototype.on=function(e,n,r){return this.handler.on(e,n,r),this},t.prototype.off=function(e,n){this.handler.off(e,n)},t.prototype.trigger=function(e,n){this.handler.trigger(e,n)},t.prototype.clear=function(){for(var e=this.storage.getRoots(),n=0;n<e.length;n++)e[n]instanceof ce&&e[n].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},t.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,uz(this.id)},t}();function pb(t,e){var n=new fz(_L(),t,e);return XL[n.id]=n,n}function cz(t,e){_c[t]=e}var vb=1e-4,UL=20;function hz(t){return t.replace(/^\s+|\s+$/g,"")}function ra(t,e,n,r){var i=e[0],a=e[1],o=n[0],s=n[1],u=a-i,f=s-o;if(u===0)return f===0?o:(o+s)/2;if(r)if(u>0){if(t<=i)return o;if(t>=a)return s}else{if(t>=i)return o;if(t<=a)return s}else{if(t===i)return o;if(t===a)return s}return(t-i)/u*f+o}function ke(t,e){switch(t){case"center":case"middle":t="50%";break;case"left":case"top":t="0%";break;case"right":case"bottom":t="100%";break}return ut(t)?hz(t).match(/%$/)?parseFloat(t)/100*e:parseFloat(t):t==null?NaN:+t}function oe(t,e,n){return e==null&&(e=10),e=Math.min(Math.max(0,e),UL),t=(+t).toFixed(e),n?t:+t}function dz(t){return t.sort(function(e,n){return e-n}),t}function Mr(t){if(t=+t,isNaN(t))return 0;if(t>1e-14){for(var e=1,n=0;n<15;n++,e*=10)if(Math.round(t*e)/e===t)return n}return pz(t)}function pz(t){var e=t.toString().toLowerCase(),n=e.indexOf("e"),r=n>0?+e.slice(n+1):0,i=n>0?n:e.length,a=e.indexOf("."),o=a<0?0:i-1-a;return Math.max(0,o-r)}function WL(t,e){var n=Math.log,r=Math.LN10,i=Math.floor(n(t[1]-t[0])/r),a=Math.round(n(Math.abs(e[1]-e[0]))/r),o=Math.min(Math.max(-i+a,0),20);return isFinite(o)?o:20}function vz(t,e){var n=Math.max(Mr(t),Mr(e)),r=t+e;return n>UL?r:oe(r,n)}function qL(t){var e=Math.PI*2;return(t%e+e)%e}function Dh(t){return t>-vb&&t<vb}var gz=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function Or(t){if(t instanceof Date)return t;if(ut(t)){var e=gz.exec(t);if(!e)return new Date(NaN);if(e[8]){var n=+e[4]||0;return e[8].toUpperCase()!=="Z"&&(n-=+e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,n,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0))}else return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0)}else if(t==null)return new Date(NaN);return new Date(Math.round(t))}function yz(t){return Math.pow(10,m_(t))}function m_(t){if(t===0)return 0;var e=Math.floor(Math.log(t)/Math.LN10);return t/Math.pow(10,e)>=10&&e++,e}function ZL(t,e){var n=m_(t),r=Math.pow(10,n),i=t/r,a;return e?i<1.5?a=1:i<2.5?a=2:i<4?a=3:i<7?a=5:a=10:i<1?a=1:i<2?a=2:i<3?a=3:i<5?a=5:a=10,t=a*r,n>=-20?+t.toFixed(n<0?-n:0):t}function Eh(t){var e=parseFloat(t);return e==t&&(e!==0||!ut(t)||t.indexOf("x")<=0)?e:NaN}function mz(t){return!isNaN(Eh(t))}function QL(){return Math.round(Math.random()*9)}function KL(t,e){return e===0?t:KL(e,t%e)}function gb(t,e){return t==null?e:e==null?t:t*e/KL(t,e)}function Qe(t){throw new Error(t)}function yb(t,e,n){return(e-t)*n+t}var jL="series\0",JL="\0_ec_\0";function se(t){return t instanceof Array?t:t==null?[]:[t]}function mb(t,e,n){if(t){t[e]=t[e]||{},t.emphasis=t.emphasis||{},t.emphasis[e]=t.emphasis[e]||{};for(var r=0,i=n.length;r<i;r++){var a=n[r];!t.emphasis[e].hasOwnProperty(a)&&t[e].hasOwnProperty(a)&&(t.emphasis[e][a]=t[e][a])}}}var _b=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function Gl(t){return pt(t)&&!nt(t)&&!(t instanceof Date)?t.value:t}function _z(t){return pt(t)&&!(t instanceof Array)}function xz(t,e,n){var r=n==="normalMerge",i=n==="replaceMerge",a=n==="replaceAll";t=t||[],e=(e||[]).slice();var o=yt();Y(e,function(u,f){if(!pt(u)){e[f]=null;return}});var s=wz(t,o,n);return(r||i)&&bz(s,t,o,e),r&&Sz(s,e),r||i?Tz(s,e,i):a&&Az(s,e),Cz(s),s}function wz(t,e,n){var r=[];if(n==="replaceAll")return r;for(var i=0;i<t.length;i++){var a=t[i];a&&a.id!=null&&e.set(a.id,i),r.push({existing:n==="replaceMerge"||dl(a)?null:a,newOption:null,keyInfo:null,brandNew:null})}return r}function bz(t,e,n,r){Y(r,function(i,a){if(!(!i||i.id==null)){var o=Eu(i.id),s=n.get(o);if(s!=null){var u=t[s];cr(!u.newOption,'Duplicated option on id "'+o+'".'),u.newOption=i,u.existing=e[s],r[a]=null}}})}function Sz(t,e){Y(e,function(n,r){if(!(!n||n.name==null))for(var i=0;i<t.length;i++){var a=t[i].existing;if(!t[i].newOption&&a&&(a.id==null||n.id==null)&&!dl(n)&&!dl(a)&&tD("name",a,n)){t[i].newOption=n,e[r]=null;return}}})}function Tz(t,e,n){Y(e,function(r){if(r){for(var i,a=0;(i=t[a])&&(i.newOption||dl(i.existing)||i.existing&&r.id!=null&&!tD("id",r,i.existing));)a++;i?(i.newOption=r,i.brandNew=n):t.push({newOption:r,brandNew:n,existing:null,keyInfo:null}),a++}})}function Az(t,e){Y(e,function(n){t.push({newOption:n,brandNew:!0,existing:null,keyInfo:null})})}function Cz(t){var e=yt();Y(t,function(n){var r=n.existing;r&&e.set(r.id,n)}),Y(t,function(n){var r=n.newOption;cr(!r||r.id==null||!e.get(r.id)||e.get(r.id)===n,"id duplicates: "+(r&&r.id)),r&&r.id!=null&&e.set(r.id,n),!n.keyInfo&&(n.keyInfo={})}),Y(t,function(n,r){var i=n.existing,a=n.newOption,o=n.keyInfo;if(pt(a)){if(o.name=a.name!=null?Eu(a.name):i?i.name:jL+r,i)o.id=Eu(i.id);else if(a.id!=null)o.id=Eu(a.id);else{var s=0;do o.id="\0"+o.name+"\0"+s++;while(e.get(o.id))}e.set(o.id,n)}})}function tD(t,e,n){var r=ur(e[t],null),i=ur(n[t],null);return r!=null&&i!=null&&r===i}function Eu(t){return ur(t,"")}function ur(t,e){return t==null?e:ut(t)?t:Qt(t)||M0(t)?t+"":e}function __(t){var e=t.name;return!!(e&&e.indexOf(jL))}function dl(t){return t&&t.id!=null&&Eu(t.id).indexOf(JL)===0}function Mz(t){return JL+t}function Pz(t,e,n){Y(t,function(r){var i=r.newOption;pt(i)&&(r.keyInfo.mainType=e,r.keyInfo.subType=Lz(e,i,r.existing,n))})}function Lz(t,e,n,r){var i=e.type?e.type:n?n.subType:r.determineSubType(t,e);return i}function Pa(t,e){if(e.dataIndexInside!=null)return e.dataIndexInside;if(e.dataIndex!=null)return nt(e.dataIndex)?at(e.dataIndex,function(n){return t.indexOfRawIndex(n)}):t.indexOfRawIndex(e.dataIndex);if(e.name!=null)return nt(e.name)?at(e.name,function(n){return t.indexOfName(n)}):t.indexOfName(e.name)}function ae(){var t="__ec_inner_"+Dz++;return function(e){return e[t]||(e[t]={})}}var Dz=QL();function Iu(t,e,n){var r=x_(e,n),i=r.mainTypeSpecified,a=r.queryOptionMap,o=r.others,s=o,u=n?n.defaultMainType:null;return!i&&u&&a.set(u,{}),a.each(function(f,c){var d=Vl(t,c,f,{useDefault:u===c,enableAll:n&&n.enableAll!=null?n.enableAll:!0,enableNone:n&&n.enableNone!=null?n.enableNone:!0});s[c+"Models"]=d.models,s[c+"Model"]=d.models[0]}),s}function x_(t,e){var n;if(ut(t)){var r={};r[t+"Index"]=0,n=r}else n=t;var i=yt(),a={},o=!1;return Y(n,function(s,u){if(u==="dataIndex"||u==="dataIndexInside"){a[u]=s;return}var f=u.match(/^(\w+)(Index|Id|Name)$/)||[],c=f[1],d=(f[2]||"").toLowerCase();if(!(!c||!d||e&&e.includeMainTypes&&Ot(e.includeMainTypes,c)<0)){o=o||!!c;var p=i.get(c)||i.set(c,{});p[d]=s}}),{mainTypeSpecified:o,queryOptionMap:i,others:a}}var Ne={useDefault:!0,enableAll:!1,enableNone:!1},Ez={useDefault:!1,enableAll:!0,enableNone:!0};function Vl(t,e,n,r){r=r||Ne;var i=n.index,a=n.id,o=n.name,s={models:null,specified:i!=null||a!=null||o!=null};if(!s.specified){var u=void 0;return s.models=r.useDefault&&(u=t.getComponent(e))?[u]:[],s}return i==="none"||i===!1?(cr(r.enableNone,'`"none"` or `false` is not a valid value on index option.'),s.models=[],s):(i==="all"&&(cr(r.enableAll,'`"all"` is not a valid value on index option.'),i=a=o=null),s.models=t.queryComponents({mainType:e,index:i,id:a,name:o}),s)}function eD(t,e,n){t.setAttribute?t.setAttribute(e,n):t[e]=n}function Iz(t,e){return t.getAttribute?t.getAttribute(e):t[e]}function Rz(t){return t==="auto"?Ct.domSupported?"html":"richText":t||"html"}function kz(t,e,n,r,i){var a=e==null||e==="auto";if(r==null)return r;if(Qt(r)){var o=yb(n||0,r,i);return oe(o,a?Math.max(Mr(n||0),Mr(r)):e)}else{if(ut(r))return i<1?n:r;for(var s=[],u=n,f=r,c=Math.max(u?u.length:0,f.length),d=0;d<c;++d){var p=t.getDimensionInfo(d);if(p&&p.type==="ordinal")s[d]=(i<1&&u?u:f)[d];else{var v=u&&u[d]?u[d]:0,y=f[d],o=yb(v,y,i);s[d]=oe(o,a?Math.max(Mr(v),Mr(y)):e)}}return s}}var Oz=".",ki="___EC__COMPONENT__CONTAINER___",nD="___EC__EXTENDED_CLASS___";function or(t){var e={main:"",sub:""};if(t){var n=t.split(Oz);e.main=n[0]||"",e.sub=n[1]||""}return e}function Nz(t){cr(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(t),'componentType "'+t+'" illegal')}function $z(t){return!!(t&&t[nD])}function w_(t,e){t.$constructor=t,t.extend=function(n){var r=this,i;return Gz(r)?i=function(a){ht(o,a);function o(){return a.apply(this,arguments)||this}return o}(r):(i=function(){(n.$constructor||r).apply(this,arguments)},RF(i,this)),et(i.prototype,n),i[nD]=!0,i.extend=this.extend,i.superCall=Bz,i.superApply=zz,i.superClass=r,i}}function Gz(t){return mt(t)&&/^class\s/.test(Function.prototype.toString.call(t))}function rD(t,e){t.extend=e.extend}var Vz=Math.round(Math.random()*10);function Fz(t){var e=["__\0is_clz",Vz++].join("_");t.prototype[e]=!0,t.isInstance=function(n){return!!(n&&n[e])}}function Bz(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return this.superClass.prototype[e].apply(t,n)}function zz(t,e,n){return this.superClass.prototype[e].apply(t,n)}function kd(t){var e={};t.registerClass=function(r){var i=r.type||r.prototype.type;if(i){Nz(i),r.prototype.type=i;var a=or(i);if(!a.sub)e[a.main]=r;else if(a.sub!==ki){var o=n(a);o[a.sub]=r}}return r},t.getClass=function(r,i,a){var o=e[r];if(o&&o[ki]&&(o=i?o[i]:null),a&&!o)throw new Error(i?"Component "+r+"."+(i||"")+" is used but not imported.":r+".type should be specified.");return o},t.getClassesByMainType=function(r){var i=or(r),a=[],o=e[i.main];return o&&o[ki]?Y(o,function(s,u){u!==ki&&a.push(s)}):a.push(o),a},t.hasClass=function(r){var i=or(r);return!!e[i.main]},t.getAllClassMainTypes=function(){var r=[];return Y(e,function(i,a){r.push(a)}),r},t.hasSubTypes=function(r){var i=or(r),a=e[i.main];return a&&a[ki]};function n(r){var i=e[r.main];return(!i||!i[ki])&&(i=e[r.main]={},i[ki]=!0),i}}function pl(t,e){for(var n=0;n<t.length;n++)t[n][1]||(t[n][1]=t[n][0]);return e=e||!1,function(r,i,a){for(var o={},s=0;s<t.length;s++){var u=t[s][1];if(!(i&&Ot(i,u)>=0||a&&Ot(a,u)<0)){var f=r.getShallow(u,e);f!=null&&(o[t[s][0]]=f)}}return o}}var Hz=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],Yz=pl(Hz),Xz=function(){function t(){}return t.prototype.getAreaStyle=function(e,n){return Yz(this,e,n)},t}(),W0=new $l(50);function Uz(t){if(typeof t=="string"){var e=W0.get(t);return e&&e.image}else return t}function iD(t,e,n,r,i){if(t)if(typeof t=="string"){if(e&&e.__zrImageSrc===t||!n)return e;var a=W0.get(t),o={hostEl:n,cb:r,cbPayload:i};return a?(e=a.image,!Od(e)&&a.pending.push(o)):(e=ds.loadImage(t,xb,xb),e.__zrImageSrc=t,W0.put(t,e.__cachedImgObj={image:e,pending:[o]})),e}else return t;else return e}function xb(){var t=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<t.pending.length;e++){var n=t.pending[e],r=n.cb;r&&r(this,n.cbPayload),n.hostEl.dirty()}t.pending.length=0}function Od(t){return t&&t.width&&t.height}var Av=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function Wz(t,e,n,r,i){if(!e)return"";var a=(t+"").split(`
`);i=aD(e,n,r,i);for(var o=0,s=a.length;o<s;o++)a[o]=oD(a[o],i);return a.join(`
`)}function aD(t,e,n,r){r=r||{};var i=et({},r);i.font=e,n=Vt(n,"..."),i.maxIterations=Vt(r.maxIterations,2);var a=i.minChar=Vt(r.minChar,0);i.cnCharWidth=fn("",e);var o=i.ascCharWidth=fn("a",e);i.placeholder=Vt(r.placeholder,"");for(var s=t=Math.max(0,t-1),u=0;u<a&&s>=o;u++)s-=o;var f=fn(n,e);return f>s&&(n="",f=0),s=t-f,i.ellipsis=n,i.ellipsisWidth=f,i.contentWidth=s,i.containerWidth=t,i}function oD(t,e){var n=e.containerWidth,r=e.font,i=e.contentWidth;if(!n)return"";var a=fn(t,r);if(a<=n)return t;for(var o=0;;o++){if(a<=i||o>=e.maxIterations){t+=e.ellipsis;break}var s=o===0?qz(t,i,e.ascCharWidth,e.cnCharWidth):a>0?Math.floor(t.length*i/a):0;t=t.substr(0,s),a=fn(t,r)}return t===""&&(t=e.placeholder),t}function qz(t,e,n,r){for(var i=0,a=0,o=t.length;a<o&&i<e;a++){var s=t.charCodeAt(a);i+=0<=s&&s<=127?n:r}return a}function Zz(t,e){t!=null&&(t+="");var n=e.overflow,r=e.padding,i=e.font,a=n==="truncate",o=g_(i),s=Vt(e.lineHeight,o),u=!!e.backgroundColor,f=e.lineOverflow==="truncate",c=e.width,d;c!=null&&(n==="break"||n==="breakAll")?d=t?sD(t,e.font,c,n==="breakAll",0).lines:[]:d=t?t.split(`
`):[];var p=d.length*s,v=Vt(e.height,p);if(p>v&&f){var y=Math.floor(v/s);d=d.slice(0,y)}if(t&&a&&c!=null)for(var x=aD(c,i,e.ellipsis,{minChar:e.truncateMinChar,placeholder:e.placeholder}),_=0;_<d.length;_++)d[_]=oD(d[_],x);for(var w=v,b=0,_=0;_<d.length;_++)b=Math.max(fn(d[_],i),b);c==null&&(c=b);var S=b;return r&&(w+=r[0]+r[2],S+=r[1]+r[3],c+=r[1]+r[3]),u&&(S=c),{lines:d,height:v,outerWidth:S,outerHeight:w,lineHeight:s,calculatedLineHeight:o,contentWidth:b,contentHeight:p,width:c}}var Qz=function(){function t(){}return t}(),wb=function(){function t(e){this.tokens=[],e&&(this.tokens=e)}return t}(),Kz=function(){function t(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]}return t}();function jz(t,e){var n=new Kz;if(t!=null&&(t+=""),!t)return n;for(var r=e.width,i=e.height,a=e.overflow,o=(a==="break"||a==="breakAll")&&r!=null?{width:r,accumWidth:0,breakAll:a==="breakAll"}:null,s=Av.lastIndex=0,u;(u=Av.exec(t))!=null;){var f=u.index;f>s&&Cv(n,t.substring(s,f),e,o),Cv(n,u[2],e,o,u[1]),s=Av.lastIndex}s<t.length&&Cv(n,t.substring(s,t.length),e,o);var c=[],d=0,p=0,v=e.padding,y=a==="truncate",x=e.lineOverflow==="truncate";function _(Q,l,h){Q.width=l,Q.lineHeight=h,d+=h,p=Math.max(p,l)}t:for(var w=0;w<n.lines.length;w++){for(var b=n.lines[w],S=0,A=0,L=0;L<b.tokens.length;L++){var P=b.tokens[L],E=P.styleName&&e.rich[P.styleName]||{},O=P.textPadding=E.padding,R=O?O[1]+O[3]:0,C=P.font=E.font||e.font;P.contentHeight=g_(C);var N=Vt(E.height,P.contentHeight);if(P.innerHeight=N,O&&(N+=O[0]+O[2]),P.height=N,P.lineHeight=hc(E.lineHeight,e.lineHeight,N),P.align=E&&E.align||e.align,P.verticalAlign=E&&E.verticalAlign||"middle",x&&i!=null&&d+P.lineHeight>i){L>0?(b.tokens=b.tokens.slice(0,L),_(b,A,S),n.lines=n.lines.slice(0,w+1)):n.lines=n.lines.slice(0,w);break t}var D=E.width,G=D==null||D==="auto";if(typeof D=="string"&&D.charAt(D.length-1)==="%")P.percentWidth=D,c.push(P),P.contentWidth=fn(P.text,C);else{if(G){var X=E.backgroundColor,H=X&&X.image;H&&(H=Uz(H),Od(H)&&(P.width=Math.max(P.width,H.width*N/H.height)))}var W=y&&r!=null?r-A:null;W!=null&&W<P.width?!G||W<R?(P.text="",P.width=P.contentWidth=0):(P.text=Wz(P.text,W-R,C,e.ellipsis,{minChar:e.truncateMinChar}),P.width=P.contentWidth=fn(P.text,C)):P.contentWidth=fn(P.text,C)}P.width+=R,A+=P.width,E&&(S=Math.max(S,P.lineHeight))}_(b,A,S)}n.outerWidth=n.width=Vt(r,p),n.outerHeight=n.height=Vt(i,d),n.contentHeight=d,n.contentWidth=p,v&&(n.outerWidth+=v[1]+v[3],n.outerHeight+=v[0]+v[2]);for(var w=0;w<c.length;w++){var P=c[w],K=P.percentWidth;P.width=parseInt(K,10)/100*n.width}return n}function Cv(t,e,n,r,i){var a=e==="",o=i&&n.rich[i]||{},s=t.lines,u=o.font||n.font,f=!1,c,d;if(r){var p=o.padding,v=p?p[1]+p[3]:0;if(o.width!=null&&o.width!=="auto"){var y=_i(o.width,r.width)+v;s.length>0&&y+r.accumWidth>r.width&&(c=e.split(`
`),f=!0),r.accumWidth=y}else{var x=sD(e,u,r.width,r.breakAll,r.accumWidth);r.accumWidth=x.accumWidth+v,d=x.linesWidths,c=x.lines}}else c=e.split(`
`);for(var _=0;_<c.length;_++){var w=c[_],b=new Qz;if(b.styleName=i,b.text=w,b.isLineHolder=!w&&!a,typeof o.width=="number"?b.width=o.width:b.width=d?d[_]:fn(w,u),!_&&!f){var S=(s[s.length-1]||(s[0]=new wb)).tokens,A=S.length;A===1&&S[0].isLineHolder?S[0]=b:(w||!A||a)&&S.push(b)}else s.push(new wb([b]))}}function Jz(t){var e=t.charCodeAt(0);return e>=32&&e<=591||e>=880&&e<=4351||e>=4608&&e<=5119||e>=7680&&e<=8303}var tH=ps(",&?/;] ".split(""),function(t,e){return t[e]=!0,t},{});function eH(t){return Jz(t)?!!tH[t]:!0}function sD(t,e,n,r,i){for(var a=[],o=[],s="",u="",f=0,c=0,d=0;d<t.length;d++){var p=t.charAt(d);if(p===`
`){u&&(s+=u,c+=f),a.push(s),o.push(c),s="",u="",f=0,c=0;continue}var v=fn(p,e),y=r?!1:!eH(p);if(a.length?c+v>n:i+c+v>n){c?(s||u)&&(y?(s||(s=u,u="",f=0,c=f),a.push(s),o.push(c-f),u+=p,f+=v,s="",c=f):(u&&(s+=u,u="",f=0),a.push(s),o.push(c),s=p,c=v)):y?(a.push(u),o.push(f),u=p,f=v):(a.push(p),o.push(v));continue}c+=v,y?(u+=p,f+=v):(u&&(s+=u,u="",f=0),s+=p)}return!a.length&&!s&&(s=t,u="",f=0),u&&(s+=u),s&&(a.push(s),o.push(c)),a.length===1&&(c+=i),{accumWidth:c,lines:a,linesWidths:o}}var q0="__zr_style_"+Math.round(Math.random()*10),ca={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},Nd={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};ca[q0]=!0;var bb=["z","z2","invisible"],nH=["invisible"],rH=function(t){Yt(e,t);function e(n){return t.call(this,n)||this}return e.prototype._init=function(n){for(var r=jt(n),i=0;i<r.length;i++){var a=r[i];a==="style"?this.useStyle(n[a]):t.prototype.attrKV.call(this,a,n[a])}this.style||this.useStyle({})},e.prototype.beforeBrush=function(){},e.prototype.afterBrush=function(){},e.prototype.innerBeforeBrush=function(){},e.prototype.innerAfterBrush=function(){},e.prototype.shouldBePainted=function(n,r,i,a){var o=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&iH(this,n,r)||o&&!o[0]&&!o[3])return!1;if(i&&this.__clipPaths){for(var s=0;s<this.__clipPaths.length;++s)if(this.__clipPaths[s].isZeroArea())return!1}if(a&&this.parent)for(var u=this.parent;u;){if(u.ignore)return!1;u=u.parent}return!0},e.prototype.contain=function(n,r){return this.rectContain(n,r)},e.prototype.traverse=function(n,r){n.call(r,this)},e.prototype.rectContain=function(n,r){var i=this.transformCoordToLocal(n,r),a=this.getBoundingRect();return a.contain(i[0],i[1])},e.prototype.getPaintRect=function(){var n=this._paintRect;if(!this._paintRect||this.__dirty){var r=this.transform,i=this.getBoundingRect(),a=this.style,o=a.shadowBlur||0,s=a.shadowOffsetX||0,u=a.shadowOffsetY||0;n=this._paintRect||(this._paintRect=new Nt(0,0,0,0)),r?Nt.applyTransform(n,i,r):n.copy(i),(o||s||u)&&(n.width+=o*2+Math.abs(s),n.height+=o*2+Math.abs(u),n.x=Math.min(n.x,n.x+s-o),n.y=Math.min(n.y,n.y+u-o));var f=this.dirtyRectTolerance;n.isZero()||(n.x=Math.floor(n.x-f),n.y=Math.floor(n.y-f),n.width=Math.ceil(n.width+1+f*2),n.height=Math.ceil(n.height+1+f*2))}return n},e.prototype.setPrevPaintRect=function(n){n?(this._prevPaintRect=this._prevPaintRect||new Nt(0,0,0,0),this._prevPaintRect.copy(n)):this._prevPaintRect=null},e.prototype.getPrevPaintRect=function(){return this._prevPaintRect},e.prototype.animateStyle=function(n){return this.animate("style",n)},e.prototype.updateDuringAnimation=function(n){n==="style"?this.dirtyStyle():this.markRedraw()},e.prototype.attrKV=function(n,r){n!=="style"?t.prototype.attrKV.call(this,n,r):this.style?this.setStyle(r):this.useStyle(r)},e.prototype.setStyle=function(n,r){return typeof n=="string"?this.style[n]=r:et(this.style,n),this.dirtyStyle(),this},e.prototype.dirtyStyle=function(n){n||this.markRedraw(),this.__dirty|=vu,this._rect&&(this._rect=null)},e.prototype.dirty=function(){this.dirtyStyle()},e.prototype.styleChanged=function(){return!!(this.__dirty&vu)},e.prototype.styleUpdated=function(){this.__dirty&=~vu},e.prototype.createStyle=function(n){return Dd(ca,n)},e.prototype.useStyle=function(n){n[q0]||(n=this.createStyle(n)),this.__inHover?this.__hoverStyle=n:this.style=n,this.dirtyStyle()},e.prototype.isStyleObject=function(n){return n[q0]},e.prototype._innerSaveToNormal=function(n){t.prototype._innerSaveToNormal.call(this,n);var r=this._normalState;n.style&&!r.style&&(r.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(n,r,bb)},e.prototype._applyStateObj=function(n,r,i,a,o,s){t.prototype._applyStateObj.call(this,n,r,i,a,o,s);var u=!(r&&a),f;if(r&&r.style?o?a?f=r.style:(f=this._mergeStyle(this.createStyle(),i.style),this._mergeStyle(f,r.style)):(f=this._mergeStyle(this.createStyle(),a?this.style:i.style),this._mergeStyle(f,r.style)):u&&(f=i.style),f)if(o){var c=this.style;if(this.style=this.createStyle(u?{}:c),u)for(var d=jt(c),p=0;p<d.length;p++){var v=d[p];v in f&&(f[v]=f[v],this.style[v]=c[v])}for(var y=jt(f),p=0;p<y.length;p++){var v=y[p];this.style[v]=this.style[v]}this._transitionState(n,{style:f},s,this.getAnimationStyleProps())}else this.useStyle(f);for(var x=this.__inHover?nH:bb,p=0;p<x.length;p++){var v=x[p];r&&r[v]!=null?this[v]=r[v]:u&&i[v]!=null&&(this[v]=i[v])}},e.prototype._mergeStates=function(n){for(var r=t.prototype._mergeStates.call(this,n),i,a=0;a<n.length;a++){var o=n[a];o.style&&(i=i||{},this._mergeStyle(i,o.style))}return i&&(r.style=i),r},e.prototype._mergeStyle=function(n,r){return et(n,r),n},e.prototype.getAnimationStyleProps=function(){return Nd},e.initDefaultProps=function(){var n=e.prototype;n.type="displayable",n.invisible=!1,n.z=0,n.z2=0,n.zlevel=0,n.culling=!1,n.cursor="pointer",n.rectHover=!1,n.incremental=!1,n._rect=null,n.dirtyRectTolerance=0,n.__dirty=un|vu}(),e}(HL),Mv=new Nt(0,0,0,0),Pv=new Nt(0,0,0,0);function iH(t,e,n){return Mv.copy(t.getBoundingRect()),t.transform&&Mv.applyTransform(t.transform),Pv.width=e,Pv.height=n,!Mv.intersect(Pv)}const gs=rH;var Ke=Math.min,je=Math.max,Lv=Math.sin,Dv=Math.cos,Oi=Math.PI*2,Tf=vs(),Af=vs(),Cf=vs();function uD(t,e,n){if(t.length!==0){for(var r=t[0],i=r[0],a=r[0],o=r[1],s=r[1],u=1;u<t.length;u++)r=t[u],i=Ke(i,r[0]),a=je(a,r[0]),o=Ke(o,r[1]),s=je(s,r[1]);e[0]=i,e[1]=o,n[0]=a,n[1]=s}}function Sb(t,e,n,r,i,a){i[0]=Ke(t,n),i[1]=Ke(e,r),a[0]=je(t,n),a[1]=je(e,r)}var Tb=[],Ab=[];function aH(t,e,n,r,i,a,o,s,u,f){var c=kL,d=le,p=c(t,n,i,o,Tb);u[0]=1/0,u[1]=1/0,f[0]=-1/0,f[1]=-1/0;for(var v=0;v<p;v++){var y=d(t,n,i,o,Tb[v]);u[0]=Ke(y,u[0]),f[0]=je(y,f[0])}p=c(e,r,a,s,Ab);for(var v=0;v<p;v++){var x=d(e,r,a,s,Ab[v]);u[1]=Ke(x,u[1]),f[1]=je(x,f[1])}u[0]=Ke(t,u[0]),f[0]=je(t,f[0]),u[0]=Ke(o,u[0]),f[0]=je(o,f[0]),u[1]=Ke(e,u[1]),f[1]=je(e,f[1]),u[1]=Ke(s,u[1]),f[1]=je(s,f[1])}function oH(t,e,n,r,i,a,o,s){var u=OL,f=Ce,c=je(Ke(u(t,n,i),1),0),d=je(Ke(u(e,r,a),1),0),p=f(t,n,i,c),v=f(e,r,a,d);o[0]=Ke(t,i,p),o[1]=Ke(e,a,v),s[0]=je(t,i,p),s[1]=je(e,a,v)}function sH(t,e,n,r,i,a,o,s,u){var f=bo,c=So,d=Math.abs(i-a);if(d%Oi<1e-4&&d>1e-4){s[0]=t-n,s[1]=e-r,u[0]=t+n,u[1]=e+r;return}if(Tf[0]=Dv(i)*n+t,Tf[1]=Lv(i)*r+e,Af[0]=Dv(a)*n+t,Af[1]=Lv(a)*r+e,f(s,Tf,Af),c(u,Tf,Af),i=i%Oi,i<0&&(i=i+Oi),a=a%Oi,a<0&&(a=a+Oi),i>a&&!o?a+=Oi:i<a&&o&&(i+=Oi),o){var p=a;a=i,i=p}for(var v=0;v<a;v+=Math.PI/2)v>i&&(Cf[0]=Dv(v)*n+t,Cf[1]=Lv(v)*r+e,f(s,Cf,s),c(u,Cf,u))}var Bt={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},Ni=[],$i=[],Zn=[],Xr=[],Qn=[],Kn=[],Ev=Math.min,Iv=Math.max,Gi=Math.cos,Vi=Math.sin,wr=Math.abs,Z0=Math.PI,Jr=Z0*2,Rv=typeof Float32Array<"u",$s=[];function kv(t){var e=Math.round(t/Z0*1e8)/1e8;return e%2*Z0}function uH(t,e){var n=kv(t[0]);n<0&&(n+=Jr);var r=n-t[0],i=t[1];i+=r,!e&&i-n>=Jr?i=n+Jr:e&&n-i>=Jr?i=n-Jr:!e&&n>i?i=n+(Jr-kv(n-i)):e&&n<i&&(i=n-(Jr-kv(i-n))),t[0]=n,t[1]=i}var lH=function(){function t(e){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,e&&(this._saveData=!1),this._saveData&&(this.data=[])}return t.prototype.increaseVersion=function(){this._version++},t.prototype.getVersion=function(){return this._version},t.prototype.setScale=function(e,n,r){r=r||0,r>0&&(this._ux=wr(r/Ph/e)||0,this._uy=wr(r/Ph/n)||0)},t.prototype.setDPR=function(e){this.dpr=e},t.prototype.setContext=function(e){this._ctx=e},t.prototype.getContext=function(){return this._ctx},t.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},t.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},t.prototype.moveTo=function(e,n){return this._drawPendingPt(),this.addData(Bt.M,e,n),this._ctx&&this._ctx.moveTo(e,n),this._x0=e,this._y0=n,this._xi=e,this._yi=n,this},t.prototype.lineTo=function(e,n){var r=wr(e-this._xi),i=wr(n-this._yi),a=r>this._ux||i>this._uy;if(this.addData(Bt.L,e,n),this._ctx&&a&&this._ctx.lineTo(e,n),a)this._xi=e,this._yi=n,this._pendingPtDist=0;else{var o=r*r+i*i;o>this._pendingPtDist&&(this._pendingPtX=e,this._pendingPtY=n,this._pendingPtDist=o)}return this},t.prototype.bezierCurveTo=function(e,n,r,i,a,o){return this._drawPendingPt(),this.addData(Bt.C,e,n,r,i,a,o),this._ctx&&this._ctx.bezierCurveTo(e,n,r,i,a,o),this._xi=a,this._yi=o,this},t.prototype.quadraticCurveTo=function(e,n,r,i){return this._drawPendingPt(),this.addData(Bt.Q,e,n,r,i),this._ctx&&this._ctx.quadraticCurveTo(e,n,r,i),this._xi=r,this._yi=i,this},t.prototype.arc=function(e,n,r,i,a,o){this._drawPendingPt(),$s[0]=i,$s[1]=a,uH($s,o),i=$s[0],a=$s[1];var s=a-i;return this.addData(Bt.A,e,n,r,r,i,s,0,o?0:1),this._ctx&&this._ctx.arc(e,n,r,i,a,o),this._xi=Gi(a)*r+e,this._yi=Vi(a)*r+n,this},t.prototype.arcTo=function(e,n,r,i,a){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(e,n,r,i,a),this},t.prototype.rect=function(e,n,r,i){return this._drawPendingPt(),this._ctx&&this._ctx.rect(e,n,r,i),this.addData(Bt.R,e,n,r,i),this},t.prototype.closePath=function(){this._drawPendingPt(),this.addData(Bt.Z);var e=this._ctx,n=this._x0,r=this._y0;return e&&e.closePath(),this._xi=n,this._yi=r,this},t.prototype.fill=function(e){e&&e.fill(),this.toStatic()},t.prototype.stroke=function(e){e&&e.stroke(),this.toStatic()},t.prototype.len=function(){return this._len},t.prototype.setData=function(e){var n=e.length;!(this.data&&this.data.length===n)&&Rv&&(this.data=new Float32Array(n));for(var r=0;r<n;r++)this.data[r]=e[r];this._len=n},t.prototype.appendPath=function(e){e instanceof Array||(e=[e]);for(var n=e.length,r=0,i=this._len,a=0;a<n;a++)r+=e[a].len();Rv&&this.data instanceof Float32Array&&(this.data=new Float32Array(i+r));for(var a=0;a<n;a++)for(var o=e[a].data,s=0;s<o.length;s++)this.data[i++]=o[s];this._len=i},t.prototype.addData=function(e,n,r,i,a,o,s,u,f){if(this._saveData){var c=this.data;this._len+arguments.length>c.length&&(this._expandData(),c=this.data);for(var d=0;d<arguments.length;d++)c[this._len++]=arguments[d]}},t.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},t.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var e=[],n=0;n<this._len;n++)e[n]=this.data[n];this.data=e}},t.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var e=this.data;e instanceof Array&&(e.length=this._len,Rv&&this._len>11&&(this.data=new Float32Array(e)))}},t.prototype.getBoundingRect=function(){Zn[0]=Zn[1]=Qn[0]=Qn[1]=Number.MAX_VALUE,Xr[0]=Xr[1]=Kn[0]=Kn[1]=-Number.MAX_VALUE;var e=this.data,n=0,r=0,i=0,a=0,o;for(o=0;o<this._len;){var s=e[o++],u=o===1;switch(u&&(n=e[o],r=e[o+1],i=n,a=r),s){case Bt.M:n=i=e[o++],r=a=e[o++],Qn[0]=i,Qn[1]=a,Kn[0]=i,Kn[1]=a;break;case Bt.L:Sb(n,r,e[o],e[o+1],Qn,Kn),n=e[o++],r=e[o++];break;case Bt.C:aH(n,r,e[o++],e[o++],e[o++],e[o++],e[o],e[o+1],Qn,Kn),n=e[o++],r=e[o++];break;case Bt.Q:oH(n,r,e[o++],e[o++],e[o],e[o+1],Qn,Kn),n=e[o++],r=e[o++];break;case Bt.A:var f=e[o++],c=e[o++],d=e[o++],p=e[o++],v=e[o++],y=e[o++]+v;o+=1;var x=!e[o++];u&&(i=Gi(v)*d+f,a=Vi(v)*p+c),sH(f,c,d,p,v,y,x,Qn,Kn),n=Gi(y)*d+f,r=Vi(y)*p+c;break;case Bt.R:i=n=e[o++],a=r=e[o++];var _=e[o++],w=e[o++];Sb(i,a,i+_,a+w,Qn,Kn);break;case Bt.Z:n=i,r=a;break}bo(Zn,Zn,Qn),So(Xr,Xr,Kn)}return o===0&&(Zn[0]=Zn[1]=Xr[0]=Xr[1]=0),new Nt(Zn[0],Zn[1],Xr[0]-Zn[0],Xr[1]-Zn[1])},t.prototype._calculateLength=function(){var e=this.data,n=this._len,r=this._ux,i=this._uy,a=0,o=0,s=0,u=0;this._pathSegLen||(this._pathSegLen=[]);for(var f=this._pathSegLen,c=0,d=0,p=0;p<n;){var v=e[p++],y=p===1;y&&(a=e[p],o=e[p+1],s=a,u=o);var x=-1;switch(v){case Bt.M:a=s=e[p++],o=u=e[p++];break;case Bt.L:{var _=e[p++],w=e[p++],b=_-a,S=w-o;(wr(b)>r||wr(S)>i||p===n-1)&&(x=Math.sqrt(b*b+S*S),a=_,o=w);break}case Bt.C:{var A=e[p++],L=e[p++],_=e[p++],w=e[p++],P=e[p++],E=e[p++];x=CB(a,o,A,L,_,w,P,E,10),a=P,o=E;break}case Bt.Q:{var A=e[p++],L=e[p++],_=e[p++],w=e[p++];x=LB(a,o,A,L,_,w,10),a=_,o=w;break}case Bt.A:var O=e[p++],R=e[p++],C=e[p++],N=e[p++],D=e[p++],G=e[p++],X=G+D;p+=1,e[p++],y&&(s=Gi(D)*C+O,u=Vi(D)*N+R),x=Iv(C,N)*Ev(Jr,Math.abs(G)),a=Gi(X)*C+O,o=Vi(X)*N+R;break;case Bt.R:{s=a=e[p++],u=o=e[p++];var H=e[p++],W=e[p++];x=H*2+W*2;break}case Bt.Z:{var b=s-a,S=u-o;x=Math.sqrt(b*b+S*S),a=s,o=u;break}}x>=0&&(f[d++]=x,c+=x)}return this._pathLen=c,c},t.prototype.rebuildPath=function(e,n){var r=this.data,i=this._ux,a=this._uy,o=this._len,s,u,f,c,d,p,v=n<1,y,x,_=0,w=0,b,S=0,A,L;if(!(v&&(this._pathSegLen||this._calculateLength(),y=this._pathSegLen,x=this._pathLen,b=n*x,!b)))t:for(var P=0;P<o;){var E=r[P++],O=P===1;switch(O&&(f=r[P],c=r[P+1],s=f,u=c),E!==Bt.L&&S>0&&(e.lineTo(A,L),S=0),E){case Bt.M:s=f=r[P++],u=c=r[P++],e.moveTo(f,c);break;case Bt.L:{d=r[P++],p=r[P++];var R=wr(d-f),C=wr(p-c);if(R>i||C>a){if(v){var N=y[w++];if(_+N>b){var D=(b-_)/N;e.lineTo(f*(1-D)+d*D,c*(1-D)+p*D);break t}_+=N}e.lineTo(d,p),f=d,c=p,S=0}else{var G=R*R+C*C;G>S&&(A=d,L=p,S=G)}break}case Bt.C:{var X=r[P++],H=r[P++],W=r[P++],K=r[P++],Q=r[P++],l=r[P++];if(v){var N=y[w++];if(_+N>b){var D=(b-_)/N;mi(f,X,W,Q,D,Ni),mi(c,H,K,l,D,$i),e.bezierCurveTo(Ni[1],$i[1],Ni[2],$i[2],Ni[3],$i[3]);break t}_+=N}e.bezierCurveTo(X,H,W,K,Q,l),f=Q,c=l;break}case Bt.Q:{var X=r[P++],H=r[P++],W=r[P++],K=r[P++];if(v){var N=y[w++];if(_+N>b){var D=(b-_)/N;Ch(f,X,W,D,Ni),Ch(c,H,K,D,$i),e.quadraticCurveTo(Ni[1],$i[1],Ni[2],$i[2]);break t}_+=N}e.quadraticCurveTo(X,H,W,K),f=W,c=K;break}case Bt.A:var h=r[P++],g=r[P++],m=r[P++],T=r[P++],M=r[P++],I=r[P++],k=r[P++],V=!r[P++],$=m>T?m:T,F=wr(m-T)>.001,z=M+I,U=!1;if(v){var N=y[w++];_+N>b&&(z=M+I*(b-_)/N,U=!0),_+=N}if(F&&e.ellipse?e.ellipse(h,g,m,T,k,M,z,V):e.arc(h,g,$,M,z,V),U)break t;O&&(s=Gi(M)*m+h,u=Vi(M)*T+g),f=Gi(z)*m+h,c=Vi(z)*T+g;break;case Bt.R:s=f=r[P],u=c=r[P+1],d=r[P++],p=r[P++];var B=r[P++],Z=r[P++];if(v){var N=y[w++];if(_+N>b){var q=b-_;e.moveTo(d,p),e.lineTo(d+Ev(q,B),p),q-=B,q>0&&e.lineTo(d+B,p+Ev(q,Z)),q-=Z,q>0&&e.lineTo(d+Iv(B-q,0),p+Z),q-=B,q>0&&e.lineTo(d,p+Iv(Z-q,0));break t}_+=N}e.rect(d,p,B,Z);break;case Bt.Z:if(v){var N=y[w++];if(_+N>b){var D=(b-_)/N;e.lineTo(f*(1-D)+s*D,c*(1-D)+u*D);break t}_+=N}e.closePath(),f=s,c=u}}},t.prototype.clone=function(){var e=new t,n=this.data;return e.data=n.slice?n.slice():Array.prototype.slice.call(n),e._len=this._len,e},t.CMD=Bt,t.initDefaultProps=function(){var e=t.prototype;e._saveData=!0,e._ux=0,e._uy=0,e._pendingPtDist=0,e._version=0}(),t}();const xi=lH;function eo(t,e,n,r,i,a,o){if(i===0)return!1;var s=i,u=0,f=t;if(o>e+s&&o>r+s||o<e-s&&o<r-s||a>t+s&&a>n+s||a<t-s&&a<n-s)return!1;if(t!==n)u=(e-r)/(t-n),f=(t*r-n*e)/(t-n);else return Math.abs(a-t)<=s/2;var c=u*a-o+f,d=c*c/(u*u+1);return d<=s/2*s/2}function fH(t,e,n,r,i,a,o,s,u,f,c){if(u===0)return!1;var d=u;if(c>e+d&&c>r+d&&c>a+d&&c>s+d||c<e-d&&c<r-d&&c<a-d&&c<s-d||f>t+d&&f>n+d&&f>i+d&&f>o+d||f<t-d&&f<n-d&&f<i-d&&f<o-d)return!1;var p=AB(t,e,n,r,i,a,o,s,f,c,null);return p<=d/2}function cH(t,e,n,r,i,a,o,s,u){if(o===0)return!1;var f=o;if(u>e+f&&u>r+f&&u>a+f||u<e-f&&u<r-f&&u<a-f||s>t+f&&s>n+f&&s>i+f||s<t-f&&s<n-f&&s<i-f)return!1;var c=PB(t,e,n,r,i,a,s,u,null);return c<=f/2}var Cb=Math.PI*2;function Mf(t){return t%=Cb,t<0&&(t+=Cb),t}var Gs=Math.PI*2;function hH(t,e,n,r,i,a,o,s,u){if(o===0)return!1;var f=o;s-=t,u-=e;var c=Math.sqrt(s*s+u*u);if(c-f>n||c+f<n)return!1;if(Math.abs(r-i)%Gs<1e-4)return!0;if(a){var d=r;r=Mf(i),i=Mf(d)}else r=Mf(r),i=Mf(i);r>i&&(i+=Gs);var p=Math.atan2(u,s);return p<0&&(p+=Gs),p>=r&&p<=i||p+Gs>=r&&p+Gs<=i}function Fi(t,e,n,r,i,a){if(a>e&&a>r||a<e&&a<r||r===e)return 0;var o=(a-e)/(r-e),s=r<e?1:-1;(o===1||o===0)&&(s=r<e?.5:-.5);var u=o*(n-t)+t;return u===i?1/0:u>i?s:0}var Ur=xi.CMD,Bi=Math.PI*2,dH=1e-4;function pH(t,e){return Math.abs(t-e)<dH}var De=[-1,-1,-1],bn=[-1,-1];function vH(){var t=bn[0];bn[0]=bn[1],bn[1]=t}function gH(t,e,n,r,i,a,o,s,u,f){if(f>e&&f>r&&f>a&&f>s||f<e&&f<r&&f<a&&f<s)return 0;var c=Ah(e,r,a,s,f,De);if(c===0)return 0;for(var d=0,p=-1,v=void 0,y=void 0,x=0;x<c;x++){var _=De[x],w=_===0||_===1?.5:1,b=le(t,n,i,o,_);b<u||(p<0&&(p=kL(e,r,a,s,bn),bn[1]<bn[0]&&p>1&&vH(),v=le(e,r,a,s,bn[0]),p>1&&(y=le(e,r,a,s,bn[1]))),p===2?_<bn[0]?d+=v<e?w:-w:_<bn[1]?d+=y<v?w:-w:d+=s<y?w:-w:_<bn[0]?d+=v<e?w:-w:d+=s<v?w:-w)}return d}function yH(t,e,n,r,i,a,o,s){if(s>e&&s>r&&s>a||s<e&&s<r&&s<a)return 0;var u=MB(e,r,a,s,De);if(u===0)return 0;var f=OL(e,r,a);if(f>=0&&f<=1){for(var c=0,d=Ce(e,r,a,f),p=0;p<u;p++){var v=De[p]===0||De[p]===1?.5:1,y=Ce(t,n,i,De[p]);y<o||(De[p]<f?c+=d<e?v:-v:c+=a<d?v:-v)}return c}else{var v=De[0]===0||De[0]===1?.5:1,y=Ce(t,n,i,De[0]);return y<o?0:a<e?v:-v}}function mH(t,e,n,r,i,a,o,s){if(s-=e,s>n||s<-n)return 0;var u=Math.sqrt(n*n-s*s);De[0]=-u,De[1]=u;var f=Math.abs(r-i);if(f<1e-4)return 0;if(f>=Bi-1e-4){r=0,i=Bi;var c=a?1:-1;return o>=De[0]+t&&o<=De[1]+t?c:0}if(r>i){var d=r;r=i,i=d}r<0&&(r+=Bi,i+=Bi);for(var p=0,v=0;v<2;v++){var y=De[v];if(y+t>o){var x=Math.atan2(s,y),c=a?1:-1;x<0&&(x=Bi+x),(x>=r&&x<=i||x+Bi>=r&&x+Bi<=i)&&(x>Math.PI/2&&x<Math.PI*1.5&&(c=-c),p+=c)}}return p}function lD(t,e,n,r,i){for(var a=t.data,o=t.len(),s=0,u=0,f=0,c=0,d=0,p,v,y=0;y<o;){var x=a[y++],_=y===1;switch(x===Ur.M&&y>1&&(n||(s+=Fi(u,f,c,d,r,i))),_&&(u=a[y],f=a[y+1],c=u,d=f),x){case Ur.M:c=a[y++],d=a[y++],u=c,f=d;break;case Ur.L:if(n){if(eo(u,f,a[y],a[y+1],e,r,i))return!0}else s+=Fi(u,f,a[y],a[y+1],r,i)||0;u=a[y++],f=a[y++];break;case Ur.C:if(n){if(fH(u,f,a[y++],a[y++],a[y++],a[y++],a[y],a[y+1],e,r,i))return!0}else s+=gH(u,f,a[y++],a[y++],a[y++],a[y++],a[y],a[y+1],r,i)||0;u=a[y++],f=a[y++];break;case Ur.Q:if(n){if(cH(u,f,a[y++],a[y++],a[y],a[y+1],e,r,i))return!0}else s+=yH(u,f,a[y++],a[y++],a[y],a[y+1],r,i)||0;u=a[y++],f=a[y++];break;case Ur.A:var w=a[y++],b=a[y++],S=a[y++],A=a[y++],L=a[y++],P=a[y++];y+=1;var E=!!(1-a[y++]);p=Math.cos(L)*S+w,v=Math.sin(L)*A+b,_?(c=p,d=v):s+=Fi(u,f,p,v,r,i);var O=(r-w)*A/S+w;if(n){if(hH(w,b,A,L,L+P,E,e,O,i))return!0}else s+=mH(w,b,A,L,L+P,E,O,i);u=Math.cos(L+P)*S+w,f=Math.sin(L+P)*A+b;break;case Ur.R:c=u=a[y++],d=f=a[y++];var R=a[y++],C=a[y++];if(p=c+R,v=d+C,n){if(eo(c,d,p,d,e,r,i)||eo(p,d,p,v,e,r,i)||eo(p,v,c,v,e,r,i)||eo(c,v,c,d,e,r,i))return!0}else s+=Fi(p,d,p,v,r,i),s+=Fi(c,v,c,d,r,i);break;case Ur.Z:if(n){if(eo(u,f,c,d,e,r,i))return!0}else s+=Fi(u,f,c,d,r,i);u=c,f=d;break}}return!n&&!pH(f,d)&&(s+=Fi(u,f,c,d,r,i)||0),s!==0}function _H(t,e,n){return lD(t,0,!1,e,n)}function xH(t,e,n,r){return lD(t,e,!0,n,r)}var fD=bt({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},ca),wH={style:bt({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},Nd.style)},Ov=hl.concat(["invisible","culling","z","z2","zlevel","parent"]),bH=function(t){Yt(e,t);function e(n){return t.call(this,n)||this}return e.prototype.update=function(){var n=this;t.prototype.update.call(this);var r=this.style;if(r.decal){var i=this._decalEl=this._decalEl||new e;i.buildPath===e.prototype.buildPath&&(i.buildPath=function(u){n.buildPath(u,n.shape)}),i.silent=!0;var a=i.style;for(var o in r)a[o]!==r[o]&&(a[o]=r[o]);a.fill=r.fill?r.decal:null,a.decal=null,a.shadowColor=null,r.strokeFirst&&(a.stroke=null);for(var s=0;s<Ov.length;++s)i[Ov[s]]=this[Ov[s]];i.__dirty|=un}else this._decalEl&&(this._decalEl=null)},e.prototype.getDecalElement=function(){return this._decalEl},e.prototype._init=function(n){var r=jt(n);this.shape=this.getDefaultShape();var i=this.getDefaultStyle();i&&this.useStyle(i);for(var a=0;a<r.length;a++){var o=r[a],s=n[o];o==="style"?this.style?et(this.style,s):this.useStyle(s):o==="shape"?et(this.shape,s):t.prototype.attrKV.call(this,o,s)}this.style||this.useStyle({})},e.prototype.getDefaultStyle=function(){return null},e.prototype.getDefaultShape=function(){return{}},e.prototype.canBeInsideText=function(){return this.hasFill()},e.prototype.getInsideTextFill=function(){var n=this.style.fill;if(n!=="none"){if(ut(n)){var r=Mh(n,0);return r>.5?X0:r>.2?tz:U0}else if(n)return U0}return X0},e.prototype.getInsideTextStroke=function(n){var r=this.style.fill;if(ut(r)){var i=this.__zr,a=!!(i&&i.isDarkMode()),o=Mh(n,0)<Y0;if(a===o)return r}},e.prototype.buildPath=function(n,r,i){},e.prototype.pathUpdated=function(){this.__dirty&=~go},e.prototype.getUpdatedPathProxy=function(n){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,n),this.path},e.prototype.createPathProxy=function(){this.path=new xi(!1)},e.prototype.hasStroke=function(){var n=this.style,r=n.stroke;return!(r==null||r==="none"||!(n.lineWidth>0))},e.prototype.hasFill=function(){var n=this.style,r=n.fill;return r!=null&&r!=="none"},e.prototype.getBoundingRect=function(){var n=this._rect,r=this.style,i=!n;if(i){var a=!1;this.path||(a=!0,this.createPathProxy());var o=this.path;(a||this.__dirty&go)&&(o.beginPath(),this.buildPath(o,this.shape,!1),this.pathUpdated()),n=o.getBoundingRect()}if(this._rect=n,this.hasStroke()&&this.path&&this.path.len()>0){var s=this._rectStroke||(this._rectStroke=n.clone());if(this.__dirty||i){s.copy(n);var u=r.strokeNoScale?this.getLineScale():1,f=r.lineWidth;if(!this.hasFill()){var c=this.strokeContainThreshold;f=Math.max(f,c??4)}u>1e-10&&(s.width+=f/u,s.height+=f/u,s.x-=f/u/2,s.y-=f/u/2)}return s}return n},e.prototype.contain=function(n,r){var i=this.transformCoordToLocal(n,r),a=this.getBoundingRect(),o=this.style;if(n=i[0],r=i[1],a.contain(n,r)){var s=this.path;if(this.hasStroke()){var u=o.lineWidth,f=o.strokeNoScale?this.getLineScale():1;if(f>1e-10&&(this.hasFill()||(u=Math.max(u,this.strokeContainThreshold)),xH(s,u/f,n,r)))return!0}if(this.hasFill())return _H(s,n,r)}return!1},e.prototype.dirtyShape=function(){this.__dirty|=go,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},e.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},e.prototype.animateShape=function(n){return this.animate("shape",n)},e.prototype.updateDuringAnimation=function(n){n==="style"?this.dirtyStyle():n==="shape"?this.dirtyShape():this.markRedraw()},e.prototype.attrKV=function(n,r){n==="shape"?this.setShape(r):t.prototype.attrKV.call(this,n,r)},e.prototype.setShape=function(n,r){var i=this.shape;return i||(i=this.shape={}),typeof n=="string"?i[n]=r:et(i,n),this.dirtyShape(),this},e.prototype.shapeChanged=function(){return!!(this.__dirty&go)},e.prototype.createStyle=function(n){return Dd(fD,n)},e.prototype._innerSaveToNormal=function(n){t.prototype._innerSaveToNormal.call(this,n);var r=this._normalState;n.shape&&!r.shape&&(r.shape=et({},this.shape))},e.prototype._applyStateObj=function(n,r,i,a,o,s){t.prototype._applyStateObj.call(this,n,r,i,a,o,s);var u=!(r&&a),f;if(r&&r.shape?o?a?f=r.shape:(f=et({},i.shape),et(f,r.shape)):(f=et({},a?this.shape:i.shape),et(f,r.shape)):u&&(f=i.shape),f)if(o){this.shape=et({},this.shape);for(var c={},d=jt(f),p=0;p<d.length;p++){var v=d[p];typeof f[v]=="object"?this.shape[v]=f[v]:c[v]=f[v]}this._transitionState(n,{shape:c},s)}else this.shape=f,this.dirtyShape()},e.prototype._mergeStates=function(n){for(var r=t.prototype._mergeStates.call(this,n),i,a=0;a<n.length;a++){var o=n[a];o.shape&&(i=i||{},this._mergeStyle(i,o.shape))}return i&&(r.shape=i),r},e.prototype.getAnimationStyleProps=function(){return wH},e.prototype.isZeroArea=function(){return!1},e.extend=function(n){var r=function(a){Yt(o,a);function o(s){var u=a.call(this,s)||this;return n.init&&n.init.call(u,s),u}return o.prototype.getDefaultStyle=function(){return wt(n.style)},o.prototype.getDefaultShape=function(){return wt(n.shape)},o}(e);for(var i in n)typeof n[i]=="function"&&(r.prototype[i]=n[i]);return r},e.initDefaultProps=function(){var n=e.prototype;n.type="path",n.strokeContainThreshold=5,n.segmentIgnoreThreshold=0,n.subPixelOptimize=!1,n.autoBatch=!1,n.__dirty=un|vu|go}(),e}(gs);const Rt=bH;var SH=bt({strokeFirst:!0,font:Ma,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},fD),cD=function(t){Yt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.hasStroke=function(){var n=this.style,r=n.stroke;return r!=null&&r!=="none"&&n.lineWidth>0},e.prototype.hasFill=function(){var n=this.style,r=n.fill;return r!=null&&r!=="none"},e.prototype.createStyle=function(n){return Dd(SH,n)},e.prototype.setBoundingRect=function(n){this._rect=n},e.prototype.getBoundingRect=function(){var n=this.style;if(!this._rect){var r=n.text;r!=null?r+="":r="";var i=Rd(r,n.font,n.textAlign,n.textBaseline);if(i.x+=n.x||0,i.y+=n.y||0,this.hasStroke()){var a=n.lineWidth;i.x-=a/2,i.y-=a/2,i.width+=a,i.height+=a}this._rect=i}return this._rect},e.initDefaultProps=function(){var n=e.prototype;n.dirtyRectTolerance=10}(),e}(gs);cD.prototype.type="tspan";const Q0=cD;var TH=bt({x:0,y:0},ca),AH={style:bt({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},Nd.style)};function CH(t){return!!(t&&typeof t!="string"&&t.width&&t.height)}var hD=function(t){Yt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createStyle=function(n){return Dd(TH,n)},e.prototype._getSize=function(n){var r=this.style,i=r[n];if(i!=null)return i;var a=CH(r.image)?r.image:this.__image;if(!a)return 0;var o=n==="width"?"height":"width",s=r[o];return s==null?a[n]:a[n]/a[o]*s},e.prototype.getWidth=function(){return this._getSize("width")},e.prototype.getHeight=function(){return this._getSize("height")},e.prototype.getAnimationStyleProps=function(){return AH},e.prototype.getBoundingRect=function(){var n=this.style;return this._rect||(this._rect=new Nt(n.x||0,n.y||0,this.getWidth(),this.getHeight())),this._rect},e}(gs);hD.prototype.type="image";const za=hD;function MH(t,e){var n=e.x,r=e.y,i=e.width,a=e.height,o=e.r,s,u,f,c;i<0&&(n=n+i,i=-i),a<0&&(r=r+a,a=-a),typeof o=="number"?s=u=f=c=o:o instanceof Array?o.length===1?s=u=f=c=o[0]:o.length===2?(s=f=o[0],u=c=o[1]):o.length===3?(s=o[0],u=c=o[1],f=o[2]):(s=o[0],u=o[1],f=o[2],c=o[3]):s=u=f=c=0;var d;s+u>i&&(d=s+u,s*=i/d,u*=i/d),f+c>i&&(d=f+c,f*=i/d,c*=i/d),u+f>a&&(d=u+f,u*=a/d,f*=a/d),s+c>a&&(d=s+c,s*=a/d,c*=a/d),t.moveTo(n+s,r),t.lineTo(n+i-u,r),u!==0&&t.arc(n+i-u,r+u,u,-Math.PI/2,0),t.lineTo(n+i,r+a-f),f!==0&&t.arc(n+i-f,r+a-f,f,0,Math.PI/2),t.lineTo(n+c,r+a),c!==0&&t.arc(n+c,r+a-c,c,Math.PI/2,Math.PI),t.lineTo(n,r+s),s!==0&&t.arc(n+s,r+s,s,Math.PI,Math.PI*1.5)}var Ao=Math.round;function dD(t,e,n){if(e){var r=e.x1,i=e.x2,a=e.y1,o=e.y2;t.x1=r,t.x2=i,t.y1=a,t.y2=o;var s=n&&n.lineWidth;return s&&(Ao(r*2)===Ao(i*2)&&(t.x1=t.x2=oa(r,s,!0)),Ao(a*2)===Ao(o*2)&&(t.y1=t.y2=oa(a,s,!0))),t}}function pD(t,e,n){if(e){var r=e.x,i=e.y,a=e.width,o=e.height;t.x=r,t.y=i,t.width=a,t.height=o;var s=n&&n.lineWidth;return s&&(t.x=oa(r,s,!0),t.y=oa(i,s,!0),t.width=Math.max(oa(r+a,s,!1)-t.x,a===0?0:1),t.height=Math.max(oa(i+o,s,!1)-t.y,o===0?0:1)),t}}function oa(t,e,n){if(!e)return t;var r=Ao(t*2);return(r+Ao(e))%2===0?r/2:(r+(n?1:-1))/2}var PH=function(){function t(){this.x=0,this.y=0,this.width=0,this.height=0}return t}(),LH={},vD=function(t){Yt(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getDefaultShape=function(){return new PH},e.prototype.buildPath=function(n,r){var i,a,o,s;if(this.subPixelOptimize){var u=pD(LH,r,this.style);i=u.x,a=u.y,o=u.width,s=u.height,u.r=r.r,r=u}else i=r.x,a=r.y,o=r.width,s=r.height;r.r?MH(n,r):n.rect(i,a,o,s)},e.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},e}(Rt);vD.prototype.type="rect";const ie=vD;var Mb={fill:"#000"},Pb=2,DH={style:bt({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},Nd.style)},gD=function(t){Yt(e,t);function e(n){var r=t.call(this)||this;return r.type="text",r._children=[],r._defaultStyle=Mb,r.attr(n),r}return e.prototype.childrenRef=function(){return this._children},e.prototype.update=function(){t.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var n=0;n<this._children.length;n++){var r=this._children[n];r.zlevel=this.zlevel,r.z=this.z,r.z2=this.z2,r.culling=this.culling,r.cursor=this.cursor,r.invisible=this.invisible}},e.prototype.updateTransform=function(){var n=this.innerTransformable;n?(n.updateTransform(),n.transform&&(this.transform=n.transform)):t.prototype.updateTransform.call(this)},e.prototype.getLocalTransform=function(n){var r=this.innerTransformable;return r?r.getLocalTransform(n):t.prototype.getLocalTransform.call(this,n)},e.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),t.prototype.getComputedTransform.call(this)},e.prototype._updateSubTexts=function(){this._childCursor=0,OH(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},e.prototype.addSelfToZr=function(n){t.prototype.addSelfToZr.call(this,n);for(var r=0;r<this._children.length;r++)this._children[r].__zr=n},e.prototype.removeSelfFromZr=function(n){t.prototype.removeSelfFromZr.call(this,n);for(var r=0;r<this._children.length;r++)this._children[r].__zr=null},e.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var n=new Nt(0,0,0,0),r=this._children,i=[],a=null,o=0;o<r.length;o++){var s=r[o],u=s.getBoundingRect(),f=s.getLocalTransform(i);f?(n.copy(u),n.applyTransform(f),a=a||n.clone(),a.union(n)):(a=a||u.clone(),a.union(u))}this._rect=a||n}return this._rect},e.prototype.setDefaultTextStyle=function(n){this._defaultStyle=n||Mb},e.prototype.setTextContent=function(n){},e.prototype._mergeStyle=function(n,r){if(!r)return n;var i=r.rich,a=n.rich||i&&{};return et(n,r),i&&a?(this._mergeRich(a,i),n.rich=a):a&&(n.rich=a),n},e.prototype._mergeRich=function(n,r){for(var i=jt(r),a=0;a<i.length;a++){var o=i[a];n[o]=n[o]||{},et(n[o],r[o])}},e.prototype.getAnimationStyleProps=function(){return DH},e.prototype._getOrCreateChild=function(n){var r=this._children[this._childCursor];return(!r||!(r instanceof n))&&(r=new n),this._children[this._childCursor++]=r,r.__zr=this.__zr,r.parent=this,r},e.prototype._updatePlainTexts=function(){var n=this.style,r=n.font||Ma,i=n.padding,a=Ob(n),o=Zz(a,n),s=Nv(n),u=!!n.backgroundColor,f=o.outerHeight,c=o.outerWidth,d=o.contentWidth,p=o.lines,v=o.lineHeight,y=this._defaultStyle,x=n.x||0,_=n.y||0,w=n.align||y.align||"left",b=n.verticalAlign||y.verticalAlign||"top",S=x,A=yo(_,o.contentHeight,b);if(s||i){var L=yu(x,c,w),P=yo(_,f,b);s&&this._renderBackground(n,n,L,P,c,f)}A+=v/2,i&&(S=kb(x,w,i),b==="top"?A+=i[0]:b==="bottom"&&(A-=i[2]));for(var E=0,O=!1,R=Rb("fill"in n?n.fill:(O=!0,y.fill)),C=Ib("stroke"in n?n.stroke:!u&&(!y.autoStroke||O)?(E=Pb,y.stroke):null),N=n.textShadowBlur>0,D=n.width!=null&&(n.overflow==="truncate"||n.overflow==="break"||n.overflow==="breakAll"),G=o.calculatedLineHeight,X=0;X<p.length;X++){var H=this._getOrCreateChild(Q0),W=H.createStyle();H.useStyle(W),W.text=p[X],W.x=S,W.y=A,w&&(W.textAlign=w),W.textBaseline="middle",W.opacity=n.opacity,W.strokeFirst=!0,N&&(W.shadowBlur=n.textShadowBlur||0,W.shadowColor=n.textShadowColor||"transparent",W.shadowOffsetX=n.textShadowOffsetX||0,W.shadowOffsetY=n.textShadowOffsetY||0),W.stroke=C,W.fill=R,C&&(W.lineWidth=n.lineWidth||E,W.lineDash=n.lineDash,W.lineDashOffset=n.lineDashOffset||0),W.font=r,Db(W,n),A+=v,D&&H.setBoundingRect(new Nt(yu(W.x,n.width,W.textAlign),yo(W.y,G,W.textBaseline),d,G))}},e.prototype._updateRichTexts=function(){var n=this.style,r=Ob(n),i=jz(r,n),a=i.width,o=i.outerWidth,s=i.outerHeight,u=n.padding,f=n.x||0,c=n.y||0,d=this._defaultStyle,p=n.align||d.align,v=n.verticalAlign||d.verticalAlign,y=yu(f,o,p),x=yo(c,s,v),_=y,w=x;u&&(_+=u[3],w+=u[0]);var b=_+a;Nv(n)&&this._renderBackground(n,n,y,x,o,s);for(var S=!!n.backgroundColor,A=0;A<i.lines.length;A++){for(var L=i.lines[A],P=L.tokens,E=P.length,O=L.lineHeight,R=L.width,C=0,N=_,D=b,G=E-1,X=void 0;C<E&&(X=P[C],!X.align||X.align==="left");)this._placeToken(X,n,O,w,N,"left",S),R-=X.width,N+=X.width,C++;for(;G>=0&&(X=P[G],X.align==="right");)this._placeToken(X,n,O,w,D,"right",S),R-=X.width,D-=X.width,G--;for(N+=(a-(N-_)-(b-D)-R)/2;C<=G;)X=P[C],this._placeToken(X,n,O,w,N+X.width/2,"center",S),N+=X.width,C++;w+=O}},e.prototype._placeToken=function(n,r,i,a,o,s,u){var f=r.rich[n.styleName]||{};f.text=n.text;var c=n.verticalAlign,d=a+i/2;c==="top"?d=a+n.height/2:c==="bottom"&&(d=a+i-n.height/2);var p=!n.isLineHolder&&Nv(f);p&&this._renderBackground(f,r,s==="right"?o-n.width:s==="center"?o-n.width/2:o,d-n.height/2,n.width,n.height);var v=!!f.backgroundColor,y=n.textPadding;y&&(o=kb(o,s,y),d-=n.height/2-y[0]-n.innerHeight/2);var x=this._getOrCreateChild(Q0),_=x.createStyle();x.useStyle(_);var w=this._defaultStyle,b=!1,S=0,A=Rb("fill"in f?f.fill:"fill"in r?r.fill:(b=!0,w.fill)),L=Ib("stroke"in f?f.stroke:"stroke"in r?r.stroke:!v&&!u&&(!w.autoStroke||b)?(S=Pb,w.stroke):null),P=f.textShadowBlur>0||r.textShadowBlur>0;_.text=n.text,_.x=o,_.y=d,P&&(_.shadowBlur=f.textShadowBlur||r.textShadowBlur||0,_.shadowColor=f.textShadowColor||r.textShadowColor||"transparent",_.shadowOffsetX=f.textShadowOffsetX||r.textShadowOffsetX||0,_.shadowOffsetY=f.textShadowOffsetY||r.textShadowOffsetY||0),_.textAlign=s,_.textBaseline="middle",_.font=n.font||Ma,_.opacity=hc(f.opacity,r.opacity,1),Db(_,f),L&&(_.lineWidth=hc(f.lineWidth,r.lineWidth,S),_.lineDash=Vt(f.lineDash,r.lineDash),_.lineDashOffset=r.lineDashOffset||0,_.stroke=L),A&&(_.fill=A);var E=n.contentWidth,O=n.contentHeight;x.setBoundingRect(new Nt(yu(_.x,E,_.textAlign),yo(_.y,O,_.textBaseline),E,O))},e.prototype._renderBackground=function(n,r,i,a,o,s){var u=n.backgroundColor,f=n.borderWidth,c=n.borderColor,d=u&&u.image,p=u&&!d,v=n.borderRadius,y=this,x,_;if(p||n.lineHeight||f&&c){x=this._getOrCreateChild(ie),x.useStyle(x.createStyle()),x.style.fill=null;var w=x.shape;w.x=i,w.y=a,w.width=o,w.height=s,w.r=v,x.dirtyShape()}if(p){var b=x.style;b.fill=u||null,b.fillOpacity=Vt(n.fillOpacity,1)}else if(d){_=this._getOrCreateChild(za),_.onload=function(){y.dirtyStyle()};var S=_.style;S.image=u.image,S.x=i,S.y=a,S.width=o,S.height=s}if(f&&c){var b=x.style;b.lineWidth=f,b.stroke=c,b.strokeOpacity=Vt(n.strokeOpacity,1),b.lineDash=n.borderDash,b.lineDashOffset=n.borderDashOffset||0,x.strokeContainThreshold=0,x.hasFill()&&x.hasStroke()&&(b.strokeFirst=!0,b.lineWidth*=2)}var A=(x||_).style;A.shadowBlur=n.shadowBlur||0,A.shadowColor=n.shadowColor||"transparent",A.shadowOffsetX=n.shadowOffsetX||0,A.shadowOffsetY=n.shadowOffsetY||0,A.opacity=hc(n.opacity,r.opacity,1)},e.makeFont=function(n){var r="";return kH(n)&&(r=[n.fontStyle,n.fontWeight,RH(n.fontSize),n.fontFamily||"sans-serif"].join(" ")),r&&ar(r)||n.textFont||n.font},e}(gs),EH={left:!0,right:1,center:1},IH={top:1,bottom:1,middle:1},Lb=["fontStyle","fontWeight","fontSize","fontFamily"];function RH(t){return typeof t=="string"&&(t.indexOf("px")!==-1||t.indexOf("rem")!==-1||t.indexOf("em")!==-1)?t:isNaN(+t)?o_+"px":t+"px"}function Db(t,e){for(var n=0;n<Lb.length;n++){var r=Lb[n],i=e[r];i!=null&&(t[r]=i)}}function kH(t){return t.fontSize!=null||t.fontFamily||t.fontWeight}function OH(t){return Eb(t),Y(t.rich,Eb),t}function Eb(t){if(t){t.font=gD.makeFont(t);var e=t.align;e==="middle"&&(e="center"),t.align=e==null||EH[e]?e:"left";var n=t.verticalAlign;n==="center"&&(n="middle"),t.verticalAlign=n==null||IH[n]?n:"top";var r=t.padding;r&&(t.padding=xL(t.padding))}}function Ib(t,e){return t==null||e<=0||t==="transparent"||t==="none"?null:t.image||t.colorStops?"#000":t}function Rb(t){return t==null||t==="none"?null:t.image||t.colorStops?"#000":t}function kb(t,e,n){return e==="right"?t-n[1]:e==="center"?t+n[3]/2-n[1]/2:t+n[3]}function Ob(t){var e=t.text;return e!=null&&(e+=""),e}function Nv(t){return!!(t.backgroundColor||t.lineHeight||t.borderWidth&&t.borderColor)}const ze=gD;var Ut=ae(),NH=function(t,e,n,r){if(r){var i=Ut(r);i.dataIndex=n,i.dataType=e,i.seriesIndex=t,r.type==="group"&&r.traverse(function(a){var o=Ut(a);o.seriesIndex=t,o.dataIndex=n,o.dataType=e})}},Nb=1,$b={},yD=ae(),b_=ae(),S_=0,$d=1,Gd=2,hr=["emphasis","blur","select"],Gb=["normal","emphasis","blur","select"],$H=10,GH=9,ha="highlight",xc="downplay",Ru="select",wc="unselect",ku="toggleSelect";function no(t){return t!=null&&t!=="none"}var Vb=new $l(100);function Fb(t){if(ut(t)){var e=Vb.get(t);return e||(e=rb(t,-.1),Vb.put(t,e)),e}else if(Ld(t)){var n=et({},t);return n.colorStops=at(t.colorStops,function(r){return{offset:r.offset,color:rb(r.color,-.1)}}),n}return t}function Vd(t,e,n){t.onHoverStateChange&&(t.hoverState||0)!==n&&t.onHoverStateChange(e),t.hoverState=n}function mD(t){Vd(t,"emphasis",Gd)}function _D(t){t.hoverState===Gd&&Vd(t,"normal",S_)}function T_(t){Vd(t,"blur",$d)}function xD(t){t.hoverState===$d&&Vd(t,"normal",S_)}function VH(t){t.selected=!0}function FH(t){t.selected=!1}function Bb(t,e,n){e(t,n)}function Vr(t,e,n){Bb(t,e,n),t.isGroup&&t.traverse(function(r){Bb(r,e,n)})}function zb(t,e){switch(e){case"emphasis":t.hoverState=Gd;break;case"normal":t.hoverState=S_;break;case"blur":t.hoverState=$d;break;case"select":t.selected=!0}}function BH(t,e,n,r){for(var i=t.style,a={},o=0;o<e.length;o++){var s=e[o],u=i[s];a[s]=u??(r&&r[s])}for(var o=0;o<t.animators.length;o++){var f=t.animators[o];f.__fromStateTransition&&f.__fromStateTransition.indexOf(n)<0&&f.targetName==="style"&&f.saveTo(a,e)}return a}function zH(t,e,n,r){var i=n&&Ot(n,"select")>=0,a=!1;if(t instanceof Rt){var o=yD(t),s=i&&o.selectFill||o.normalFill,u=i&&o.selectStroke||o.normalStroke;if(no(s)||no(u)){r=r||{};var f=r.style||{};f.fill==="inherit"?(a=!0,r=et({},r),f=et({},f),f.fill=s):!no(f.fill)&&no(s)?(a=!0,r=et({},r),f=et({},f),f.fill=Fb(s)):!no(f.stroke)&&no(u)&&(a||(r=et({},r),f=et({},f)),f.stroke=Fb(u)),r.style=f}}if(r&&r.z2==null){a||(r=et({},r));var c=t.z2EmphasisLift;r.z2=t.z2+(c??$H)}return r}function HH(t,e,n){if(n&&n.z2==null){n=et({},n);var r=t.z2SelectLift;n.z2=t.z2+(r??GH)}return n}function YH(t,e,n){var r=Ot(t.currentStates,e)>=0,i=t.style.opacity,a=r?null:BH(t,["opacity"],e,{opacity:1});n=n||{};var o=n.style||{};return o.opacity==null&&(n=et({},n),o=et({opacity:r?i:a.opacity*.1},o),n.style=o),n}function $v(t,e){var n=this.states[t];if(this.style){if(t==="emphasis")return zH(this,t,e,n);if(t==="blur")return YH(this,t,n);if(t==="select")return HH(this,t,n)}return n}function XH(t){t.stateProxy=$v;var e=t.getTextContent(),n=t.getTextGuideLine();e&&(e.stateProxy=$v),n&&(n.stateProxy=$v)}function Hb(t,e){!TD(t,e)&&!t.__highByOuter&&Vr(t,mD)}function Yb(t,e){!TD(t,e)&&!t.__highByOuter&&Vr(t,_D)}function jo(t,e){t.__highByOuter|=1<<(e||0),Vr(t,mD)}function Jo(t,e){!(t.__highByOuter&=~(1<<(e||0)))&&Vr(t,_D)}function UH(t){Vr(t,T_)}function wD(t){Vr(t,xD)}function bD(t){Vr(t,VH)}function SD(t){Vr(t,FH)}function TD(t,e){return t.__highDownSilentOnTouch&&e.zrByTouch}function AD(t){var e=t.getModel(),n=[],r=[];e.eachComponent(function(i,a){var o=b_(a),s=i==="series",u=s?t.getViewOfSeriesModel(a):t.getViewOfComponentModel(a);!s&&r.push(u),o.isBlured&&(u.group.traverse(function(f){xD(f)}),s&&n.push(a)),o.isBlured=!1}),Y(r,function(i){i&&i.toggleBlurSeries&&i.toggleBlurSeries(n,!1,e)})}function K0(t,e,n,r){var i=r.getModel();n=n||"coordinateSystem";function a(f,c){for(var d=0;d<c.length;d++){var p=f.getItemGraphicEl(c[d]);p&&wD(p)}}if(t!=null&&!(!e||e==="none")){var o=i.getSeriesByIndex(t),s=o.coordinateSystem;s&&s.master&&(s=s.master);var u=[];i.eachSeries(function(f){var c=o===f,d=f.coordinateSystem;d&&d.master&&(d=d.master);var p=d&&s?d===s:c;if(!(n==="series"&&!c||n==="coordinateSystem"&&!p||e==="series"&&c)){var v=r.getViewOfSeriesModel(f);if(v.group.traverse(function(_){T_(_)}),en(e))a(f.getData(),e);else if(pt(e))for(var y=jt(e),x=0;x<y.length;x++)a(f.getData(y[x]),e[y[x]]);u.push(f),b_(f).isBlured=!0}}),i.eachComponent(function(f,c){if(f!=="series"){var d=r.getViewOfComponentModel(c);d&&d.toggleBlurSeries&&d.toggleBlurSeries(u,!0,i)}})}}function j0(t,e,n){if(!(t==null||e==null)){var r=n.getModel().getComponent(t,e);if(r){b_(r).isBlured=!0;var i=n.getViewOfComponentModel(r);!i||!i.focusBlurEnabled||i.group.traverse(function(a){T_(a)})}}}function WH(t,e,n){var r=t.seriesIndex,i=t.getData(e.dataType);if(i){var a=Pa(i,e);a=(nt(a)?a[0]:a)||0;var o=i.getItemGraphicEl(a);if(!o)for(var s=i.count(),u=0;!o&&u<s;)o=i.getItemGraphicEl(u++);if(o){var f=Ut(o);K0(r,f.focus,f.blurScope,n)}else{var c=t.get(["emphasis","focus"]),d=t.get(["emphasis","blurScope"]);c!=null&&K0(r,c,d,n)}}}function A_(t,e,n,r){var i={focusSelf:!1,dispatchers:null};if(t==null||t==="series"||e==null||n==null)return i;var a=r.getModel().getComponent(t,e);if(!a)return i;var o=r.getViewOfComponentModel(a);if(!o||!o.findHighDownDispatchers)return i;for(var s=o.findHighDownDispatchers(n),u,f=0;f<s.length;f++)if(Ut(s[f]).focus==="self"){u=!0;break}return{focusSelf:u,dispatchers:s}}function qH(t,e,n){var r=Ut(t),i=A_(r.componentMainType,r.componentIndex,r.componentHighDownName,n),a=i.dispatchers,o=i.focusSelf;a?(o&&j0(r.componentMainType,r.componentIndex,n),Y(a,function(s){return Hb(s,e)})):(K0(r.seriesIndex,r.focus,r.blurScope,n),r.focus==="self"&&j0(r.componentMainType,r.componentIndex,n),Hb(t,e))}function ZH(t,e,n){AD(n);var r=Ut(t),i=A_(r.componentMainType,r.componentIndex,r.componentHighDownName,n).dispatchers;i?Y(i,function(a){return Yb(a,e)}):Yb(t,e)}function QH(t,e,n){if(ny(e)){var r=e.dataType,i=t.getData(r),a=Pa(i,e);nt(a)||(a=[a]),t[e.type===ku?"toggleSelect":e.type===Ru?"select":"unselect"](a,r)}}function Xb(t){var e=t.getAllData();Y(e,function(n){var r=n.data,i=n.type;r.eachItemGraphicEl(function(a,o){t.isSelected(o,i)?bD(a):SD(a)})})}function KH(t){var e=[];return t.eachSeries(function(n){var r=n.getAllData();Y(r,function(i){i.data;var a=i.type,o=n.getSelectedDataIndices();if(o.length>0){var s={dataIndex:o,seriesIndex:n.seriesIndex};a!=null&&(s.dataType=a),e.push(s)}})}),e}function J0(t,e,n){CD(t,!0),Vr(t,XH),JH(t,e,n)}function jH(t){CD(t,!1)}function Ih(t,e,n,r){r?jH(t):J0(t,e,n)}function JH(t,e,n){var r=Ut(t);e!=null?(r.focus=e,r.blurScope=n):r.focus&&(r.focus=null)}var Ub=["emphasis","blur","select"],tY={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function ty(t,e,n,r){n=n||"itemStyle";for(var i=0;i<Ub.length;i++){var a=Ub[i],o=e.getModel([a,n]),s=t.ensureState(a);s.style=r?r(o):o[tY[n]]()}}function CD(t,e){var n=e===!1,r=t;t.highDownSilentOnTouch&&(r.__highDownSilentOnTouch=t.highDownSilentOnTouch),(!n||r.__highDownDispatcher)&&(r.__highByOuter=r.__highByOuter||0,r.__highDownDispatcher=!n)}function ey(t){return!!(t&&t.__highDownDispatcher)}function eY(t){var e=$b[t];return e==null&&Nb<=32&&(e=$b[t]=Nb++),e}function ny(t){var e=t.type;return e===Ru||e===wc||e===ku}function Wb(t){var e=t.type;return e===ha||e===xc}function nY(t){var e=yD(t);e.normalFill=t.style.fill,e.normalStroke=t.style.stroke;var n=t.states.select||{};e.selectFill=n.style&&n.style.fill||null,e.selectStroke=n.style&&n.style.stroke||null}var ro=xi.CMD,rY=[[],[],[]],qb=Math.sqrt,iY=Math.atan2;function MD(t,e){if(e){var n=t.data,r=t.len(),i,a,o,s,u,f,c=ro.M,d=ro.C,p=ro.L,v=ro.R,y=ro.A,x=ro.Q;for(o=0,s=0;o<r;){switch(i=n[o++],s=o,a=0,i){case c:a=1;break;case p:a=1;break;case d:a=3;break;case x:a=2;break;case y:var _=e[4],w=e[5],b=qb(e[0]*e[0]+e[1]*e[1]),S=qb(e[2]*e[2]+e[3]*e[3]),A=iY(-e[1]/S,e[0]/b);n[o]*=b,n[o++]+=_,n[o]*=S,n[o++]+=w,n[o++]*=b,n[o++]*=S,n[o++]+=A,n[o++]+=A,o+=2,s=o;break;case v:f[0]=n[o++],f[1]=n[o++],Pn(f,f,e),n[s++]=f[0],n[s++]=f[1],f[0]+=n[o++],f[1]+=n[o++],Pn(f,f,e),n[s++]=f[0],n[s++]=f[1]}for(u=0;u<a;u++){var L=rY[u];L[0]=n[o++],L[1]=n[o++],Pn(L,L,e),n[s++]=L[0],n[s++]=L[1]}}t.increaseVersion()}}var Gv=Math.sqrt,Pf=Math.sin,Lf=Math.cos,Vs=Math.PI;function Zb(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function ry(t,e){return(t[0]*e[0]+t[1]*e[1])/(Zb(t)*Zb(e))}function Qb(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(ry(t,e))}function Kb(t,e,n,r,i,a,o,s,u,f,c){var d=u*(Vs/180),p=Lf(d)*(t-n)/2+Pf(d)*(e-r)/2,v=-1*Pf(d)*(t-n)/2+Lf(d)*(e-r)/2,y=p*p/(o*o)+v*v/(s*s);y>1&&(o*=Gv(y),s*=Gv(y));var x=(i===a?-1:1)*Gv((o*o*(s*s)-o*o*(v*v)-s*s*(p*p))/(o*o*(v*v)+s*s*(p*p)))||0,_=x*o*v/s,w=x*-s*p/o,b=(t+n)/2+Lf(d)*_-Pf(d)*w,S=(e+r)/2+Pf(d)*_+Lf(d)*w,A=Qb([1,0],[(p-_)/o,(v-w)/s]),L=[(p-_)/o,(v-w)/s],P=[(-1*p-_)/o,(-1*v-w)/s],E=Qb(L,P);if(ry(L,P)<=-1&&(E=Vs),ry(L,P)>=1&&(E=0),E<0){var O=Math.round(E/Vs*1e6)/1e6;E=Vs*2+O%2*Vs}c.addData(f,b,S,o,s,A,E,d,a)}var aY=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,oY=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function sY(t){var e=new xi;if(!t)return e;var n=0,r=0,i=n,a=r,o,s=xi.CMD,u=t.match(aY);if(!u)return e;for(var f=0;f<u.length;f++){for(var c=u[f],d=c.charAt(0),p=void 0,v=c.match(oY)||[],y=v.length,x=0;x<y;x++)v[x]=parseFloat(v[x]);for(var _=0;_<y;){var w=void 0,b=void 0,S=void 0,A=void 0,L=void 0,P=void 0,E=void 0,O=n,R=r,C=void 0,N=void 0;switch(d){case"l":n+=v[_++],r+=v[_++],p=s.L,e.addData(p,n,r);break;case"L":n=v[_++],r=v[_++],p=s.L,e.addData(p,n,r);break;case"m":n+=v[_++],r+=v[_++],p=s.M,e.addData(p,n,r),i=n,a=r,d="l";break;case"M":n=v[_++],r=v[_++],p=s.M,e.addData(p,n,r),i=n,a=r,d="L";break;case"h":n+=v[_++],p=s.L,e.addData(p,n,r);break;case"H":n=v[_++],p=s.L,e.addData(p,n,r);break;case"v":r+=v[_++],p=s.L,e.addData(p,n,r);break;case"V":r=v[_++],p=s.L,e.addData(p,n,r);break;case"C":p=s.C,e.addData(p,v[_++],v[_++],v[_++],v[_++],v[_++],v[_++]),n=v[_-2],r=v[_-1];break;case"c":p=s.C,e.addData(p,v[_++]+n,v[_++]+r,v[_++]+n,v[_++]+r,v[_++]+n,v[_++]+r),n+=v[_-2],r+=v[_-1];break;case"S":w=n,b=r,C=e.len(),N=e.data,o===s.C&&(w+=n-N[C-4],b+=r-N[C-3]),p=s.C,O=v[_++],R=v[_++],n=v[_++],r=v[_++],e.addData(p,w,b,O,R,n,r);break;case"s":w=n,b=r,C=e.len(),N=e.data,o===s.C&&(w+=n-N[C-4],b+=r-N[C-3]),p=s.C,O=n+v[_++],R=r+v[_++],n+=v[_++],r+=v[_++],e.addData(p,w,b,O,R,n,r);break;case"Q":O=v[_++],R=v[_++],n=v[_++],r=v[_++],p=s.Q,e.addData(p,O,R,n,r);break;case"q":O=v[_++]+n,R=v[_++]+r,n+=v[_++],r+=v[_++],p=s.Q,e.addData(p,O,R,n,r);break;case"T":w=n,b=r,C=e.len(),N=e.data,o===s.Q&&(w+=n-N[C-4],b+=r-N[C-3]),n=v[_++],r=v[_++],p=s.Q,e.addData(p,w,b,n,r);break;case"t":w=n,b=r,C=e.len(),N=e.data,o===s.Q&&(w+=n-N[C-4],b+=r-N[C-3]),n+=v[_++],r+=v[_++],p=s.Q,e.addData(p,w,b,n,r);break;case"A":S=v[_++],A=v[_++],L=v[_++],P=v[_++],E=v[_++],O=n,R=r,n=v[_++],r=v[_++],p=s.A,Kb(O,R,n,r,P,E,S,A,L,p,e);break;case"a":S=v[_++],A=v[_++],L=v[_++],P=v[_++],E=v[_++],O=n,R=r,n+=v[_++],r+=v[_++],p=s.A,Kb(O,R,n,r,P,E,S,A,L,p,e);break}}(d==="z"||d==="Z")&&(p=s.Z,e.addData(p),n=i,r=a),o=p}return e.toStatic(),e}var PD=function(t){Yt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.applyTransform=function(n){},e}(Rt);function LD(t){return t.setData!=null}function DD(t,e){var n=sY(t),r=et({},e);return r.buildPath=function(i){if(LD(i)){i.setData(n.data);var a=i.getContext();a&&i.rebuildPath(a,1)}else{var a=i;n.rebuildPath(a,1)}},r.applyTransform=function(i){MD(n,i),this.dirtyShape()},r}function uY(t,e){return new PD(DD(t,e))}function lY(t,e){var n=DD(t,e),r=function(i){Yt(a,i);function a(o){var s=i.call(this,o)||this;return s.applyTransform=n.applyTransform,s.buildPath=n.buildPath,s}return a}(PD);return r}function fY(t,e){for(var n=[],r=t.length,i=0;i<r;i++){var a=t[i];n.push(a.getUpdatedPathProxy(!0))}var o=new Rt(e);return o.createPathProxy(),o.buildPath=function(s){if(LD(s)){s.appendPath(n);var u=s.getContext();u&&s.rebuildPath(u,1)}},o}function C_(t,e){e=e||{};var n=new Rt;return t.shape&&n.setShape(t.shape),n.setStyle(t.style),e.bakeTransform?MD(n.path,t.getComputedTransform()):e.toLocal?n.setLocalTransform(t.getComputedTransform()):n.copyTransform(t),n.buildPath=t.buildPath,n.applyTransform=n.applyTransform,n.z=t.z,n.z2=t.z2,n.zlevel=t.zlevel,n}var cY=function(){function t(){this.cx=0,this.cy=0,this.r=0}return t}(),ED=function(t){Yt(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getDefaultShape=function(){return new cY},e.prototype.buildPath=function(n,r){n.moveTo(r.cx+r.r,r.cy),n.arc(r.cx,r.cy,r.r,0,Math.PI*2)},e}(Rt);ED.prototype.type="circle";const M_=ED;var hY=function(){function t(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return t}(),ID=function(t){Yt(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getDefaultShape=function(){return new hY},e.prototype.buildPath=function(n,r){var i=.5522848,a=r.cx,o=r.cy,s=r.rx,u=r.ry,f=s*i,c=u*i;n.moveTo(a-s,o),n.bezierCurveTo(a-s,o-c,a-f,o-u,a,o-u),n.bezierCurveTo(a+f,o-u,a+s,o-c,a+s,o),n.bezierCurveTo(a+s,o+c,a+f,o+u,a,o+u),n.bezierCurveTo(a-f,o+u,a-s,o+c,a-s,o),n.closePath()},e}(Rt);ID.prototype.type="ellipse";const RD=ID;var kD=Math.PI,Vv=kD*2,zi=Math.sin,io=Math.cos,dY=Math.acos,be=Math.atan2,jb=Math.abs,Ou=Math.sqrt,mu=Math.max,jn=Math.min,Rn=1e-4;function pY(t,e,n,r,i,a,o,s){var u=n-t,f=r-e,c=o-i,d=s-a,p=d*u-c*f;if(!(p*p<Rn))return p=(c*(e-a)-d*(t-i))/p,[t+p*u,e+p*f]}function Df(t,e,n,r,i,a,o){var s=t-n,u=e-r,f=(o?a:-a)/Ou(s*s+u*u),c=f*u,d=-f*s,p=t+c,v=e+d,y=n+c,x=r+d,_=(p+y)/2,w=(v+x)/2,b=y-p,S=x-v,A=b*b+S*S,L=i-a,P=p*x-y*v,E=(S<0?-1:1)*Ou(mu(0,L*L*A-P*P)),O=(P*S-b*E)/A,R=(-P*b-S*E)/A,C=(P*S+b*E)/A,N=(-P*b+S*E)/A,D=O-_,G=R-w,X=C-_,H=N-w;return D*D+G*G>X*X+H*H&&(O=C,R=N),{cx:O,cy:R,x0:-c,y0:-d,x1:O*(i/L-1),y1:R*(i/L-1)}}function vY(t){var e;if(nt(t)){var n=t.length;if(!n)return t;n===1?e=[t[0],t[0],0,0]:n===2?e=[t[0],t[0],t[1],t[1]]:n===3?e=t.concat(t[2]):e=t}else e=[t,t,t,t];return e}function gY(t,e){var n,r=mu(e.r,0),i=mu(e.r0||0,0),a=r>0,o=i>0;if(!(!a&&!o)){if(a||(r=i,i=0),i>r){var s=r;r=i,i=s}var u=e.startAngle,f=e.endAngle;if(!(isNaN(u)||isNaN(f))){var c=e.cx,d=e.cy,p=!!e.clockwise,v=jb(f-u),y=v>Vv&&v%Vv;if(y>Rn&&(v=y),!(r>Rn))t.moveTo(c,d);else if(v>Vv-Rn)t.moveTo(c+r*io(u),d+r*zi(u)),t.arc(c,d,r,u,f,!p),i>Rn&&(t.moveTo(c+i*io(f),d+i*zi(f)),t.arc(c,d,i,f,u,p));else{var x=void 0,_=void 0,w=void 0,b=void 0,S=void 0,A=void 0,L=void 0,P=void 0,E=void 0,O=void 0,R=void 0,C=void 0,N=void 0,D=void 0,G=void 0,X=void 0,H=r*io(u),W=r*zi(u),K=i*io(f),Q=i*zi(f),l=v>Rn;if(l){var h=e.cornerRadius;h&&(n=vY(h),x=n[0],_=n[1],w=n[2],b=n[3]);var g=jb(r-i)/2;if(S=jn(g,w),A=jn(g,b),L=jn(g,x),P=jn(g,_),R=E=mu(S,A),C=O=mu(L,P),(E>Rn||O>Rn)&&(N=r*io(f),D=r*zi(f),G=i*io(u),X=i*zi(u),v<kD)){var m=pY(H,W,G,X,N,D,K,Q);if(m){var T=H-m[0],M=W-m[1],I=N-m[0],k=D-m[1],V=1/zi(dY((T*I+M*k)/(Ou(T*T+M*M)*Ou(I*I+k*k)))/2),$=Ou(m[0]*m[0]+m[1]*m[1]);R=jn(E,(r-$)/(V+1)),C=jn(O,(i-$)/(V-1))}}}if(!l)t.moveTo(c+H,d+W);else if(R>Rn){var F=jn(w,R),z=jn(b,R),U=Df(G,X,H,W,r,F,p),B=Df(N,D,K,Q,r,z,p);t.moveTo(c+U.cx+U.x0,d+U.cy+U.y0),R<E&&F===z?t.arc(c+U.cx,d+U.cy,R,be(U.y0,U.x0),be(B.y0,B.x0),!p):(F>0&&t.arc(c+U.cx,d+U.cy,F,be(U.y0,U.x0),be(U.y1,U.x1),!p),t.arc(c,d,r,be(U.cy+U.y1,U.cx+U.x1),be(B.cy+B.y1,B.cx+B.x1),!p),z>0&&t.arc(c+B.cx,d+B.cy,z,be(B.y1,B.x1),be(B.y0,B.x0),!p))}else t.moveTo(c+H,d+W),t.arc(c,d,r,u,f,!p);if(!(i>Rn)||!l)t.lineTo(c+K,d+Q);else if(C>Rn){var F=jn(x,C),z=jn(_,C),U=Df(K,Q,N,D,i,-z,p),B=Df(H,W,G,X,i,-F,p);t.lineTo(c+U.cx+U.x0,d+U.cy+U.y0),C<O&&F===z?t.arc(c+U.cx,d+U.cy,C,be(U.y0,U.x0),be(B.y0,B.x0),!p):(z>0&&t.arc(c+U.cx,d+U.cy,z,be(U.y0,U.x0),be(U.y1,U.x1),!p),t.arc(c,d,i,be(U.cy+U.y1,U.cx+U.x1),be(B.cy+B.y1,B.cx+B.x1),p),F>0&&t.arc(c+B.cx,d+B.cy,F,be(B.y1,B.x1),be(B.y0,B.x0),!p))}else t.lineTo(c+K,d+Q),t.arc(c,d,i,f,u,p)}t.closePath()}}}var yY=function(){function t(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return t}(),OD=function(t){Yt(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getDefaultShape=function(){return new yY},e.prototype.buildPath=function(n,r){gY(n,r)},e.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},e}(Rt);OD.prototype.type="sector";const La=OD;var mY=function(){function t(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return t}(),ND=function(t){Yt(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getDefaultShape=function(){return new mY},e.prototype.buildPath=function(n,r){var i=r.cx,a=r.cy,o=Math.PI*2;n.moveTo(i+r.r,a),n.arc(i,a,r.r,0,o,!1),n.moveTo(i+r.r0,a),n.arc(i,a,r.r0,0,o,!0)},e}(Rt);ND.prototype.type="ring";const $D=ND;function _Y(t,e,n,r){var i=[],a=[],o=[],s=[],u,f,c,d;if(r){c=[1/0,1/0],d=[-1/0,-1/0];for(var p=0,v=t.length;p<v;p++)bo(c,c,t[p]),So(d,d,t[p]);bo(c,c,r[0]),So(d,d,r[1])}for(var p=0,v=t.length;p<v;p++){var y=t[p];if(n)u=t[p?p-1:v-1],f=t[(p+1)%v];else if(p===0||p===v-1){i.push(BF(t[p]));continue}else u=t[p-1],f=t[p+1];zF(a,f,u),iv(a,a,e);var x=D0(y,u),_=D0(y,f),w=x+_;w!==0&&(x/=w,_/=w),iv(o,a,-x),iv(s,a,_);var b=zw([],y,o),S=zw([],y,s);r&&(So(b,b,c),bo(b,b,d),So(S,S,c),bo(S,S,d)),i.push(b),i.push(S)}return n&&i.push(i.shift()),i}function GD(t,e,n){var r=e.smooth,i=e.points;if(i&&i.length>=2){if(r){var a=_Y(i,r,n,e.smoothConstraint);t.moveTo(i[0][0],i[0][1]);for(var o=i.length,s=0;s<(n?o:o-1);s++){var u=a[s*2],f=a[s*2+1],c=i[(s+1)%o];t.bezierCurveTo(u[0],u[1],f[0],f[1],c[0],c[1])}}else{t.moveTo(i[0][0],i[0][1]);for(var s=1,d=i.length;s<d;s++)t.lineTo(i[s][0],i[s][1])}n&&t.closePath()}}var xY=function(){function t(){this.points=null,this.smooth=0,this.smoothConstraint=null}return t}(),VD=function(t){Yt(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getDefaultShape=function(){return new xY},e.prototype.buildPath=function(n,r){GD(n,r,!0)},e}(Rt);VD.prototype.type="polygon";const Fd=VD;var wY=function(){function t(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return t}(),FD=function(t){Yt(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new wY},e.prototype.buildPath=function(n,r){GD(n,r,!1)},e}(Rt);FD.prototype.type="polyline";const P_=FD;var bY={},SY=function(){function t(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return t}(),BD=function(t){Yt(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new SY},e.prototype.buildPath=function(n,r){var i,a,o,s;if(this.subPixelOptimize){var u=dD(bY,r,this.style);i=u.x1,a=u.y1,o=u.x2,s=u.y2}else i=r.x1,a=r.y1,o=r.x2,s=r.y2;var f=r.percent;f!==0&&(n.moveTo(i,a),f<1&&(o=i*(1-f)+o*f,s=a*(1-f)+s*f),n.lineTo(o,s))},e.prototype.pointAt=function(n){var r=this.shape;return[r.x1*(1-n)+r.x2*n,r.y1*(1-n)+r.y2*n]},e}(Rt);BD.prototype.type="line";const Da=BD;var Ue=[],TY=function(){function t(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return t}();function Jb(t,e,n){var r=t.cpx2,i=t.cpy2;return r!=null||i!=null?[(n?Jw:le)(t.x1,t.cpx1,t.cpx2,t.x2,e),(n?Jw:le)(t.y1,t.cpy1,t.cpy2,t.y2,e)]:[(n?tb:Ce)(t.x1,t.cpx1,t.x2,e),(n?tb:Ce)(t.y1,t.cpy1,t.y2,e)]}var zD=function(t){Yt(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new TY},e.prototype.buildPath=function(n,r){var i=r.x1,a=r.y1,o=r.x2,s=r.y2,u=r.cpx1,f=r.cpy1,c=r.cpx2,d=r.cpy2,p=r.percent;p!==0&&(n.moveTo(i,a),c==null||d==null?(p<1&&(Ch(i,u,o,p,Ue),u=Ue[1],o=Ue[2],Ch(a,f,s,p,Ue),f=Ue[1],s=Ue[2]),n.quadraticCurveTo(u,f,o,s)):(p<1&&(mi(i,u,c,o,p,Ue),u=Ue[1],c=Ue[2],o=Ue[3],mi(a,f,d,s,p,Ue),f=Ue[1],d=Ue[2],s=Ue[3]),n.bezierCurveTo(u,f,c,d,o,s)))},e.prototype.pointAt=function(n){return Jb(this.shape,n,!1)},e.prototype.tangentAt=function(n){var r=Jb(this.shape,n,!0);return XF(r,r)},e}(Rt);zD.prototype.type="bezier-curve";const HD=zD;var AY=function(){function t(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return t}(),YD=function(t){Yt(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new AY},e.prototype.buildPath=function(n,r){var i=r.cx,a=r.cy,o=Math.max(r.r,0),s=r.startAngle,u=r.endAngle,f=r.clockwise,c=Math.cos(s),d=Math.sin(s);n.moveTo(c*o+i,d*o+a),n.arc(i,a,o,s,u,!f)},e}(Rt);YD.prototype.type="arc";const L_=YD;var CY=function(t){Yt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="compound",n}return e.prototype._updatePathDirty=function(){for(var n=this.shape.paths,r=this.shapeChanged(),i=0;i<n.length;i++)r=r||n[i].shapeChanged();r&&this.dirtyShape()},e.prototype.beforeBrush=function(){this._updatePathDirty();for(var n=this.shape.paths||[],r=this.getGlobalScale(),i=0;i<n.length;i++)n[i].path||n[i].createPathProxy(),n[i].path.setScale(r[0],r[1],n[i].segmentIgnoreThreshold)},e.prototype.buildPath=function(n,r){for(var i=r.paths||[],a=0;a<i.length;a++)i[a].buildPath(n,i[a].shape,!0)},e.prototype.afterBrush=function(){for(var n=this.shape.paths||[],r=0;r<n.length;r++)n[r].pathUpdated()},e.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),Rt.prototype.getBoundingRect.call(this)},e}(Rt);const MY=CY;var PY=function(){function t(e){this.colorStops=e||[]}return t.prototype.addColorStop=function(e,n){this.colorStops.push({offset:e,color:n})},t}();const XD=PY;var LY=function(t){Yt(e,t);function e(n,r,i,a,o,s){var u=t.call(this,o)||this;return u.x=n??0,u.y=r??0,u.x2=i??1,u.y2=a??0,u.type="linear",u.global=s||!1,u}return e}(XD);const UD=LY;var DY=function(t){Yt(e,t);function e(n,r,i,a,o){var s=t.call(this,a)||this;return s.x=n??.5,s.y=r??.5,s.r=i??.5,s.type="radial",s.global=o||!1,s}return e}(XD);const EY=DY;var Hi=[0,0],Yi=[0,0],Ef=new kt,If=new kt,IY=function(){function t(e,n){this._corners=[],this._axes=[],this._origin=[0,0];for(var r=0;r<4;r++)this._corners[r]=new kt;for(var r=0;r<2;r++)this._axes[r]=new kt;e&&this.fromBoundingRect(e,n)}return t.prototype.fromBoundingRect=function(e,n){var r=this._corners,i=this._axes,a=e.x,o=e.y,s=a+e.width,u=o+e.height;if(r[0].set(a,o),r[1].set(s,o),r[2].set(s,u),r[3].set(a,u),n)for(var f=0;f<4;f++)r[f].transform(n);kt.sub(i[0],r[1],r[0]),kt.sub(i[1],r[3],r[0]),i[0].normalize(),i[1].normalize();for(var f=0;f<2;f++)this._origin[f]=i[f].dot(r[0])},t.prototype.intersect=function(e,n){var r=!0,i=!n;return Ef.set(1/0,1/0),If.set(0,0),!this._intersectCheckOneSide(this,e,Ef,If,i,1)&&(r=!1,i)||!this._intersectCheckOneSide(e,this,Ef,If,i,-1)&&(r=!1,i)||i||kt.copy(n,r?Ef:If),r},t.prototype._intersectCheckOneSide=function(e,n,r,i,a,o){for(var s=!0,u=0;u<2;u++){var f=this._axes[u];if(this._getProjMinMaxOnAxis(u,e._corners,Hi),this._getProjMinMaxOnAxis(u,n._corners,Yi),Hi[1]<Yi[0]||Hi[0]>Yi[1]){if(s=!1,a)return s;var c=Math.abs(Yi[0]-Hi[1]),d=Math.abs(Hi[0]-Yi[1]);Math.min(c,d)>i.len()&&(c<d?kt.scale(i,f,-c*o):kt.scale(i,f,d*o))}else if(r){var c=Math.abs(Yi[0]-Hi[1]),d=Math.abs(Hi[0]-Yi[1]);Math.min(c,d)<r.len()&&(c<d?kt.scale(r,f,c*o):kt.scale(r,f,-d*o))}}return s},t.prototype._getProjMinMaxOnAxis=function(e,n,r){for(var i=this._axes[e],a=this._origin,o=n[0].dot(i)+a[e],s=o,u=o,f=1;f<n.length;f++){var c=n[f].dot(i)+a[e];s=Math.min(c,s),u=Math.max(c,u)}r[0]=s,r[1]=u},t}();const Rh=IY;var RY=[],kY=function(t){Yt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.notClear=!0,n.incremental=!0,n._displayables=[],n._temporaryDisplayables=[],n._cursor=0,n}return e.prototype.traverse=function(n,r){n.call(r,this)},e.prototype.useStyle=function(){this.style={}},e.prototype.getCursor=function(){return this._cursor},e.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},e.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},e.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},e.prototype.addDisplayable=function(n,r){r?this._temporaryDisplayables.push(n):this._displayables.push(n),this.markRedraw()},e.prototype.addDisplayables=function(n,r){r=r||!1;for(var i=0;i<n.length;i++)this.addDisplayable(n[i],r)},e.prototype.getDisplayables=function(){return this._displayables},e.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},e.prototype.eachPendingDisplayable=function(n){for(var r=this._cursor;r<this._displayables.length;r++)n&&n(this._displayables[r]);for(var r=0;r<this._temporaryDisplayables.length;r++)n&&n(this._temporaryDisplayables[r])},e.prototype.update=function(){this.updateTransform();for(var n=this._cursor;n<this._displayables.length;n++){var r=this._displayables[n];r.parent=this,r.update(),r.parent=null}for(var n=0;n<this._temporaryDisplayables.length;n++){var r=this._temporaryDisplayables[n];r.parent=this,r.update(),r.parent=null}},e.prototype.getBoundingRect=function(){if(!this._rect){for(var n=new Nt(1/0,1/0,-1/0,-1/0),r=0;r<this._displayables.length;r++){var i=this._displayables[r],a=i.getBoundingRect().clone();i.needLocalTransform()&&a.applyTransform(i.getLocalTransform(RY)),n.union(a)}this._rect=n}return this._rect},e.prototype.contain=function(n,r){var i=this.transformCoordToLocal(n,r),a=this.getBoundingRect();if(a.contain(i[0],i[1]))for(var o=0;o<this._displayables.length;o++){var s=this._displayables[o];if(s.contain(n,r))return!0}return!1},e}(gs);const OY=kY;var WD=ae();function Bd(t,e,n,r,i){var a;if(e&&e.ecModel){var o=e.ecModel.getUpdatePayload();a=o&&o.animation}var s=e&&e.isAnimationEnabled(),u=t==="update";if(s){var f=void 0,c=void 0,d=void 0;r?(f=Vt(r.duration,200),c=Vt(r.easing,"cubicOut"),d=0):(f=e.getShallow(u?"animationDurationUpdate":"animationDuration"),c=e.getShallow(u?"animationEasingUpdate":"animationEasing"),d=e.getShallow(u?"animationDelayUpdate":"animationDelay")),a&&(a.duration!=null&&(f=a.duration),a.easing!=null&&(c=a.easing),a.delay!=null&&(d=a.delay)),mt(d)&&(d=d(n,i)),mt(f)&&(f=f(n));var p={duration:f||0,delay:d,easing:c};return p}else return null}function D_(t,e,n,r,i,a,o){var s=!1,u;mt(i)?(o=a,a=i,i=null):pt(i)&&(a=i.cb,o=i.during,s=i.isFrom,u=i.removeOpt,i=i.dataIndex);var f=t==="leave";f||e.stopAnimation("leave");var c=Bd(t,r,i,f?u||{}:null,r&&r.getAnimationDelayParams?r.getAnimationDelayParams(e,i):null);if(c&&c.duration>0){var d=c.duration,p=c.delay,v=c.easing,y={duration:d,delay:p||0,easing:v,done:a,force:!!a||!!o,setToFinal:!f,scope:t,during:o};s?e.animateFrom(n,y):e.animateTo(n,y)}else e.stopAnimation(),!s&&e.attr(n),o&&o(1),a&&a()}function hn(t,e,n,r,i,a){D_("update",t,e,n,r,i,a)}function dr(t,e,n,r,i,a){D_("enter",t,e,n,r,i,a)}function Nu(t){if(!t.__zr)return!0;for(var e=0;e<t.animators.length;e++){var n=t.animators[e];if(n.scope==="leave")return!0}return!1}function kh(t,e,n,r,i,a){Nu(t)||D_("leave",t,e,n,r,i,a)}function tS(t,e,n,r){t.removeTextContent(),t.removeTextGuideLine(),kh(t,{style:{opacity:0}},e,n,r)}function iy(t,e,n){function r(){t.parent&&t.parent.remove(t)}t.isGroup?t.traverse(function(i){i.isGroup||tS(i,e,n,r)}):tS(t,e,n,r)}function qD(t){WD(t).oldStyle=t.style}function NY(t){return WD(t).oldStyle}var Oh=Math.max,Nh=Math.min,ay={};function $Y(t){return Rt.extend(t)}var GY=lY;function VY(t,e){return GY(t,e)}function Xn(t,e){ay[t]=e}function FY(t){if(ay.hasOwnProperty(t))return ay[t]}function E_(t,e,n,r){var i=uY(t,e);return n&&(r==="center"&&(n=QD(n,i.getBoundingRect())),KD(i,n)),i}function ZD(t,e,n){var r=new za({style:{image:t,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(i){if(n==="center"){var a={width:i.width,height:i.height};r.setStyle(QD(e,a))}}});return r}function QD(t,e){var n=e.width/e.height,r=t.height*n,i;r<=t.width?i=t.height:(r=t.width,i=r/n);var a=t.x+t.width/2,o=t.y+t.height/2;return{x:a-r/2,y:o-i/2,width:r,height:i}}var BY=fY;function KD(t,e){if(t.applyTransform){var n=t.getBoundingRect(),r=n.calculateTransform(e);t.applyTransform(r)}}function vl(t,e){return dD(t,t,{lineWidth:e}),t}function zY(t){return pD(t.shape,t.shape,t.style),t}var HY=oa;function I_(t,e){for(var n=h_([]);t&&t!==e;)Oo(n,t.getLocalTransform(),n),t=t.parent;return n}function R_(t,e,n){return e&&!en(e)&&(e=Id.getLocalTransform(e)),n&&(e=p_([],e)),Pn([],t,e)}function jD(t,e,n){var r=e[4]===0||e[5]===0||e[0]===0?1:Math.abs(2*e[4]/e[0]),i=e[4]===0||e[5]===0||e[2]===0?1:Math.abs(2*e[4]/e[2]),a=[t==="left"?-r:t==="right"?r:0,t==="top"?-i:t==="bottom"?i:0];return a=R_(a,e,n),Math.abs(a[0])>Math.abs(a[1])?a[0]>0?"right":"left":a[1]>0?"bottom":"top"}function eS(t){return!t.isGroup}function YY(t){return t.shape!=null}function JD(t,e,n){if(!t||!e)return;function r(o){var s={};return o.traverse(function(u){eS(u)&&u.anid&&(s[u.anid]=u)}),s}function i(o){var s={x:o.x,y:o.y,rotation:o.rotation};return YY(o)&&(s.shape=et({},o.shape)),s}var a=r(t);e.traverse(function(o){if(eS(o)&&o.anid){var s=a[o.anid];if(s){var u=i(o);o.attr(i(s)),hn(o,u,n,Ut(o).dataIndex)}}})}function tE(t,e){return at(t,function(n){var r=n[0];r=Oh(r,e.x),r=Nh(r,e.x+e.width);var i=n[1];return i=Oh(i,e.y),i=Nh(i,e.y+e.height),[r,i]})}function XY(t,e){var n=Oh(t.x,e.x),r=Nh(t.x+t.width,e.x+e.width),i=Oh(t.y,e.y),a=Nh(t.y+t.height,e.y+e.height);if(r>=n&&a>=i)return{x:n,y:i,width:r-n,height:a-i}}function zd(t,e,n){var r=et({rectHover:!0},e),i=r.style={strokeNoScale:!0};if(n=n||{x:-1,y:-1,width:2,height:2},t)return t.indexOf("image://")===0?(i.image=t.slice(8),bt(i,n),new za(r)):E_(t.replace("path://",""),r,n,"center")}function UY(t,e,n,r,i){for(var a=0,o=i[i.length-1];a<i.length;a++){var s=i[a];if(eE(t,e,n,r,s[0],s[1],o[0],o[1]))return!0;o=s}}function eE(t,e,n,r,i,a,o,s){var u=n-t,f=r-e,c=o-i,d=s-a,p=Fv(c,d,u,f);if(WY(p))return!1;var v=t-i,y=e-a,x=Fv(v,y,u,f)/p;if(x<0||x>1)return!1;var _=Fv(v,y,c,d)/p;return!(_<0||_>1)}function Fv(t,e,n,r){return t*r-n*e}function WY(t){return t<=1e-6&&t>=-1e-6}function Hd(t){var e=t.itemTooltipOption,n=t.componentModel,r=t.itemName,i=ut(e)?{formatter:e}:e,a=n.mainType,o=n.componentIndex,s={componentType:a,name:r,$vars:["name"]};s[a+"Index"]=o;var u=t.formatterParamsExtra;u&&Y(jt(u),function(c){Ko(s,c)||(s[c]=u[c],s.$vars.push(c))});var f=Ut(t.el);f.componentMainType=a,f.componentIndex=o,f.tooltipConfig={name:r,option:bt({content:r,formatterParams:s},i)}}function nS(t,e){var n;t.isGroup&&(n=e(t)),n||t.traverse(e)}function Yd(t,e){if(t)if(nt(t))for(var n=0;n<t.length;n++)nS(t[n],e);else nS(t,e)}Xn("circle",M_);Xn("ellipse",RD);Xn("sector",La);Xn("ring",$D);Xn("polygon",Fd);Xn("polyline",P_);Xn("rect",ie);Xn("line",Da);Xn("bezierCurve",HD);Xn("arc",L_);const qY=Object.freeze(Object.defineProperty({__proto__:null,Arc:L_,BezierCurve:HD,BoundingRect:Nt,Circle:M_,CompoundPath:MY,Ellipse:RD,Group:ce,Image:za,IncrementalDisplayable:OY,Line:Da,LinearGradient:UD,OrientedBoundingRect:Rh,Path:Rt,Point:kt,Polygon:Fd,Polyline:P_,RadialGradient:EY,Rect:ie,Ring:$D,Sector:La,Text:ze,applyTransform:R_,clipPointsByRect:tE,clipRectByRect:XY,createIcon:zd,extendPath:VY,extendShape:$Y,getShapeClass:FY,getTransform:I_,groupTransition:JD,initProps:dr,isElementRemoved:Nu,lineLineIntersect:eE,linePolygonIntersect:UY,makeImage:ZD,makePath:E_,mergePath:BY,registerShape:Xn,removeElement:kh,removeElementWithFadeOut:iy,resizePath:KD,setTooltipConfig:Hd,subPixelOptimize:HY,subPixelOptimizeLine:vl,subPixelOptimizeRect:zY,transformDirection:jD,traverseElements:Yd,updateProps:hn},Symbol.toStringTag,{value:"Module"}));var Xd={};function ZY(t,e){for(var n=0;n<hr.length;n++){var r=hr[n],i=e[r],a=t.ensureState(r);a.style=a.style||{},a.style.text=i}var o=t.currentStates.slice();t.clearStates(!0),t.setStyle({text:e.normal}),t.useStates(o,!0)}function rS(t,e,n){var r=t.labelFetcher,i=t.labelDataIndex,a=t.labelDimIndex,o=e.normal,s;r&&(s=r.getFormattedLabel(i,"normal",null,a,o&&o.get("formatter"),n!=null?{interpolatedValue:n}:null)),s==null&&(s=mt(t.defaultText)?t.defaultText(i,t,n):t.defaultText);for(var u={normal:s},f=0;f<hr.length;f++){var c=hr[f],d=e[c];u[c]=Vt(r?r.getFormattedLabel(i,c,null,a,d&&d.get("formatter")):null,s)}return u}function Ud(t,e,n,r){n=n||Xd;for(var i=t instanceof ze,a=!1,o=0;o<Gb.length;o++){var s=e[Gb[o]];if(s&&s.getShallow("show")){a=!0;break}}var u=i?t:t.getTextContent();if(a){i||(u||(u=new ze,t.setTextContent(u)),t.stateProxy&&(u.stateProxy=t.stateProxy));var f=rS(n,e),c=e.normal,d=!!c.getShallow("show"),p=ts(c,r&&r.normal,n,!1,!i);p.text=f.normal,i||t.setTextConfig(iS(c,n,!1));for(var o=0;o<hr.length;o++){var v=hr[o],s=e[v];if(s){var y=u.ensureState(v),x=!!Vt(s.getShallow("show"),d);if(x!==d&&(y.ignore=!x),y.style=ts(s,r&&r[v],n,!0,!i),y.style.text=f[v],!i){var _=t.ensureState(v);_.textConfig=iS(s,n,!0)}}}u.silent=!!c.getShallow("silent"),u.style.x!=null&&(p.x=u.style.x),u.style.y!=null&&(p.y=u.style.y),u.ignore=!d,u.useStyle(p),u.dirty(),n.enableTextSetter&&(qd(u).setLabelText=function(w){var b=rS(n,e,w);ZY(u,b)})}else u&&(u.ignore=!0);t.dirty()}function Wd(t,e){e=e||"label";for(var n={normal:t.getModel(e)},r=0;r<hr.length;r++){var i=hr[r];n[i]=t.getModel([i,e])}return n}function ts(t,e,n,r,i){var a={};return QY(a,t,n,r,i),e&&et(a,e),a}function iS(t,e,n){e=e||{};var r={},i,a=t.getShallow("rotate"),o=Vt(t.getShallow("distance"),n?null:5),s=t.getShallow("offset");return i=t.getShallow("position")||(n?null:"inside"),i==="outside"&&(i=e.defaultOutsidePosition||"top"),i!=null&&(r.position=i),s!=null&&(r.offset=s),a!=null&&(a*=Math.PI/180,r.rotation=a),o!=null&&(r.distance=o),r.outsideFill=t.get("color")==="inherit"?e.inheritColor||null:"auto",r}function QY(t,e,n,r,i){n=n||Xd;var a=e.ecModel,o=a&&a.option.textStyle,s=KY(e),u;if(s){u={};for(var f in s)if(s.hasOwnProperty(f)){var c=e.getModel(["rich",f]);uS(u[f]={},c,o,n,r,i,!1,!0)}}u&&(t.rich=u);var d=e.get("overflow");d&&(t.overflow=d);var p=e.get("minMargin");p!=null&&(t.margin=p),uS(t,e,o,n,r,i,!0,!1)}function KY(t){for(var e;t&&t!==t.ecModel;){var n=(t.option||Xd).rich;if(n){e=e||{};for(var r=jt(n),i=0;i<r.length;i++){var a=r[i];e[a]=1}}t=t.parentModel}return e}var aS=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],oS=["align","lineHeight","width","height","tag","verticalAlign"],sS=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function uS(t,e,n,r,i,a,o,s){n=!i&&n||Xd;var u=r&&r.inheritColor,f=e.getShallow("color"),c=e.getShallow("textBorderColor"),d=Vt(e.getShallow("opacity"),n.opacity);(f==="inherit"||f==="auto")&&(u?f=u:f=null),(c==="inherit"||c==="auto")&&(u?c=u:c=null),a||(f=f||n.color,c=c||n.textBorderColor),f!=null&&(t.fill=f),c!=null&&(t.stroke=c);var p=Vt(e.getShallow("textBorderWidth"),n.textBorderWidth);p!=null&&(t.lineWidth=p);var v=Vt(e.getShallow("textBorderType"),n.textBorderType);v!=null&&(t.lineDash=v);var y=Vt(e.getShallow("textBorderDashOffset"),n.textBorderDashOffset);y!=null&&(t.lineDashOffset=y),!i&&d==null&&!s&&(d=r&&r.defaultOpacity),d!=null&&(t.opacity=d),!i&&!a&&t.fill==null&&r.inheritColor&&(t.fill=r.inheritColor);for(var x=0;x<aS.length;x++){var _=aS[x],w=Vt(e.getShallow(_),n[_]);w!=null&&(t[_]=w)}for(var x=0;x<oS.length;x++){var _=oS[x],w=e.getShallow(_);w!=null&&(t[_]=w)}if(t.verticalAlign==null){var b=e.getShallow("baseline");b!=null&&(t.verticalAlign=b)}if(!o||!r.disableBox){for(var x=0;x<sS.length;x++){var _=sS[x],w=e.getShallow(_);w!=null&&(t[_]=w)}var S=e.getShallow("borderType");S!=null&&(t.borderDash=S),(t.backgroundColor==="auto"||t.backgroundColor==="inherit")&&u&&(t.backgroundColor=u),(t.borderColor==="auto"||t.borderColor==="inherit")&&u&&(t.borderColor=u)}}function jY(t,e){var n=e&&e.getModel("textStyle");return ar([t.fontStyle||n&&n.getShallow("fontStyle")||"",t.fontWeight||n&&n.getShallow("fontWeight")||"",(t.fontSize||n&&n.getShallow("fontSize")||12)+"px",t.fontFamily||n&&n.getShallow("fontFamily")||"sans-serif"].join(" "))}var qd=ae();function JY(t,e,n,r){if(t){var i=qd(t);i.prevValue=i.value,i.value=n;var a=e.normal;i.valueAnimation=a.get("valueAnimation"),i.valueAnimation&&(i.precision=a.get("precision"),i.defaultInterpolatedText=r,i.statesModels=e)}}var tX=["textStyle","color"],Bv=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],zv=new ze,eX=function(){function t(){}return t.prototype.getTextColor=function(e){var n=this.ecModel;return this.getShallow("color")||(!e&&n?n.get(tX):null)},t.prototype.getFont=function(){return jY({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},t.prototype.getTextRect=function(e){for(var n={text:e,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},r=0;r<Bv.length;r++)n[Bv[r]]=this.getShallow(Bv[r]);return zv.useStyle(n),zv.update(),zv.getBoundingRect()},t}();const nX=eX;var nE=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],rX=pl(nE),iX=function(){function t(){}return t.prototype.getLineStyle=function(e){return rX(this,e)},t}(),rE=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],aX=pl(rE),oX=function(){function t(){}return t.prototype.getItemStyle=function(e,n){return aX(this,e,n)},t}(),Ha=function(){function t(e,n,r){this.parentModel=n,this.ecModel=r,this.option=e}return t.prototype.init=function(e,n,r){},t.prototype.mergeOption=function(e,n){Mt(this.option,e,!0)},t.prototype.get=function(e,n){return e==null?this.option:this._doGet(this.parsePath(e),!n&&this.parentModel)},t.prototype.getShallow=function(e,n){var r=this.option,i=r==null?r:r[e];if(i==null&&!n){var a=this.parentModel;a&&(i=a.getShallow(e))}return i},t.prototype.getModel=function(e,n){var r=e!=null,i=r?this.parsePath(e):null,a=r?this._doGet(i):this.option;return n=n||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(i)),new t(a,n,this.ecModel)},t.prototype.isEmpty=function(){return this.option==null},t.prototype.restoreData=function(){},t.prototype.clone=function(){var e=this.constructor;return new e(wt(this.option))},t.prototype.parsePath=function(e){return typeof e=="string"?e.split("."):e},t.prototype.resolveParentPath=function(e){return e},t.prototype.isAnimationEnabled=function(){if(!Ct.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},t.prototype._doGet=function(e,n){var r=this.option;if(!e)return r;for(var i=0;i<e.length&&!(e[i]&&(r=r&&typeof r=="object"?r[e[i]]:null,r==null));i++);return r==null&&n&&(r=n._doGet(this.resolveParentPath(e),n.parentModel)),r},t}();w_(Ha);Fz(Ha);gr(Ha,iX);gr(Ha,oX);gr(Ha,Xz);gr(Ha,nX);const _e=Ha;var sX=Math.round(Math.random()*10);function Fl(t){return[t||"",sX++].join("_")}function uX(t){var e={};t.registerSubTypeDefaulter=function(n,r){var i=or(n);e[i.main]=r},t.determineSubType=function(n,r){var i=r.type;if(!i){var a=or(n).main;t.hasSubTypes(n)&&e[a]&&(i=e[a](r))}return i}}function lX(t,e){t.topologicalTravel=function(a,o,s,u){if(!a.length)return;var f=n(o),c=f.graph,d=f.noEntryList,p={};for(Y(a,function(b){p[b]=!0});d.length;){var v=d.pop(),y=c[v],x=!!p[v];x&&(s.call(u,v,y.originalDeps.slice()),delete p[v]),Y(y.successor,x?w:_)}Y(p,function(){var b="";throw new Error(b)});function _(b){c[b].entryCount--,c[b].entryCount===0&&d.push(b)}function w(b){p[b]=!0,_(b)}};function n(a){var o={},s=[];return Y(a,function(u){var f=r(o,u),c=f.originalDeps=e(u),d=i(c,a);f.entryCount=d.length,f.entryCount===0&&s.push(u),Y(d,function(p){Ot(f.predecessor,p)<0&&f.predecessor.push(p);var v=r(o,p);Ot(v.successor,p)<0&&v.successor.push(u)})}),{graph:o,noEntryList:s}}function r(a,o){return a[o]||(a[o]={predecessor:[],successor:[]}),a[o]}function i(a,o){var s=[];return Y(a,function(u){Ot(o,u)>=0&&s.push(u)}),s}}function iE(t,e){return Mt(Mt({},t,!0),e,!0)}const fX={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},cX={time:{month:["","","","","","","","","","","",""],monthAbbr:["1","2","3","4","5","6","7","8","9","10","11","12"],dayOfWeek:["","","","","","",""],dayOfWeekAbbr:["","","","","","",""]},legend:{selector:{all:"",inverse:""}},toolbox:{brush:{title:{rect:"",polygon:"",lineX:"",lineY:"",keep:"",clear:""}},dataView:{title:"",lang:["","",""]},dataZoom:{title:{zoom:"",back:""}},magicType:{title:{line:"",bar:"",stack:"",tiled:""}},restore:{title:""},saveAsImage:{title:"",lang:[""]}},series:{typeNames:{pie:"",bar:"",line:"",scatter:"",effectScatter:"",radar:"",tree:"",treemap:"",boxplot:"",candlestick:"K",k:"K",heatmap:"",map:"",parallel:"",lines:"",graph:"",sankey:"",funnel:"",gauge:"",pictorialBar:"",themeRiver:"",sunburst:""}},aria:{general:{withTitle:"{title}",withoutTitle:""},series:{single:{prefix:"",withName:"{seriesType}{seriesName}",withoutName:"{seriesType}"},multiple:{prefix:"{seriesCount}",withName:"{seriesId}{seriesName}{seriesType}",withoutName:"{seriesId}{seriesType}",separator:{middle:"",end:""}}},data:{allData:"",partialData:"{displayCnt}",withName:"{name}{value}",withoutName:"{value}",separator:{middle:"",end:""}}}};var $h="ZH",k_="EN",gl=k_,bc={},O_={},aE=Ct.domSupported?function(){var t=(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase();return t.indexOf($h)>-1?$h:gl}():gl;function oE(t,e){t=t.toUpperCase(),O_[t]=new _e(e),bc[t]=e}function hX(t){if(ut(t)){var e=bc[t.toUpperCase()]||{};return t===$h||t===k_?wt(e):Mt(wt(e),wt(bc[gl]),!1)}else return Mt(wt(t),wt(bc[gl]),!1)}function dX(t){return O_[t]}function pX(){return O_[gl]}oE(k_,fX);oE($h,cX);var N_=1e3,$_=N_*60,$u=$_*60,Cn=$u*24,lS=Cn*365,_u={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},Rf="{yyyy}-{MM}-{dd}",fS={year:"{yyyy}",month:"{yyyy}-{MM}",day:Rf,hour:Rf+" "+_u.hour,minute:Rf+" "+_u.minute,second:Rf+" "+_u.second,millisecond:_u.none},Hv=["year","month","day","hour","minute","second","millisecond"],sE=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function Xi(t,e){return t+="","0000".substr(0,e-t.length)+t}function $o(t){switch(t){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return t}}function vX(t){return t===$o(t)}function gX(t){switch(t){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function Zd(t,e,n,r){var i=Or(t),a=i[G_(n)](),o=i[Go(n)]()+1,s=Math.floor((o-1)/3)+1,u=i[Qd(n)](),f=i["get"+(n?"UTC":"")+"Day"](),c=i[yl(n)](),d=(c-1)%12+1,p=i[Kd(n)](),v=i[jd(n)](),y=i[Jd(n)](),x=r instanceof _e?r:dX(r||aE)||pX(),_=x.getModel("time"),w=_.get("month"),b=_.get("monthAbbr"),S=_.get("dayOfWeek"),A=_.get("dayOfWeekAbbr");return(e||"").replace(/{yyyy}/g,a+"").replace(/{yy}/g,a%100+"").replace(/{Q}/g,s+"").replace(/{MMMM}/g,w[o-1]).replace(/{MMM}/g,b[o-1]).replace(/{MM}/g,Xi(o,2)).replace(/{M}/g,o+"").replace(/{dd}/g,Xi(u,2)).replace(/{d}/g,u+"").replace(/{eeee}/g,S[f]).replace(/{ee}/g,A[f]).replace(/{e}/g,f+"").replace(/{HH}/g,Xi(c,2)).replace(/{H}/g,c+"").replace(/{hh}/g,Xi(d+"",2)).replace(/{h}/g,d+"").replace(/{mm}/g,Xi(p,2)).replace(/{m}/g,p+"").replace(/{ss}/g,Xi(v,2)).replace(/{s}/g,v+"").replace(/{SSS}/g,Xi(y,3)).replace(/{S}/g,y+"")}function yX(t,e,n,r,i){var a=null;if(ut(n))a=n;else if(mt(n))a=n(t.value,e,{level:t.level});else{var o=et({},_u);if(t.level>0)for(var s=0;s<Hv.length;++s)o[Hv[s]]="{primary|"+o[Hv[s]]+"}";var u=n?n.inherit===!1?n:bt(n,o):o,f=uE(t.value,i);if(u[f])a=u[f];else if(u.inherit){for(var c=sE.indexOf(f),s=c-1;s>=0;--s)if(u[f]){a=u[f];break}a=a||o.none}if(nt(a)){var d=t.level==null?0:t.level>=0?t.level:a.length+t.level;d=Math.min(d,a.length-1),a=a[d]}}return Zd(new Date(t.value),a,i,r)}function uE(t,e){var n=Or(t),r=n[Go(e)]()+1,i=n[Qd(e)](),a=n[yl(e)](),o=n[Kd(e)](),s=n[jd(e)](),u=n[Jd(e)](),f=u===0,c=f&&s===0,d=c&&o===0,p=d&&a===0,v=p&&i===1,y=v&&r===1;return y?"year":v?"month":p?"day":d?"hour":c?"minute":f?"second":"millisecond"}function cS(t,e,n){var r=Qt(t)?Or(t):t;switch(e=e||uE(t,n),e){case"year":return r[G_(n)]();case"half-year":return r[Go(n)]()>=6?1:0;case"quarter":return Math.floor((r[Go(n)]()+1)/4);case"month":return r[Go(n)]();case"day":return r[Qd(n)]();case"half-day":return r[yl(n)]()/24;case"hour":return r[yl(n)]();case"minute":return r[Kd(n)]();case"second":return r[jd(n)]();case"millisecond":return r[Jd(n)]()}}function G_(t){return t?"getUTCFullYear":"getFullYear"}function Go(t){return t?"getUTCMonth":"getMonth"}function Qd(t){return t?"getUTCDate":"getDate"}function yl(t){return t?"getUTCHours":"getHours"}function Kd(t){return t?"getUTCMinutes":"getMinutes"}function jd(t){return t?"getUTCSeconds":"getSeconds"}function Jd(t){return t?"getUTCMilliseconds":"getMilliseconds"}function mX(t){return t?"setUTCFullYear":"setFullYear"}function lE(t){return t?"setUTCMonth":"setMonth"}function fE(t){return t?"setUTCDate":"setDate"}function cE(t){return t?"setUTCHours":"setHours"}function hE(t){return t?"setUTCMinutes":"setMinutes"}function dE(t){return t?"setUTCSeconds":"setSeconds"}function pE(t){return t?"setUTCMilliseconds":"setMilliseconds"}function vE(t){if(!mz(t))return ut(t)?t:"-";var e=(t+"").split(".");return e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?"."+e[1]:"")}function gE(t,e){return t=(t||"").toLowerCase().replace(/-(.)/g,function(n,r){return r.toUpperCase()}),e&&t&&(t=t.charAt(0).toUpperCase()+t.slice(1)),t}var tp=xL;function oy(t,e,n){var r="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function i(c){return c&&ar(c)?c:"-"}function a(c){return!!(c!=null&&!isNaN(c)&&isFinite(c))}var o=e==="time",s=t instanceof Date;if(o||s){var u=o?Or(t):t;if(isNaN(+u)){if(s)return"-"}else return Zd(u,r,n)}if(e==="ordinal")return M0(t)?i(t):Qt(t)&&a(t)?t+"":"-";var f=Eh(t);return a(f)?vE(f):M0(t)?i(t):typeof t=="boolean"?t+"":"-"}var hS=["a","b","c","d","e","f","g"],Yv=function(t,e){return"{"+t+(e??"")+"}"};function yE(t,e,n){nt(e)||(e=[e]);var r=e.length;if(!r)return"";for(var i=e[0].$vars||[],a=0;a<i.length;a++){var o=hS[a];t=t.replace(Yv(o),Yv(o,0))}for(var s=0;s<r;s++)for(var u=0;u<i.length;u++){var f=e[s][i[u]];t=t.replace(Yv(hS[u],s),n?Tn(f):f)}return t}function _X(t,e){var n=ut(t)?{color:t,extraCssText:e}:t||{},r=n.color,i=n.type;e=n.extraCssText;var a=n.renderMode||"html";if(!r)return"";if(a==="html")return i==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+Tn(r)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+Tn(r)+";"+(e||"")+'"></span>';var o=n.markerId||"markerX";return{renderMode:a,content:"{"+o+"|}  ",style:i==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:r}:{width:10,height:10,borderRadius:5,backgroundColor:r}}}function Ea(t,e){return e=e||"transparent",ut(t)?t:pt(t)&&t.colorStops&&(t.colorStops[0]||{}).color||e}var Sc=Y,xX=["left","right","top","bottom","width","height"],kf=[["width","left","right"],["height","top","bottom"]];function V_(t,e,n,r,i){var a=0,o=0;r==null&&(r=1/0),i==null&&(i=1/0);var s=0;e.eachChild(function(u,f){var c=u.getBoundingRect(),d=e.childAt(f+1),p=d&&d.getBoundingRect(),v,y;if(t==="horizontal"){var x=c.width+(p?-p.x+c.x:0);v=a+x,v>r||u.newline?(a=0,v=x,o+=s+n,s=c.height):s=Math.max(s,c.height)}else{var _=c.height+(p?-p.y+c.y:0);y=o+_,y>i||u.newline?(a+=s+n,o=0,y=_,s=c.width):s=Math.max(s,c.width)}u.newline||(u.x=a,u.y=o,u.markRedraw(),t==="horizontal"?a=v+n:o=y+n)})}var Vo=V_;zt(V_,"vertical");zt(V_,"horizontal");function es(t,e,n){n=tp(n||0);var r=e.width,i=e.height,a=ke(t.left,r),o=ke(t.top,i),s=ke(t.right,r),u=ke(t.bottom,i),f=ke(t.width,r),c=ke(t.height,i),d=n[2]+n[0],p=n[1]+n[3],v=t.aspect;switch(isNaN(f)&&(f=r-s-p-a),isNaN(c)&&(c=i-u-d-o),v!=null&&(isNaN(f)&&isNaN(c)&&(v>r/i?f=r*.8:c=i*.8),isNaN(f)&&(f=v*c),isNaN(c)&&(c=f/v)),isNaN(a)&&(a=r-s-f-p),isNaN(o)&&(o=i-u-c-d),t.left||t.right){case"center":a=r/2-f/2-n[3];break;case"right":a=r-f-p;break}switch(t.top||t.bottom){case"middle":case"center":o=i/2-c/2-n[0];break;case"bottom":o=i-c-d;break}a=a||0,o=o||0,isNaN(f)&&(f=r-p-a-(s||0)),isNaN(c)&&(c=i-d-o-(u||0));var y=new Nt(a+n[3],o+n[0],f,c);return y.margin=n,y}function wX(t,e,n,r,i,a){var o=!i||!i.hv||i.hv[0],s=!i||!i.hv||i.hv[1],u=i&&i.boundingMode||"all";if(a=a||t,a.x=t.x,a.y=t.y,!o&&!s)return!1;var f;if(u==="raw")f=t.type==="group"?new Nt(0,0,+e.width||0,+e.height||0):t.getBoundingRect();else if(f=t.getBoundingRect(),t.needLocalTransform()){var c=t.getLocalTransform();f=f.clone(),f.applyTransform(c)}var d=es(bt({width:f.width,height:f.height},e),n,r),p=o?d.x-f.x:0,v=s?d.y-f.y:0;return u==="raw"?(a.x=p,a.y=v):(a.x+=p,a.y+=v),a===t&&t.markRedraw(),!0}function ml(t){var e=t.layoutMode||t.constructor.layoutMode;return pt(e)?e:e?{type:e}:null}function ns(t,e,n){var r=n&&n.ignoreSize;!nt(r)&&(r=[r,r]);var i=o(kf[0],0),a=o(kf[1],1);f(kf[0],t,i),f(kf[1],t,a);function o(c,d){var p={},v=0,y={},x=0,_=2;if(Sc(c,function(S){y[S]=t[S]}),Sc(c,function(S){s(e,S)&&(p[S]=y[S]=e[S]),u(p,S)&&v++,u(y,S)&&x++}),r[d])return u(e,c[1])?y[c[2]]=null:u(e,c[2])&&(y[c[1]]=null),y;if(x===_||!v)return y;if(v>=_)return p;for(var w=0;w<c.length;w++){var b=c[w];if(!s(p,b)&&s(t,b)){p[b]=t[b];break}}return p}function s(c,d){return c.hasOwnProperty(d)}function u(c,d){return c[d]!=null&&c[d]!=="auto"}function f(c,d,p){Sc(c,function(v){d[v]=p[v]})}}function ep(t){return bX({},t)}function bX(t,e){return e&&t&&Sc(xX,function(n){e.hasOwnProperty(n)&&(t[n]=e[n])}),t}var SX=ae(),ys=function(t){ht(e,t);function e(n,r,i){var a=t.call(this,n,r,i)||this;return a.uid=Fl("ec_cpt_model"),a}return e.prototype.init=function(n,r,i){this.mergeDefaultAndTheme(n,i)},e.prototype.mergeDefaultAndTheme=function(n,r){var i=ml(this),a=i?ep(n):{},o=r.getTheme();Mt(n,o.get(this.mainType)),Mt(n,this.getDefaultOption()),i&&ns(n,a,i)},e.prototype.mergeOption=function(n,r){Mt(this.option,n,!0);var i=ml(this);i&&ns(this.option,n,i)},e.prototype.optionUpdated=function(n,r){},e.prototype.getDefaultOption=function(){var n=this.constructor;if(!$z(n))return n.defaultOption;var r=SX(this);if(!r.defaultOption){for(var i=[],a=n;a;){var o=a.prototype.defaultOption;o&&i.push(o),a=a.superClass}for(var s={},u=i.length-1;u>=0;u--)s=Mt(s,i[u],!0);r.defaultOption=s}return r.defaultOption},e.prototype.getReferringComponents=function(n,r){var i=n+"Index",a=n+"Id";return Vl(this.ecModel,n,{index:this.get(i,!0),id:this.get(a,!0)},r)},e.prototype.getBoxLayoutParams=function(){var n=this;return{left:n.get("left"),top:n.get("top"),right:n.get("right"),bottom:n.get("bottom"),width:n.get("width"),height:n.get("height")}},e.prototype.getZLevelKey=function(){return""},e.prototype.setZLevel=function(n){this.option.zlevel=n},e.protoInitialize=function(){var n=e.prototype;n.type="component",n.id="",n.name="",n.mainType="",n.subType="",n.componentIndex=0}(),e}(_e);rD(ys,_e);kd(ys);uX(ys);lX(ys,TX);function TX(t){var e=[];return Y(ys.getClassesByMainType(t),function(n){e=e.concat(n.dependencies||n.prototype.dependencies||[])}),e=at(e,function(n){return or(n).main}),t!=="dataset"&&Ot(e,"dataset")<=0&&e.unshift("dataset"),e}const Zt=ys;var mE="";typeof navigator<"u"&&(mE=navigator.platform||"");var ao="rgba(0, 0, 0, 0.2)";const AX={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:ao,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:ao,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:ao,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:ao,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:ao,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:ao,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:mE.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var _E=yt(["tooltip","label","itemName","itemId","itemGroupId","seriesName"]),Ln="original",nn="arrayRows",yr="objectRows",Fr="keyedColumns",ci="typedArray",xE="unknown",Er="column",ms="row",rn={Must:1,Might:2,Not:3},wE=ae();function CX(t){wE(t).datasetMap=yt()}function MX(t,e,n){var r={},i=bE(e);if(!i||!t)return r;var a=[],o=[],s=e.ecModel,u=wE(s).datasetMap,f=i.uid+"_"+n.seriesLayoutBy,c,d;t=t.slice(),Y(t,function(x,_){var w=pt(x)?x:t[_]={name:x};w.type==="ordinal"&&c==null&&(c=_,d=y(w)),r[w.name]=[]});var p=u.get(f)||u.set(f,{categoryWayDim:d,valueWayDim:0});Y(t,function(x,_){var w=x.name,b=y(x);if(c==null){var S=p.valueWayDim;v(r[w],S,b),v(o,S,b),p.valueWayDim+=b}else if(c===_)v(r[w],0,b),v(a,0,b);else{var S=p.categoryWayDim;v(r[w],S,b),v(o,S,b),p.categoryWayDim+=b}});function v(x,_,w){for(var b=0;b<w;b++)x.push(_+b)}function y(x){var _=x.dimsDef;return _?_.length:1}return a.length&&(r.itemName=a),o.length&&(r.seriesName=o),r}function bE(t){var e=t.get("data",!0);if(!e)return Vl(t.ecModel,"dataset",{index:t.get("datasetIndex",!0),id:t.get("datasetId",!0)},Ne).models[0]}function PX(t){return!t.get("transform",!0)&&!t.get("fromTransformResult",!0)?[]:Vl(t.ecModel,"dataset",{index:t.get("fromDatasetIndex",!0),id:t.get("fromDatasetId",!0)},Ne).models}function SE(t,e){return LX(t.data,t.sourceFormat,t.seriesLayoutBy,t.dimensionsDefine,t.startIndex,e)}function LX(t,e,n,r,i,a){var o,s=5;if(cn(t))return rn.Not;var u,f;if(r){var c=r[a];pt(c)?(u=c.name,f=c.type):ut(c)&&(u=c)}if(f!=null)return f==="ordinal"?rn.Must:rn.Not;if(e===nn){var d=t;if(n===ms){for(var p=d[a],v=0;v<(p||[]).length&&v<s;v++)if((o=A(p[i+v]))!=null)return o}else for(var v=0;v<d.length&&v<s;v++){var y=d[i+v];if(y&&(o=A(y[a]))!=null)return o}}else if(e===yr){var x=t;if(!u)return rn.Not;for(var v=0;v<x.length&&v<s;v++){var _=x[v];if(_&&(o=A(_[u]))!=null)return o}}else if(e===Fr){var w=t;if(!u)return rn.Not;var p=w[u];if(!p||cn(p))return rn.Not;for(var v=0;v<p.length&&v<s;v++)if((o=A(p[v]))!=null)return o}else if(e===Ln)for(var b=t,v=0;v<b.length&&v<s;v++){var _=b[v],S=Gl(_);if(!nt(S))return rn.Not;if((o=A(S[a]))!=null)return o}function A(L){var P=ut(L);if(L!=null&&isFinite(L)&&L!=="")return P?rn.Might:rn.Not;if(P&&L!=="-")return rn.Must}return rn.Not}var sy=yt();function DX(t,e){cr(sy.get(t)==null&&e),sy.set(t,e)}function EX(t,e,n){var r=sy.get(e);if(!r)return n;var i=r(t);return i?n.concat(i):n}var dS=ae();ae();var F_=function(){function t(){}return t.prototype.getColorFromPalette=function(e,n,r){var i=se(this.get("color",!0)),a=this.get("colorLayer",!0);return RX(this,dS,i,a,e,n,r)},t.prototype.clearColorPalette=function(){kX(this,dS)},t}();function IX(t,e){for(var n=t.length,r=0;r<n;r++)if(t[r].length>e)return t[r];return t[n-1]}function RX(t,e,n,r,i,a,o){a=a||t;var s=e(a),u=s.paletteIdx||0,f=s.paletteNameMap=s.paletteNameMap||{};if(f.hasOwnProperty(i))return f[i];var c=o==null||!r?n:IX(r,o);if(c=c||n,!(!c||!c.length)){var d=c[u];return i&&(f[i]=d),s.paletteIdx=(u+1)%c.length,d}}function kX(t,e){e(t).paletteIdx=0,e(t).paletteNameMap={}}var Of,Fs,pS,vS="\0_ec_inner",OX=1,TE=function(t){ht(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.init=function(n,r,i,a,o,s){a=a||{},this.option=null,this._theme=new _e(a),this._locale=new _e(o),this._optionManager=s},e.prototype.setOption=function(n,r,i){var a=mS(r);this._optionManager.setOption(n,i,a),this._resetOption(null,a)},e.prototype.resetOption=function(n,r){return this._resetOption(n,mS(r))},e.prototype._resetOption=function(n,r){var i=!1,a=this._optionManager;if(!n||n==="recreate"){var o=a.mountOption(n==="recreate");!this.option||n==="recreate"?pS(this,o):(this.restoreData(),this._mergeOption(o,r)),i=!0}if((n==="timeline"||n==="media")&&this.restoreData(),!n||n==="recreate"||n==="timeline"){var s=a.getTimelineOption(this);s&&(i=!0,this._mergeOption(s,r))}if(!n||n==="recreate"||n==="media"){var u=a.getMediaOption(this);u.length&&Y(u,function(f){i=!0,this._mergeOption(f,r)},this)}return i},e.prototype.mergeOption=function(n){this._mergeOption(n,null)},e.prototype._mergeOption=function(n,r){var i=this.option,a=this._componentsMap,o=this._componentsCount,s=[],u=yt(),f=r&&r.replaceMergeMainTypeMap;CX(this),Y(n,function(d,p){d!=null&&(Zt.hasClass(p)?p&&(s.push(p),u.set(p,!0)):i[p]=i[p]==null?wt(d):Mt(i[p],d,!0))}),f&&f.each(function(d,p){Zt.hasClass(p)&&!u.get(p)&&(s.push(p),u.set(p,!0))}),Zt.topologicalTravel(s,Zt.getAllClassMainTypes(),c,this);function c(d){var p=EX(this,d,se(n[d])),v=a.get(d),y=v?f&&f.get(d)?"replaceMerge":"normalMerge":"replaceAll",x=xz(v,p,y);Pz(x,d,Zt),i[d]=null,a.set(d,null),o.set(d,0);var _=[],w=[],b=0,S;Y(x,function(A,L){var P=A.existing,E=A.newOption;if(!E)P&&(P.mergeOption({},this),P.optionUpdated({},!1));else{var O=d==="series",R=Zt.getClass(d,A.keyInfo.subType,!O);if(!R)return;if(d==="tooltip"){if(S)return;S=!0}if(P&&P.constructor===R)P.name=A.keyInfo.name,P.mergeOption(E,this),P.optionUpdated(E,!1);else{var C=et({componentIndex:L},A.keyInfo);P=new R(E,this,this,C),et(P,C),A.brandNew&&(P.__requireNewView=!0),P.init(E,this,this),P.optionUpdated(null,!0)}}P?(_.push(P.option),w.push(P),b++):(_.push(void 0),w.push(void 0))},this),i[d]=_,a.set(d,w),o.set(d,b),d==="series"&&Of(this)}this._seriesIndices||Of(this)},e.prototype.getOption=function(){var n=wt(this.option);return Y(n,function(r,i){if(Zt.hasClass(i)){for(var a=se(r),o=a.length,s=!1,u=o-1;u>=0;u--)a[u]&&!dl(a[u])?s=!0:(a[u]=null,!s&&o--);a.length=o,n[i]=a}}),delete n[vS],n},e.prototype.getTheme=function(){return this._theme},e.prototype.getLocaleModel=function(){return this._locale},e.prototype.setUpdatePayload=function(n){this._payload=n},e.prototype.getUpdatePayload=function(){return this._payload},e.prototype.getComponent=function(n,r){var i=this._componentsMap.get(n);if(i){var a=i[r||0];if(a)return a;if(r==null){for(var o=0;o<i.length;o++)if(i[o])return i[o]}}},e.prototype.queryComponents=function(n){var r=n.mainType;if(!r)return[];var i=n.index,a=n.id,o=n.name,s=this._componentsMap.get(r);if(!s||!s.length)return[];var u;return i!=null?(u=[],Y(se(i),function(f){s[f]&&u.push(s[f])})):a!=null?u=gS("id",a,s):o!=null?u=gS("name",o,s):u=pe(s,function(f){return!!f}),yS(u,n)},e.prototype.findComponents=function(n){var r=n.query,i=n.mainType,a=s(r),o=a?this.queryComponents(a):pe(this._componentsMap.get(i),function(f){return!!f});return u(yS(o,n));function s(f){var c=i+"Index",d=i+"Id",p=i+"Name";return f&&(f[c]!=null||f[d]!=null||f[p]!=null)?{mainType:i,index:f[c],id:f[d],name:f[p]}:null}function u(f){return n.filter?pe(f,n.filter):f}},e.prototype.eachComponent=function(n,r,i){var a=this._componentsMap;if(mt(n)){var o=r,s=n;a.each(function(d,p){for(var v=0;d&&v<d.length;v++){var y=d[v];y&&s.call(o,p,y,y.componentIndex)}})}else for(var u=ut(n)?a.get(n):pt(n)?this.findComponents(n):null,f=0;u&&f<u.length;f++){var c=u[f];c&&r.call(i,c,c.componentIndex)}},e.prototype.getSeriesByName=function(n){var r=ur(n,null);return pe(this._componentsMap.get("series"),function(i){return!!i&&r!=null&&i.name===r})},e.prototype.getSeriesByIndex=function(n){return this._componentsMap.get("series")[n]},e.prototype.getSeriesByType=function(n){return pe(this._componentsMap.get("series"),function(r){return!!r&&r.subType===n})},e.prototype.getSeries=function(){return pe(this._componentsMap.get("series"),function(n){return!!n})},e.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},e.prototype.eachSeries=function(n,r){Fs(this),Y(this._seriesIndices,function(i){var a=this._componentsMap.get("series")[i];n.call(r,a,i)},this)},e.prototype.eachRawSeries=function(n,r){Y(this._componentsMap.get("series"),function(i){i&&n.call(r,i,i.componentIndex)})},e.prototype.eachSeriesByType=function(n,r,i){Fs(this),Y(this._seriesIndices,function(a){var o=this._componentsMap.get("series")[a];o.subType===n&&r.call(i,o,a)},this)},e.prototype.eachRawSeriesByType=function(n,r,i){return Y(this.getSeriesByType(n),r,i)},e.prototype.isSeriesFiltered=function(n){return Fs(this),this._seriesIndicesMap.get(n.componentIndex)==null},e.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},e.prototype.filterSeries=function(n,r){Fs(this);var i=[];Y(this._seriesIndices,function(a){var o=this._componentsMap.get("series")[a];n.call(r,o,a)&&i.push(a)},this),this._seriesIndices=i,this._seriesIndicesMap=yt(i)},e.prototype.restoreData=function(n){Of(this);var r=this._componentsMap,i=[];r.each(function(a,o){Zt.hasClass(o)&&i.push(o)}),Zt.topologicalTravel(i,Zt.getAllClassMainTypes(),function(a){Y(r.get(a),function(o){o&&(a!=="series"||!NX(o,n))&&o.restoreData()})})},e.internalField=function(){Of=function(n){var r=n._seriesIndices=[];Y(n._componentsMap.get("series"),function(i){i&&r.push(i.componentIndex)}),n._seriesIndicesMap=yt(r)},Fs=function(n){},pS=function(n,r){n.option={},n.option[vS]=OX,n._componentsMap=yt({series:[]}),n._componentsCount=yt();var i=r.aria;pt(i)&&i.enabled==null&&(i.enabled=!0),$X(r,n._theme.option),Mt(r,AX,!1),n._mergeOption(r,null)}}(),e}(_e);function NX(t,e){if(e){var n=e.seriesIndex,r=e.seriesId,i=e.seriesName;return n!=null&&t.componentIndex!==n||r!=null&&t.id!==r||i!=null&&t.name!==i}}function $X(t,e){var n=t.color&&!t.colorLayer;Y(e,function(r,i){i==="colorLayer"&&n||Zt.hasClass(i)||(typeof r=="object"?t[i]=t[i]?Mt(t[i],r,!1):wt(r):t[i]==null&&(t[i]=r))})}function gS(t,e,n){if(nt(e)){var r=yt();return Y(e,function(a){if(a!=null){var o=ur(a,null);o!=null&&r.set(a,!0)}}),pe(n,function(a){return a&&r.get(a[t])})}else{var i=ur(e,null);return pe(n,function(a){return a&&i!=null&&a[t]===i})}}function yS(t,e){return e.hasOwnProperty("subType")?pe(t,function(n){return n&&n.subType===e.subType}):t}function mS(t){var e=yt();return t&&Y(se(t.replaceMerge),function(n){e.set(n,!0)}),{replaceMergeMainTypeMap:e}}gr(TE,F_);const AE=TE;var GX=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],VX=function(){function t(e){Y(GX,function(n){this[n]=qt(e[n],e)},this)}return t}();const CE=VX;var Xv={},FX=function(){function t(){this._coordinateSystems=[]}return t.prototype.create=function(e,n){var r=[];Y(Xv,function(i,a){var o=i.create(e,n);r=r.concat(o||[])}),this._coordinateSystems=r},t.prototype.update=function(e,n){Y(this._coordinateSystems,function(r){r.update&&r.update(e,n)})},t.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},t.register=function(e,n){Xv[e]=n},t.get=function(e){return Xv[e]},t}();const B_=FX;var BX=/^(min|max)?(.+)$/,zX=function(){function t(e){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=e}return t.prototype.setOption=function(e,n,r){e&&(Y(se(e.series),function(o){o&&o.data&&cn(o.data)&&P0(o.data)}),Y(se(e.dataset),function(o){o&&o.source&&cn(o.source)&&P0(o.source)})),e=wt(e);var i=this._optionBackup,a=HX(e,n,!i);this._newBaseOption=a.baseOption,i?(a.timelineOptions.length&&(i.timelineOptions=a.timelineOptions),a.mediaList.length&&(i.mediaList=a.mediaList),a.mediaDefault&&(i.mediaDefault=a.mediaDefault)):this._optionBackup=a},t.prototype.mountOption=function(e){var n=this._optionBackup;return this._timelineOptions=n.timelineOptions,this._mediaList=n.mediaList,this._mediaDefault=n.mediaDefault,this._currentMediaIndices=[],wt(e?n.baseOption:this._newBaseOption)},t.prototype.getTimelineOption=function(e){var n,r=this._timelineOptions;if(r.length){var i=e.getComponent("timeline");i&&(n=wt(r[i.getCurrentIndex()]))}return n},t.prototype.getMediaOption=function(e){var n=this._api.getWidth(),r=this._api.getHeight(),i=this._mediaList,a=this._mediaDefault,o=[],s=[];if(!i.length&&!a)return s;for(var u=0,f=i.length;u<f;u++)YX(i[u].query,n,r)&&o.push(u);return!o.length&&a&&(o=[-1]),o.length&&!UX(o,this._currentMediaIndices)&&(s=at(o,function(c){return wt(c===-1?a.option:i[c].option)})),this._currentMediaIndices=o,s},t}();function HX(t,e,n){var r=[],i,a,o=t.baseOption,s=t.timeline,u=t.options,f=t.media,c=!!t.media,d=!!(u||s||o&&o.timeline);o?(a=o,a.timeline||(a.timeline=s)):((d||c)&&(t.options=t.media=null),a=t),c&&nt(f)&&Y(f,function(v){v&&v.option&&(v.query?r.push(v):i||(i=v))}),p(a),Y(u,function(v){return p(v)}),Y(r,function(v){return p(v.option)});function p(v){Y(e,function(y){y(v,n)})}return{baseOption:a,timelineOptions:u||[],mediaDefault:i,mediaList:r}}function YX(t,e,n){var r={width:e,height:n,aspectratio:e/n},i=!0;return Y(t,function(a,o){var s=o.match(BX);if(!(!s||!s[1]||!s[2])){var u=s[1],f=s[2].toLowerCase();XX(r[f],a,u)||(i=!1)}}),i}function XX(t,e,n){return n==="min"?t>=e:n==="max"?t<=e:t===e}function UX(t,e){return t.join(",")===e.join(",")}const WX=zX;var En=Y,_l=pt,_S=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function Uv(t){var e=t&&t.itemStyle;if(e)for(var n=0,r=_S.length;n<r;n++){var i=_S[n],a=e.normal,o=e.emphasis;a&&a[i]&&(t[i]=t[i]||{},t[i].normal?Mt(t[i].normal,a[i]):t[i].normal=a[i],a[i]=null),o&&o[i]&&(t[i]=t[i]||{},t[i].emphasis?Mt(t[i].emphasis,o[i]):t[i].emphasis=o[i],o[i]=null)}}function Me(t,e,n){if(t&&t[e]&&(t[e].normal||t[e].emphasis)){var r=t[e].normal,i=t[e].emphasis;r&&(n?(t[e].normal=t[e].emphasis=null,bt(t[e],r)):t[e]=r),i&&(t.emphasis=t.emphasis||{},t.emphasis[e]=i,i.focus&&(t.emphasis.focus=i.focus),i.blurScope&&(t.emphasis.blurScope=i.blurScope))}}function xu(t){Me(t,"itemStyle"),Me(t,"lineStyle"),Me(t,"areaStyle"),Me(t,"label"),Me(t,"labelLine"),Me(t,"upperLabel"),Me(t,"edgeLabel")}function re(t,e){var n=_l(t)&&t[e],r=_l(n)&&n.textStyle;if(r)for(var i=0,a=_b.length;i<a;i++){var o=_b[i];r.hasOwnProperty(o)&&(n[o]=r[o])}}function wn(t){t&&(xu(t),re(t,"label"),t.emphasis&&re(t.emphasis,"label"))}function qX(t){if(_l(t)){Uv(t),xu(t),re(t,"label"),re(t,"upperLabel"),re(t,"edgeLabel"),t.emphasis&&(re(t.emphasis,"label"),re(t.emphasis,"upperLabel"),re(t.emphasis,"edgeLabel"));var e=t.markPoint;e&&(Uv(e),wn(e));var n=t.markLine;n&&(Uv(n),wn(n));var r=t.markArea;r&&wn(r);var i=t.data;if(t.type==="graph"){i=i||t.nodes;var a=t.links||t.edges;if(a&&!cn(a))for(var o=0;o<a.length;o++)wn(a[o]);Y(t.categories,function(f){xu(f)})}if(i&&!cn(i))for(var o=0;o<i.length;o++)wn(i[o]);if(e=t.markPoint,e&&e.data)for(var s=e.data,o=0;o<s.length;o++)wn(s[o]);if(n=t.markLine,n&&n.data)for(var u=n.data,o=0;o<u.length;o++)nt(u[o])?(wn(u[o][0]),wn(u[o][1])):wn(u[o]);t.type==="gauge"?(re(t,"axisLabel"),re(t,"title"),re(t,"detail")):t.type==="treemap"?(Me(t.breadcrumb,"itemStyle"),Y(t.levels,function(f){xu(f)})):t.type==="tree"&&xu(t.leaves)}}function br(t){return nt(t)?t:t?[t]:[]}function xS(t){return(nt(t)?t[0]:t)||{}}function ZX(t,e){En(br(t.series),function(r){_l(r)&&qX(r)});var n=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];e&&n.push("valueAxis","categoryAxis","logAxis","timeAxis"),En(n,function(r){En(br(t[r]),function(i){i&&(re(i,"axisLabel"),re(i.axisPointer,"label"))})}),En(br(t.parallel),function(r){var i=r&&r.parallelAxisDefault;re(i,"axisLabel"),re(i&&i.axisPointer,"label")}),En(br(t.calendar),function(r){Me(r,"itemStyle"),re(r,"dayLabel"),re(r,"monthLabel"),re(r,"yearLabel")}),En(br(t.radar),function(r){re(r,"name"),r.name&&r.axisName==null&&(r.axisName=r.name,delete r.name),r.nameGap!=null&&r.axisNameGap==null&&(r.axisNameGap=r.nameGap,delete r.nameGap)}),En(br(t.geo),function(r){_l(r)&&(wn(r),En(br(r.regions),function(i){wn(i)}))}),En(br(t.timeline),function(r){wn(r),Me(r,"label"),Me(r,"itemStyle"),Me(r,"controlStyle",!0);var i=r.data;nt(i)&&Y(i,function(a){pt(a)&&(Me(a,"label"),Me(a,"itemStyle"))})}),En(br(t.toolbox),function(r){Me(r,"iconStyle"),En(r.feature,function(i){Me(i,"iconStyle")})}),re(xS(t.axisPointer),"label"),re(xS(t.tooltip).axisPointer,"label")}function QX(t,e){for(var n=e.split(","),r=t,i=0;i<n.length&&(r=r&&r[n[i]],r!=null);i++);return r}function KX(t,e,n,r){for(var i=e.split(","),a=t,o,s=0;s<i.length-1;s++)o=i[s],a[o]==null&&(a[o]={}),a=a[o];(r||a[i[s]]==null)&&(a[i[s]]=n)}function wS(t){t&&Y(jX,function(e){e[0]in t&&!(e[1]in t)&&(t[e[1]]=t[e[0]])})}var jX=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],JX=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],Wv=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function Bs(t){var e=t&&t.itemStyle;if(e)for(var n=0;n<Wv.length;n++){var r=Wv[n][1],i=Wv[n][0];e[r]!=null&&(e[i]=e[r])}}function bS(t){t&&t.alignTo==="edge"&&t.margin!=null&&t.edgeDistance==null&&(t.edgeDistance=t.margin)}function SS(t){t&&t.downplay&&!t.blur&&(t.blur=t.downplay)}function tU(t){t&&t.focusNodeAdjacency!=null&&(t.emphasis=t.emphasis||{},t.emphasis.focus==null&&(t.emphasis.focus="adjacency"))}function ME(t,e){if(t)for(var n=0;n<t.length;n++)e(t[n]),t[n]&&ME(t[n].children,e)}function PE(t,e){ZX(t,e),t.series=se(t.series),Y(t.series,function(n){if(pt(n)){var r=n.type;if(r==="line")n.clipOverflow!=null&&(n.clip=n.clipOverflow);else if(r==="pie"||r==="gauge"){n.clockWise!=null&&(n.clockwise=n.clockWise),bS(n.label);var i=n.data;if(i&&!cn(i))for(var a=0;a<i.length;a++)bS(i[a]);n.hoverOffset!=null&&(n.emphasis=n.emphasis||{},(n.emphasis.scaleSize=null)&&(n.emphasis.scaleSize=n.hoverOffset))}else if(r==="gauge"){var o=QX(n,"pointer.color");o!=null&&KX(n,"itemStyle.color",o)}else if(r==="bar"){Bs(n),Bs(n.backgroundStyle),Bs(n.emphasis);var i=n.data;if(i&&!cn(i))for(var a=0;a<i.length;a++)typeof i[a]=="object"&&(Bs(i[a]),Bs(i[a]&&i[a].emphasis))}else if(r==="sunburst"){var s=n.highlightPolicy;s&&(n.emphasis=n.emphasis||{},n.emphasis.focus||(n.emphasis.focus=s)),SS(n),ME(n.data,SS)}else r==="graph"||r==="sankey"?tU(n):r==="map"&&(n.mapType&&!n.map&&(n.map=n.mapType),n.mapLocation&&bt(n,n.mapLocation));n.hoverAnimation!=null&&(n.emphasis=n.emphasis||{},n.emphasis&&n.emphasis.scale==null&&(n.emphasis.scale=n.hoverAnimation)),wS(n)}}),t.dataRange&&(t.visualMap=t.dataRange),Y(JX,function(n){var r=t[n];r&&(nt(r)||(r=[r]),Y(r,function(i){wS(i)}))})}function eU(t){var e=yt();t.eachSeries(function(n){var r=n.get("stack");if(r){var i=e.get(r)||e.set(r,[]),a=n.getData(),o={stackResultDimension:a.getCalculationInfo("stackResultDimension"),stackedOverDimension:a.getCalculationInfo("stackedOverDimension"),stackedDimension:a.getCalculationInfo("stackedDimension"),stackedByDimension:a.getCalculationInfo("stackedByDimension"),isStackedByIndex:a.getCalculationInfo("isStackedByIndex"),data:a,seriesModel:n};if(!o.stackedDimension||!(o.isStackedByIndex||o.stackedByDimension))return;i.length&&a.setCalculationInfo("stackedOnSeries",i[i.length-1].seriesModel),i.push(o)}}),e.each(nU)}function nU(t){Y(t,function(e,n){var r=[],i=[NaN,NaN],a=[e.stackResultDimension,e.stackedOverDimension],o=e.data,s=e.isStackedByIndex,u=e.seriesModel.get("stackStrategy")||"samesign";o.modify(a,function(f,c,d){var p=o.get(e.stackedDimension,d);if(isNaN(p))return i;var v,y;s?y=o.getRawIndex(d):v=o.get(e.stackedByDimension,d);for(var x=NaN,_=n-1;_>=0;_--){var w=t[_];if(s||(y=w.data.rawIndexOf(w.stackedByDimension,v)),y>=0){var b=w.data.getByRawIndex(w.stackResultDimension,y);if(u==="all"||u==="positive"&&b>0||u==="negative"&&b<0||u==="samesign"&&p>=0&&b>0||u==="samesign"&&p<=0&&b<0){p=vz(p,b),x=b;break}}}return r[0]=p,r[1]=x,r})})}var np=function(){function t(e){this.data=e.data||(e.sourceFormat===Fr?{}:[]),this.sourceFormat=e.sourceFormat||xE,this.seriesLayoutBy=e.seriesLayoutBy||Er,this.startIndex=e.startIndex||0,this.dimensionsDetectedCount=e.dimensionsDetectedCount,this.metaRawOption=e.metaRawOption;var n=this.dimensionsDefine=e.dimensionsDefine;if(n)for(var r=0;r<n.length;r++){var i=n[r];i.type==null&&SE(this,r)===rn.Must&&(i.type="ordinal")}}return t}();function z_(t){return t instanceof np}function uy(t,e,n){n=n||LE(t);var r=e.seriesLayoutBy,i=iU(t,n,r,e.sourceHeader,e.dimensions),a=new np({data:t,sourceFormat:n,seriesLayoutBy:r,dimensionsDefine:i.dimensionsDefine,startIndex:i.startIndex,dimensionsDetectedCount:i.dimensionsDetectedCount,metaRawOption:wt(e)});return a}function H_(t){return new np({data:t,sourceFormat:cn(t)?ci:Ln})}function rU(t){return new np({data:t.data,sourceFormat:t.sourceFormat,seriesLayoutBy:t.seriesLayoutBy,dimensionsDefine:wt(t.dimensionsDefine),startIndex:t.startIndex,dimensionsDetectedCount:t.dimensionsDetectedCount})}function LE(t){var e=xE;if(cn(t))e=ci;else if(nt(t)){t.length===0&&(e=nn);for(var n=0,r=t.length;n<r;n++){var i=t[n];if(i!=null){if(nt(i)){e=nn;break}else if(pt(i)){e=yr;break}}}}else if(pt(t)){for(var a in t)if(Ko(t,a)&&en(t[a])){e=Fr;break}}return e}function iU(t,e,n,r,i){var a,o;if(!t)return{dimensionsDefine:TS(i),startIndex:o,dimensionsDetectedCount:a};if(e===nn){var s=t;r==="auto"||r==null?AS(function(f){f!=null&&f!=="-"&&(ut(f)?o==null&&(o=1):o=0)},n,s,10):o=Qt(r)?r:r?1:0,!i&&o===1&&(i=[],AS(function(f,c){i[c]=f!=null?f+"":""},n,s,1/0)),a=i?i.length:n===ms?s.length:s[0]?s[0].length:null}else if(e===yr)i||(i=aU(t));else if(e===Fr)i||(i=[],Y(t,function(f,c){i.push(c)}));else if(e===Ln){var u=Gl(t[0]);a=nt(u)&&u.length||1}return{startIndex:o,dimensionsDefine:TS(i),dimensionsDetectedCount:a}}function aU(t){for(var e=0,n;e<t.length&&!(n=t[e++]););if(n)return jt(n)}function TS(t){if(t){var e=yt();return at(t,function(n,r){n=pt(n)?n:{name:n};var i={name:n.name,displayName:n.displayName,type:n.type};if(i.name==null)return i;i.name+="",i.displayName==null&&(i.displayName=i.name);var a=e.get(i.name);return a?i.name+="-"+a.count++:e.set(i.name,{count:1}),i})}}function AS(t,e,n,r){if(e===ms)for(var i=0;i<n.length&&i<r;i++)t(n[i]?n[i][0]:null,i);else for(var a=n[0]||[],i=0;i<a.length&&i<r;i++)t(a[i],i)}function DE(t){var e=t.sourceFormat;return e===yr||e===Fr}var Ui,Wi,qi,CS,MS,EE=function(){function t(e,n){var r=z_(e)?e:H_(e);this._source=r;var i=this._data=r.data;r.sourceFormat===ci&&(this._offset=0,this._dimSize=n,this._data=i),MS(this,i,r)}return t.prototype.getSource=function(){return this._source},t.prototype.count=function(){return 0},t.prototype.getItem=function(e,n){},t.prototype.appendData=function(e){},t.prototype.clean=function(){},t.protoInitialize=function(){var e=t.prototype;e.pure=!1,e.persistent=!0}(),t.internalField=function(){var e;MS=function(o,s,u){var f=u.sourceFormat,c=u.seriesLayoutBy,d=u.startIndex,p=u.dimensionsDefine,v=CS[Y_(f,c)];if(et(o,v),f===ci)o.getItem=n,o.count=i,o.fillStorage=r;else{var y=IE(f,c);o.getItem=qt(y,null,s,d,p);var x=RE(f,c);o.count=qt(x,null,s,d,p)}};var n=function(o,s){o=o-this._offset,s=s||[];for(var u=this._data,f=this._dimSize,c=f*o,d=0;d<f;d++)s[d]=u[c+d];return s},r=function(o,s,u,f){for(var c=this._data,d=this._dimSize,p=0;p<d;p++){for(var v=f[p],y=v[0]==null?1/0:v[0],x=v[1]==null?-1/0:v[1],_=s-o,w=u[p],b=0;b<_;b++){var S=c[b*d+p];w[o+b]=S,S<y&&(y=S),S>x&&(x=S)}v[0]=y,v[1]=x}},i=function(){return this._data?this._data.length/this._dimSize:0};CS=(e={},e[nn+"_"+Er]={pure:!0,appendData:a},e[nn+"_"+ms]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},e[yr]={pure:!0,appendData:a},e[Fr]={pure:!0,appendData:function(o){var s=this._data;Y(o,function(u,f){for(var c=s[f]||(s[f]=[]),d=0;d<(u||[]).length;d++)c.push(u[d])})}},e[Ln]={appendData:a},e[ci]={persistent:!1,pure:!0,appendData:function(o){this._data=o},clean:function(){this._offset+=this.count(),this._data=null}},e);function a(o){for(var s=0;s<o.length;s++)this._data.push(o[s])}}(),t}(),PS=function(t,e,n,r){return t[r]},oU=(Ui={},Ui[nn+"_"+Er]=function(t,e,n,r){return t[r+e]},Ui[nn+"_"+ms]=function(t,e,n,r,i){r+=e;for(var a=i||[],o=t,s=0;s<o.length;s++){var u=o[s];a[s]=u?u[r]:null}return a},Ui[yr]=PS,Ui[Fr]=function(t,e,n,r,i){for(var a=i||[],o=0;o<n.length;o++){var s=n[o].name,u=t[s];a[o]=u?u[r]:null}return a},Ui[Ln]=PS,Ui);function IE(t,e){var n=oU[Y_(t,e)];return n}var LS=function(t,e,n){return t.length},sU=(Wi={},Wi[nn+"_"+Er]=function(t,e,n){return Math.max(0,t.length-e)},Wi[nn+"_"+ms]=function(t,e,n){var r=t[0];return r?Math.max(0,r.length-e):0},Wi[yr]=LS,Wi[Fr]=function(t,e,n){var r=n[0].name,i=t[r];return i?i.length:0},Wi[Ln]=LS,Wi);function RE(t,e){var n=sU[Y_(t,e)];return n}var qv=function(t,e,n){return t[e]},uU=(qi={},qi[nn]=qv,qi[yr]=function(t,e,n){return t[n]},qi[Fr]=qv,qi[Ln]=function(t,e,n){var r=Gl(t);return r instanceof Array?r[e]:r},qi[ci]=qv,qi);function kE(t){var e=uU[t];return e}function Y_(t,e){return t===nn?t+"_"+e:t}function rs(t,e,n){if(t){var r=t.getRawDataItem(e);if(r!=null){var i=t.getStore(),a=i.getSource().sourceFormat;if(n!=null){var o=t.getDimensionIndex(n),s=i.getDimensionProperty(o);return kE(a)(r,o,s)}else{var u=r;return a===Ln&&(u=Gl(r)),u}}}}var lU=/\{@(.+?)\}/g,fU=function(){function t(){}return t.prototype.getDataParams=function(e,n){var r=this.getData(n),i=this.getRawValue(e,n),a=r.getRawIndex(e),o=r.getName(e),s=r.getRawDataItem(e),u=r.getItemVisual(e,"style"),f=u&&u[r.getItemVisual(e,"drawType")||"fill"],c=u&&u.stroke,d=this.mainType,p=d==="series",v=r.userOutput&&r.userOutput.get();return{componentType:d,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:p?this.subType:null,seriesIndex:this.seriesIndex,seriesId:p?this.id:null,seriesName:p?this.name:null,name:o,dataIndex:a,data:s,dataType:n,value:i,color:f,borderColor:c,dimensionNames:v?v.fullDimensions:null,encode:v?v.encode:null,$vars:["seriesName","name","value"]}},t.prototype.getFormattedLabel=function(e,n,r,i,a,o){n=n||"normal";var s=this.getData(r),u=this.getDataParams(e,r);if(o&&(u.value=o.interpolatedValue),i!=null&&nt(u.value)&&(u.value=u.value[i]),!a){var f=s.getItemModel(e);a=f.get(n==="normal"?["label","formatter"]:[n,"label","formatter"])}if(mt(a))return u.status=n,u.dimensionIndex=i,a(u);if(ut(a)){var c=yE(a,u);return c.replace(lU,function(d,p){var v=p.length,y=p;y.charAt(0)==="["&&y.charAt(v-1)==="]"&&(y=+y.slice(1,v-1));var x=rs(s,e,y);if(o&&nt(o.interpolatedValue)){var _=s.getDimensionIndex(y);_>=0&&(x=o.interpolatedValue[_])}return x!=null?x+"":""})}},t.prototype.getRawValue=function(e,n){return rs(this.getData(n),e)},t.prototype.formatTooltip=function(e,n,r){},t}();function DS(t){var e,n;return pt(t)?t.type&&(n=t):e=t,{text:e,frag:n}}function Gu(t){return new cU(t)}var cU=function(){function t(e){e=e||{},this._reset=e.reset,this._plan=e.plan,this._count=e.count,this._onDirty=e.onDirty,this._dirty=!0}return t.prototype.perform=function(e){var n=this._upstream,r=e&&e.skip;if(this._dirty&&n){var i=this.context;i.data=i.outputData=n.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var a;this._plan&&!r&&(a=this._plan(this.context));var o=c(this._modBy),s=this._modDataCount||0,u=c(e&&e.modBy),f=e&&e.modDataCount||0;(o!==u||s!==f)&&(a="reset");function c(b){return!(b>=1)&&(b=1),b}var d;(this._dirty||a==="reset")&&(this._dirty=!1,d=this._doReset(r)),this._modBy=u,this._modDataCount=f;var p=e&&e.step;if(n?this._dueEnd=n._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var v=this._dueIndex,y=Math.min(p!=null?this._dueIndex+p:1/0,this._dueEnd);if(!r&&(d||v<y)){var x=this._progress;if(nt(x))for(var _=0;_<x.length;_++)this._doProgress(x[_],v,y,u,f);else this._doProgress(x,v,y,u,f)}this._dueIndex=y;var w=this._settedOutputEnd!=null?this._settedOutputEnd:y;this._outputDueEnd=w}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},t.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},t.prototype._doProgress=function(e,n,r,i,a){ES.reset(n,r,i,a),this._callingProgress=e,this._callingProgress({start:n,end:r,count:r-n,next:ES.next},this.context)},t.prototype._doReset=function(e){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var n,r;!e&&this._reset&&(n=this._reset(this.context),n&&n.progress&&(r=n.forceFirstProgress,n=n.progress),nt(n)&&!n.length&&(n=null)),this._progress=n,this._modBy=this._modDataCount=null;var i=this._downstream;return i&&i.dirty(),r},t.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},t.prototype.pipe=function(e){(this._downstream!==e||this._dirty)&&(this._downstream=e,e._upstream=this,e.dirty())},t.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},t.prototype.getUpstream=function(){return this._upstream},t.prototype.getDownstream=function(){return this._downstream},t.prototype.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e},t}(),ES=function(){var t,e,n,r,i,a={reset:function(u,f,c,d){e=u,t=f,n=c,r=d,i=Math.ceil(r/n),a.next=n>1&&r>0?s:o}};return a;function o(){return e<t?e++:null}function s(){var u=e%i*n+Math.ceil(e/i),f=e>=t?null:u<r?u:e;return e++,f}}();function Tc(t,e){var n=e&&e.type;return n==="ordinal"?t:(n==="time"&&!Qt(t)&&t!=null&&t!=="-"&&(t=+Or(t)),t==null||t===""?NaN:+t)}yt({number:function(t){return parseFloat(t)},time:function(t){return+Or(t)},trim:function(t){return ut(t)?ar(t):t}});var hU=function(){function t(e,n){var r=e==="desc";this._resultLT=r?1:-1,n==null&&(n=r?"min":"max"),this._incomparable=n==="min"?-1/0:1/0}return t.prototype.evaluate=function(e,n){var r=Qt(e)?e:Eh(e),i=Qt(n)?n:Eh(n),a=isNaN(r),o=isNaN(i);if(a&&(r=this._incomparable),o&&(i=this._incomparable),a&&o){var s=ut(e),u=ut(n);s&&(r=u?e:0),u&&(i=s?n:0)}return r<i?this._resultLT:r>i?-this._resultLT:0},t}(),dU=function(){function t(){}return t.prototype.getRawData=function(){throw new Error("not supported")},t.prototype.getRawDataItem=function(e){throw new Error("not supported")},t.prototype.cloneRawData=function(){},t.prototype.getDimensionInfo=function(e){},t.prototype.cloneAllDimensionInfo=function(){},t.prototype.count=function(){},t.prototype.retrieveValue=function(e,n){},t.prototype.retrieveValueFromItem=function(e,n){},t.prototype.convertValue=function(e,n){return Tc(e,n)},t}();function pU(t,e){var n=new dU,r=t.data,i=n.sourceFormat=t.sourceFormat,a=t.startIndex,o="";t.seriesLayoutBy!==Er&&Qe(o);var s=[],u={},f=t.dimensionsDefine;if(f)Y(f,function(x,_){var w=x.name,b={index:_,name:w,displayName:x.displayName};if(s.push(b),w!=null){var S="";Ko(u,w)&&Qe(S),u[w]=b}});else for(var c=0;c<t.dimensionsDetectedCount;c++)s.push({index:c});var d=IE(i,Er);e.__isBuiltIn&&(n.getRawDataItem=function(x){return d(r,a,s,x)},n.getRawData=qt(vU,null,t)),n.cloneRawData=qt(gU,null,t);var p=RE(i,Er);n.count=qt(p,null,r,a,s);var v=kE(i);n.retrieveValue=function(x,_){var w=d(r,a,s,x);return y(w,_)};var y=n.retrieveValueFromItem=function(x,_){if(x!=null){var w=s[_];if(w)return v(x,_,w.name)}};return n.getDimensionInfo=qt(yU,null,s,u),n.cloneAllDimensionInfo=qt(mU,null,s),n}function vU(t){var e=t.sourceFormat;if(!X_(e)){var n="";Qe(n)}return t.data}function gU(t){var e=t.sourceFormat,n=t.data;if(!X_(e)){var r="";Qe(r)}if(e===nn){for(var i=[],a=0,o=n.length;a<o;a++)i.push(n[a].slice());return i}else if(e===yr){for(var i=[],a=0,o=n.length;a<o;a++)i.push(et({},n[a]));return i}}function yU(t,e,n){if(n!=null){if(Qt(n)||!isNaN(n)&&!Ko(e,n))return t[n];if(Ko(e,n))return e[n]}}function mU(t){return wt(t)}var OE=yt();function _U(t){t=wt(t);var e=t.type,n="";e||Qe(n);var r=e.split(":");r.length!==2&&Qe(n);var i=!1;r[0]==="echarts"&&(e=r[1],i=!0),t.__isBuiltIn=i,OE.set(e,t)}function xU(t,e,n){var r=se(t),i=r.length,a="";i||Qe(a);for(var o=0,s=i;o<s;o++){var u=r[o];e=wU(u,e),o!==s-1&&(e.length=Math.max(e.length,1))}return e}function wU(t,e,n,r){var i="";e.length||Qe(i),pt(t)||Qe(i);var a=t.type,o=OE.get(a);o||Qe(i);var s=at(e,function(f){return pU(f,o)}),u=se(o.transform({upstream:s[0],upstreamList:s,config:wt(t.config)}));return at(u,function(f,c){var d="";pt(f)||Qe(d),f.data||Qe(d);var p=LE(f.data);X_(p)||Qe(d);var v,y=e[0];if(y&&c===0&&!f.dimensions){var x=y.startIndex;x&&(f.data=y.data.slice(0,x).concat(f.data)),v={seriesLayoutBy:Er,sourceHeader:x,dimensions:y.metaRawOption.dimensions}}else v={seriesLayoutBy:Er,sourceHeader:0,dimensions:f.dimensions};return uy(f.data,v,null)})}function X_(t){return t===nn||t===yr}var rp="undefined",bU=typeof Uint32Array===rp?Array:Uint32Array,SU=typeof Uint16Array===rp?Array:Uint16Array,NE=typeof Int32Array===rp?Array:Int32Array,IS=typeof Float64Array===rp?Array:Float64Array,$E={float:IS,int:NE,ordinal:Array,number:Array,time:IS},Zv;function zs(t){return t>65535?bU:SU}function oo(){return[1/0,-1/0]}function TU(t){var e=t.constructor;return e===Array?t.slice():new e(t)}function RS(t,e,n,r,i){var a=$E[n||"float"];if(i){var o=t[e],s=o&&o.length;if(s!==r){for(var u=new a(r),f=0;f<s;f++)u[f]=o[f];t[e]=u}}else t[e]=new a(r)}var AU=function(){function t(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=yt()}return t.prototype.initData=function(e,n,r){this._provider=e,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var i=e.getSource(),a=this.defaultDimValueGetter=Zv[i.sourceFormat];this._dimValueGetter=r||a,this._rawExtent=[],DE(i),this._dimensions=at(n,function(o){return{type:o.type,property:o.property}}),this._initDataFromProvider(0,e.count())},t.prototype.getProvider=function(){return this._provider},t.prototype.getSource=function(){return this._provider.getSource()},t.prototype.ensureCalculationDimension=function(e,n){var r=this._calcDimNameToIdx,i=this._dimensions,a=r.get(e);if(a!=null){if(i[a].type===n)return a}else a=i.length;return i[a]={type:n},r.set(e,a),this._chunks[a]=new $E[n||"float"](this._rawCount),this._rawExtent[a]=oo(),a},t.prototype.collectOrdinalMeta=function(e,n){var r=this._chunks[e],i=this._dimensions[e],a=this._rawExtent,o=i.ordinalOffset||0,s=r.length;o===0&&(a[e]=oo());for(var u=a[e],f=o;f<s;f++){var c=r[f]=n.parseAndCollect(r[f]);isNaN(c)||(u[0]=Math.min(c,u[0]),u[1]=Math.max(c,u[1]))}i.ordinalMeta=n,i.ordinalOffset=s,i.type="ordinal"},t.prototype.getOrdinalMeta=function(e){var n=this._dimensions[e],r=n.ordinalMeta;return r},t.prototype.getDimensionProperty=function(e){var n=this._dimensions[e];return n&&n.property},t.prototype.appendData=function(e){var n=this._provider,r=this.count();n.appendData(e);var i=n.count();return n.persistent||(i+=r),r<i&&this._initDataFromProvider(r,i,!0),[r,i]},t.prototype.appendValues=function(e,n){for(var r=this._chunks,i=this._dimensions,a=i.length,o=this._rawExtent,s=this.count(),u=s+Math.max(e.length,n||0),f=0;f<a;f++){var c=i[f];RS(r,f,c.type,u,!0)}for(var d=[],p=s;p<u;p++)for(var v=p-s,y=0;y<a;y++){var c=i[y],x=Zv.arrayRows.call(this,e[v]||d,c.property,v,y);r[y][p]=x;var _=o[y];x<_[0]&&(_[0]=x),x>_[1]&&(_[1]=x)}return this._rawCount=this._count=u,{start:s,end:u}},t.prototype._initDataFromProvider=function(e,n,r){for(var i=this._provider,a=this._chunks,o=this._dimensions,s=o.length,u=this._rawExtent,f=at(o,function(b){return b.property}),c=0;c<s;c++){var d=o[c];u[c]||(u[c]=oo()),RS(a,c,d.type,n,r)}if(i.fillStorage)i.fillStorage(e,n,a,u);else for(var p=[],v=e;v<n;v++){p=i.getItem(v,p);for(var y=0;y<s;y++){var x=a[y],_=this._dimValueGetter(p,f[y],v,y);x[v]=_;var w=u[y];_<w[0]&&(w[0]=_),_>w[1]&&(w[1]=_)}}!i.persistent&&i.clean&&i.clean(),this._rawCount=this._count=n,this._extent=[]},t.prototype.count=function(){return this._count},t.prototype.get=function(e,n){if(!(n>=0&&n<this._count))return NaN;var r=this._chunks[e];return r?r[this.getRawIndex(n)]:NaN},t.prototype.getValues=function(e,n){var r=[],i=[];if(n==null){n=e,e=[];for(var a=0;a<this._dimensions.length;a++)i.push(a)}else i=e;for(var a=0,o=i.length;a<o;a++)r.push(this.get(i[a],n));return r},t.prototype.getByRawIndex=function(e,n){if(!(n>=0&&n<this._rawCount))return NaN;var r=this._chunks[e];return r?r[n]:NaN},t.prototype.getSum=function(e){var n=this._chunks[e],r=0;if(n)for(var i=0,a=this.count();i<a;i++){var o=this.get(e,i);isNaN(o)||(r+=o)}return r},t.prototype.getMedian=function(e){var n=[];this.each([e],function(a){isNaN(a)||n.push(a)});var r=n.sort(function(a,o){return a-o}),i=this.count();return i===0?0:i%2===1?r[(i-1)/2]:(r[i/2]+r[i/2-1])/2},t.prototype.indexOfRawIndex=function(e){if(e>=this._rawCount||e<0)return-1;if(!this._indices)return e;var n=this._indices,r=n[e];if(r!=null&&r<this._count&&r===e)return e;for(var i=0,a=this._count-1;i<=a;){var o=(i+a)/2|0;if(n[o]<e)i=o+1;else if(n[o]>e)a=o-1;else return o}return-1},t.prototype.indicesOfNearest=function(e,n,r){var i=this._chunks,a=i[e],o=[];if(!a)return o;r==null&&(r=1/0);for(var s=1/0,u=-1,f=0,c=0,d=this.count();c<d;c++){var p=this.getRawIndex(c),v=n-a[p],y=Math.abs(v);y<=r&&((y<s||y===s&&v>=0&&u<0)&&(s=y,u=v,f=0),v===u&&(o[f++]=c))}return o.length=f,o},t.prototype.getIndices=function(){var e,n=this._indices;if(n){var r=n.constructor,i=this._count;if(r===Array){e=new r(i);for(var a=0;a<i;a++)e[a]=n[a]}else e=new r(n.buffer,0,i)}else{var r=zs(this._rawCount);e=new r(this.count());for(var a=0;a<e.length;a++)e[a]=a}return e},t.prototype.filter=function(e,n){if(!this._count)return this;for(var r=this.clone(),i=r.count(),a=zs(r._rawCount),o=new a(i),s=[],u=e.length,f=0,c=e[0],d=r._chunks,p=0;p<i;p++){var v=void 0,y=r.getRawIndex(p);if(u===0)v=n(p);else if(u===1){var x=d[c][y];v=n(x,p)}else{for(var _=0;_<u;_++)s[_]=d[e[_]][y];s[_]=p,v=n.apply(null,s)}v&&(o[f++]=y)}return f<i&&(r._indices=o),r._count=f,r._extent=[],r._updateGetRawIdx(),r},t.prototype.selectRange=function(e){var n=this.clone(),r=n._count;if(!r)return this;var i=jt(e),a=i.length;if(!a)return this;var o=n.count(),s=zs(n._rawCount),u=new s(o),f=0,c=i[0],d=e[c][0],p=e[c][1],v=n._chunks,y=!1;if(!n._indices){var x=0;if(a===1){for(var _=v[i[0]],w=0;w<r;w++){var b=_[w];(b>=d&&b<=p||isNaN(b))&&(u[f++]=x),x++}y=!0}else if(a===2){for(var _=v[i[0]],S=v[i[1]],A=e[i[1]][0],L=e[i[1]][1],w=0;w<r;w++){var b=_[w],P=S[w];(b>=d&&b<=p||isNaN(b))&&(P>=A&&P<=L||isNaN(P))&&(u[f++]=x),x++}y=!0}}if(!y)if(a===1)for(var w=0;w<o;w++){var E=n.getRawIndex(w),b=v[i[0]][E];(b>=d&&b<=p||isNaN(b))&&(u[f++]=E)}else for(var w=0;w<o;w++){for(var O=!0,E=n.getRawIndex(w),R=0;R<a;R++){var C=i[R],b=v[C][E];(b<e[C][0]||b>e[C][1])&&(O=!1)}O&&(u[f++]=n.getRawIndex(w))}return f<o&&(n._indices=u),n._count=f,n._extent=[],n._updateGetRawIdx(),n},t.prototype.map=function(e,n){var r=this.clone(e);return this._updateDims(r,e,n),r},t.prototype.modify=function(e,n){this._updateDims(this,e,n)},t.prototype._updateDims=function(e,n,r){for(var i=e._chunks,a=[],o=n.length,s=e.count(),u=[],f=e._rawExtent,c=0;c<n.length;c++)f[n[c]]=oo();for(var d=0;d<s;d++){for(var p=e.getRawIndex(d),v=0;v<o;v++)u[v]=i[n[v]][p];u[o]=d;var y=r&&r.apply(null,u);if(y!=null){typeof y!="object"&&(a[0]=y,y=a);for(var c=0;c<y.length;c++){var x=n[c],_=y[c],w=f[x],b=i[x];b&&(b[p]=_),_<w[0]&&(w[0]=_),_>w[1]&&(w[1]=_)}}}},t.prototype.lttbDownSample=function(e,n){var r=this.clone([e],!0),i=r._chunks,a=i[e],o=this.count(),s=0,u=Math.floor(1/n),f=this.getRawIndex(0),c,d,p,v=new(zs(this._rawCount))(Math.min((Math.ceil(o/u)+2)*2,o));v[s++]=f;for(var y=1;y<o-1;y+=u){for(var x=Math.min(y+u,o-1),_=Math.min(y+u*2,o),w=(_+x)/2,b=0,S=x;S<_;S++){var A=this.getRawIndex(S),L=a[A];isNaN(L)||(b+=L)}b/=_-x;var P=y,E=Math.min(y+u,o),O=y-1,R=a[f];c=-1,p=P;for(var C=-1,N=0,S=P;S<E;S++){var A=this.getRawIndex(S),L=a[A];if(isNaN(L)){N++,C<0&&(C=A);continue}d=Math.abs((O-w)*(L-R)-(O-S)*(b-R)),d>c&&(c=d,p=A)}N>0&&N<E-P&&(v[s++]=Math.min(C,p),p=Math.max(C,p)),v[s++]=p,f=p}return v[s++]=this.getRawIndex(o-1),r._count=s,r._indices=v,r.getRawIndex=this._getRawIdx,r},t.prototype.downSample=function(e,n,r,i){for(var a=this.clone([e],!0),o=a._chunks,s=[],u=Math.floor(1/n),f=o[e],c=this.count(),d=a._rawExtent[e]=oo(),p=new(zs(this._rawCount))(Math.ceil(c/u)),v=0,y=0;y<c;y+=u){u>c-y&&(u=c-y,s.length=u);for(var x=0;x<u;x++){var _=this.getRawIndex(y+x);s[x]=f[_]}var w=r(s),b=this.getRawIndex(Math.min(y+i(s,w)||0,c-1));f[b]=w,w<d[0]&&(d[0]=w),w>d[1]&&(d[1]=w),p[v++]=b}return a._count=v,a._indices=p,a._updateGetRawIdx(),a},t.prototype.each=function(e,n){if(this._count)for(var r=e.length,i=this._chunks,a=0,o=this.count();a<o;a++){var s=this.getRawIndex(a);switch(r){case 0:n(a);break;case 1:n(i[e[0]][s],a);break;case 2:n(i[e[0]][s],i[e[1]][s],a);break;default:for(var u=0,f=[];u<r;u++)f[u]=i[e[u]][s];f[u]=a,n.apply(null,f)}}},t.prototype.getDataExtent=function(e){var n=this._chunks[e],r=oo();if(!n)return r;var i=this.count(),a=!this._indices,o;if(a)return this._rawExtent[e].slice();if(o=this._extent[e],o)return o.slice();o=r;for(var s=o[0],u=o[1],f=0;f<i;f++){var c=this.getRawIndex(f),d=n[c];d<s&&(s=d),d>u&&(u=d)}return o=[s,u],this._extent[e]=o,o},t.prototype.getRawDataItem=function(e){var n=this.getRawIndex(e);if(this._provider.persistent)return this._provider.getItem(n);for(var r=[],i=this._chunks,a=0;a<i.length;a++)r.push(i[a][n]);return r},t.prototype.clone=function(e,n){var r=new t,i=this._chunks,a=e&&ps(e,function(s,u){return s[u]=!0,s},{});if(a)for(var o=0;o<i.length;o++)r._chunks[o]=a[o]?TU(i[o]):i[o];else r._chunks=i;return this._copyCommonProps(r),n||(r._indices=this._cloneIndices()),r._updateGetRawIdx(),r},t.prototype._copyCommonProps=function(e){e._count=this._count,e._rawCount=this._rawCount,e._provider=this._provider,e._dimensions=this._dimensions,e._extent=wt(this._extent),e._rawExtent=wt(this._rawExtent)},t.prototype._cloneIndices=function(){if(this._indices){var e=this._indices.constructor,n=void 0;if(e===Array){var r=this._indices.length;n=new e(r);for(var i=0;i<r;i++)n[i]=this._indices[i]}else n=new e(this._indices);return n}return null},t.prototype._getRawIdxIdentity=function(e){return e},t.prototype._getRawIdx=function(e){return e<this._count&&e>=0?this._indices[e]:-1},t.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},t.internalField=function(){function e(n,r,i,a){return Tc(n[a],this._dimensions[a])}Zv={arrayRows:e,objectRows:function(n,r,i,a){return Tc(n[r],this._dimensions[a])},keyedColumns:e,original:function(n,r,i,a){var o=n&&(n.value==null?n:n.value);return Tc(o instanceof Array?o[a]:o,this._dimensions[a])},typedArray:function(n,r,i,a){return n[a]}}}(),t}();const ly=AU;var CU=function(){function t(e){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=e}return t.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},t.prototype._setLocalSource=function(e,n){this._sourceList=e,this._upstreamSignList=n,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},t.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},t.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},t.prototype._createSource=function(){this._setLocalSource([],[]);var e=this._sourceHost,n=this._getUpstreamSourceManagers(),r=!!n.length,i,a;if(Nf(e)){var o=e,s=void 0,u=void 0,f=void 0;if(r){var c=n[0];c.prepareSource(),f=c.getSource(),s=f.data,u=f.sourceFormat,a=[c._getVersionSign()]}else s=o.get("data",!0),u=cn(s)?ci:Ln,a=[];var d=this._getSourceMetaRawOption()||{},p=f&&f.metaRawOption||{},v=Vt(d.seriesLayoutBy,p.seriesLayoutBy)||null,y=Vt(d.sourceHeader,p.sourceHeader),x=Vt(d.dimensions,p.dimensions),_=v!==p.seriesLayoutBy||!!y!=!!p.sourceHeader||x;i=_?[uy(s,{seriesLayoutBy:v,sourceHeader:y,dimensions:x},u)]:[]}else{var w=e;if(r){var b=this._applyTransform(n);i=b.sourceList,a=b.upstreamSignList}else{var S=w.get("source",!0);i=[uy(S,this._getSourceMetaRawOption(),null)],a=[]}}this._setLocalSource(i,a)},t.prototype._applyTransform=function(e){var n=this._sourceHost,r=n.get("transform",!0),i=n.get("fromTransformResult",!0);if(i!=null){var a="";e.length!==1&&kS(a)}var o,s=[],u=[];return Y(e,function(f){f.prepareSource();var c=f.getSource(i||0),d="";i!=null&&!c&&kS(d),s.push(c),u.push(f._getVersionSign())}),r?o=xU(r,s,{datasetIndex:n.componentIndex}):i!=null&&(o=[rU(s[0])]),{sourceList:o,upstreamSignList:u}},t.prototype._isDirty=function(){if(this._dirty)return!0;for(var e=this._getUpstreamSourceManagers(),n=0;n<e.length;n++){var r=e[n];if(r._isDirty()||this._upstreamSignList[n]!==r._getVersionSign())return!0}},t.prototype.getSource=function(e){e=e||0;var n=this._sourceList[e];if(!n){var r=this._getUpstreamSourceManagers();return r[0]&&r[0].getSource(e)}return n},t.prototype.getSharedDataStore=function(e){var n=e.makeStoreSchema();return this._innerGetDataStore(n.dimensions,e.source,n.hash)},t.prototype._innerGetDataStore=function(e,n,r){var i=0,a=this._storeList,o=a[i];o||(o=a[i]={});var s=o[r];if(!s){var u=this._getUpstreamSourceManagers()[0];Nf(this._sourceHost)&&u?s=u._innerGetDataStore(e,n,r):(s=new ly,s.initData(new EE(n,e.length),e)),o[r]=s}return s},t.prototype._getUpstreamSourceManagers=function(){var e=this._sourceHost;if(Nf(e)){var n=bE(e);return n?[n.getSourceManager()]:[]}else return at(PX(e),function(r){return r.getSourceManager()})},t.prototype._getSourceMetaRawOption=function(){var e=this._sourceHost,n,r,i;if(Nf(e))n=e.get("seriesLayoutBy",!0),r=e.get("sourceHeader",!0),i=e.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var a=e;n=a.get("seriesLayoutBy",!0),r=a.get("sourceHeader",!0),i=a.get("dimensions",!0)}return{seriesLayoutBy:n,sourceHeader:r,dimensions:i}},t}();function Nf(t){return t.mainType==="series"}function kS(t){throw new Error(t)}var GE="line-height:1";function VE(t,e){var n=t.color||"#6e7079",r=t.fontSize||12,i=t.fontWeight||"400",a=t.color||"#464646",o=t.fontSize||14,s=t.fontWeight||"900";return e==="html"?{nameStyle:"font-size:"+Tn(r+"")+"px;color:"+Tn(n)+";font-weight:"+Tn(i+""),valueStyle:"font-size:"+Tn(o+"")+"px;color:"+Tn(a)+";font-weight:"+Tn(s+"")}:{nameStyle:{fontSize:r,fill:n,fontWeight:i},valueStyle:{fontSize:o,fill:a,fontWeight:s}}}var MU=[0,10,20,30],PU=["",`
`,`

`,`


`];function xl(t,e){return e.type=t,e}function fy(t){return t.type==="section"}function FE(t){return fy(t)?LU:DU}function BE(t){if(fy(t)){var e=0,n=t.blocks.length,r=n>1||n>0&&!t.noHeader;return Y(t.blocks,function(i){var a=BE(i);a>=e&&(e=a+ +(r&&(!a||fy(i)&&!i.noHeader)))}),e}return 0}function LU(t,e,n,r){var i=e.noHeader,a=EU(BE(e)),o=[],s=e.blocks||[];cr(!s||nt(s)),s=s||[];var u=t.orderMode;if(e.sortBlocks&&u){s=s.slice();var f={valueAsc:"asc",valueDesc:"desc"};if(Ko(f,u)){var c=new hU(f[u],null);s.sort(function(y,x){return c.evaluate(y.sortParam,x.sortParam)})}else u==="seriesDesc"&&s.reverse()}Y(s,function(y,x){var _=e.valueFormatter,w=FE(y)(_?et(et({},t),{valueFormatter:_}):t,y,x>0?a.html:0,r);w!=null&&o.push(w)});var d=t.renderMode==="richText"?o.join(a.richText):cy(o.join(""),i?n:a.html);if(i)return d;var p=oy(e.header,"ordinal",t.useUTC),v=VE(r,t.renderMode).nameStyle;return t.renderMode==="richText"?zE(t,p,v)+a.richText+d:cy('<div style="'+v+";"+GE+';">'+Tn(p)+"</div>"+d,n)}function DU(t,e,n,r){var i=t.renderMode,a=e.noName,o=e.noValue,s=!e.markerType,u=e.name,f=t.useUTC,c=e.valueFormatter||t.valueFormatter||function(A){return A=nt(A)?A:[A],at(A,function(L,P){return oy(L,nt(v)?v[P]:v,f)})};if(!(a&&o)){var d=s?"":t.markupStyleCreator.makeTooltipMarker(e.markerType,e.markerColor||"#333",i),p=a?"":oy(u,"ordinal",f),v=e.valueType,y=o?[]:c(e.value),x=!s||!a,_=!s&&a,w=VE(r,i),b=w.nameStyle,S=w.valueStyle;return i==="richText"?(s?"":d)+(a?"":zE(t,p,b))+(o?"":kU(t,y,x,_,S)):cy((s?"":d)+(a?"":IU(p,!s,b))+(o?"":RU(y,x,_,S)),n)}}function OS(t,e,n,r,i,a){if(t){var o=FE(t),s={useUTC:i,renderMode:n,orderMode:r,markupStyleCreator:e,valueFormatter:t.valueFormatter};return o(s,t,0,a)}}function EU(t){return{html:MU[t],richText:PU[t]}}function cy(t,e){var n='<div style="clear:both"></div>',r="margin: "+e+"px 0 0";return'<div style="'+r+";"+GE+';">'+t+n+"</div>"}function IU(t,e,n){var r=e?"margin-left:2px":"";return'<span style="'+n+";"+r+'">'+Tn(t)+"</span>"}function RU(t,e,n,r){var i=n?"10px":"20px",a=e?"float:right;margin-left:"+i:"";return t=nt(t)?t:[t],'<span style="'+a+";"+r+'">'+at(t,function(o){return Tn(o)}).join("&nbsp;&nbsp;")+"</span>"}function zE(t,e,n){return t.markupStyleCreator.wrapRichTextStyle(e,n)}function kU(t,e,n,r,i){var a=[i],o=r?10:20;return n&&a.push({padding:[0,0,0,o],align:"right"}),t.markupStyleCreator.wrapRichTextStyle(nt(e)?e.join("  "):e,a)}function OU(t,e){var n=t.getData().getItemVisual(e,"style"),r=n[t.visualDrawType];return Ea(r)}function HE(t,e){var n=t.get("padding");return n??(e==="richText"?[8,10]:10)}var Qv=function(){function t(){this.richTextStyles={},this._nextStyleNameId=QL()}return t.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},t.prototype.makeTooltipMarker=function(e,n,r){var i=r==="richText"?this._generateStyleName():null,a=_X({color:n,type:e,renderMode:r,markerId:i});return ut(a)?a:(this.richTextStyles[i]=a.style,a.content)},t.prototype.wrapRichTextStyle=function(e,n){var r={};nt(n)?Y(n,function(a){return et(r,a)}):et(r,n);var i=this._generateStyleName();return this.richTextStyles[i]=r,"{"+i+"|"+e+"}"},t}();function NU(t){var e=t.series,n=t.dataIndex,r=t.multipleSeries,i=e.getData(),a=i.mapDimensionsAll("defaultedTooltip"),o=a.length,s=e.getRawValue(n),u=nt(s),f=OU(e,n),c,d,p,v;if(o>1||u&&!o){var y=$U(s,e,n,a,f);c=y.inlineValues,d=y.inlineValueTypes,p=y.blocks,v=y.inlineValues[0]}else if(o){var x=i.getDimensionInfo(a[0]);v=c=rs(i,n,a[0]),d=x.type}else v=c=u?s[0]:s;var _=__(e),w=_&&e.name||"",b=i.getName(n),S=r?w:b;return xl("section",{header:w,noHeader:r||!_,sortParam:v,blocks:[xl("nameValue",{markerType:"item",markerColor:f,name:S,noName:!ar(S),value:c,valueType:d})].concat(p||[])})}function $U(t,e,n,r,i){var a=e.getData(),o=ps(t,function(d,p,v){var y=a.getDimensionInfo(v);return d=d||y&&y.tooltip!==!1&&y.displayName!=null},!1),s=[],u=[],f=[];r.length?Y(r,function(d){c(rs(a,n,d),d)}):Y(t,c);function c(d,p){var v=a.getDimensionInfo(p);!v||v.otherDims.tooltip===!1||(o?f.push(xl("nameValue",{markerType:"subItem",markerColor:i,name:v.displayName,value:d,valueType:v.type})):(s.push(d),u.push(v.type)))}return{inlineValues:s,inlineValueTypes:u,blocks:f}}var Wr=ae();function $f(t,e){return t.getName(e)||t.getId(e)}var Ac="__universalTransitionEnabled",ip=function(t){ht(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n._selectedDataIndicesMap={},n}return e.prototype.init=function(n,r,i){this.seriesIndex=this.componentIndex,this.dataTask=Gu({count:VU,reset:FU}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(n,i);var a=Wr(this).sourceManager=new CU(this);a.prepareSource();var o=this.getInitialData(n,i);$S(o,this),this.dataTask.context.data=o,Wr(this).dataBeforeProcessed=o,NS(this),this._initSelectedMapFromData(o)},e.prototype.mergeDefaultAndTheme=function(n,r){var i=ml(this),a=i?ep(n):{},o=this.subType;Zt.hasClass(o)&&(o+="Series"),Mt(n,r.getTheme().get(this.subType)),Mt(n,this.getDefaultOption()),mb(n,"label",["show"]),this.fillDataTextStyle(n.data),i&&ns(n,a,i)},e.prototype.mergeOption=function(n,r){n=Mt(this.option,n,!0),this.fillDataTextStyle(n.data);var i=ml(this);i&&ns(this.option,n,i);var a=Wr(this).sourceManager;a.dirty(),a.prepareSource();var o=this.getInitialData(n,r);$S(o,this),this.dataTask.dirty(),this.dataTask.context.data=o,Wr(this).dataBeforeProcessed=o,NS(this),this._initSelectedMapFromData(o)},e.prototype.fillDataTextStyle=function(n){if(n&&!cn(n))for(var r=["show"],i=0;i<n.length;i++)n[i]&&n[i].label&&mb(n[i],"label",r)},e.prototype.getInitialData=function(n,r){},e.prototype.appendData=function(n){var r=this.getRawData();r.appendData(n.data)},e.prototype.getData=function(n){var r=hy(this);if(r){var i=r.context.data;return n==null?i:i.getLinkedData(n)}else return Wr(this).data},e.prototype.getAllData=function(){var n=this.getData();return n&&n.getLinkedDataAll?n.getLinkedDataAll():[{data:n}]},e.prototype.setData=function(n){var r=hy(this);if(r){var i=r.context;i.outputData=n,r!==this.dataTask&&(i.data=n)}Wr(this).data=n},e.prototype.getEncode=function(){var n=this.get("encode",!0);if(n)return yt(n)},e.prototype.getSourceManager=function(){return Wr(this).sourceManager},e.prototype.getSource=function(){return this.getSourceManager().getSource()},e.prototype.getRawData=function(){return Wr(this).dataBeforeProcessed},e.prototype.getColorBy=function(){var n=this.get("colorBy");return n||"series"},e.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},e.prototype.getBaseAxis=function(){var n=this.coordinateSystem;return n&&n.getBaseAxis&&n.getBaseAxis()},e.prototype.formatTooltip=function(n,r,i){return NU({series:this,dataIndex:n,multipleSeries:r})},e.prototype.isAnimationEnabled=function(){var n=this.ecModel;if(Ct.node&&!(n&&n.ssr))return!1;var r=this.getShallow("animation");return r&&this.getData().count()>this.getShallow("animationThreshold")&&(r=!1),!!r},e.prototype.restoreData=function(){this.dataTask.dirty()},e.prototype.getColorFromPalette=function(n,r,i){var a=this.ecModel,o=F_.prototype.getColorFromPalette.call(this,n,r,i);return o||(o=a.getColorFromPalette(n,r,i)),o},e.prototype.coordDimToDataDim=function(n){return this.getRawData().mapDimensionsAll(n)},e.prototype.getProgressive=function(){return this.get("progressive")},e.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},e.prototype.select=function(n,r){this._innerSelect(this.getData(r),n)},e.prototype.unselect=function(n,r){var i=this.option.selectedMap;if(i){var a=this.option.selectedMode,o=this.getData(r);if(a==="series"||i==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var s=0;s<n.length;s++){var u=n[s],f=$f(o,u);i[f]=!1,this._selectedDataIndicesMap[f]=-1}}},e.prototype.toggleSelect=function(n,r){for(var i=[],a=0;a<n.length;a++)i[0]=n[a],this.isSelected(n[a],r)?this.unselect(i,r):this.select(i,r)},e.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var n=this._selectedDataIndicesMap,r=jt(n),i=[],a=0;a<r.length;a++){var o=n[r[a]];o>=0&&i.push(o)}return i},e.prototype.isSelected=function(n,r){var i=this.option.selectedMap;if(!i)return!1;var a=this.getData(r);return(i==="all"||i[$f(a,n)])&&!a.getItemModel(n).get(["select","disabled"])},e.prototype.isUniversalTransitionEnabled=function(){if(this[Ac])return!0;var n=this.option.universalTransition;return n?n===!0?!0:n&&n.enabled:!1},e.prototype._innerSelect=function(n,r){var i,a,o=this.option,s=o.selectedMode,u=r.length;if(!(!s||!u)){if(s==="series")o.selectedMap="all";else if(s==="multiple"){pt(o.selectedMap)||(o.selectedMap={});for(var f=o.selectedMap,c=0;c<u;c++){var d=r[c],p=$f(n,d);f[p]=!0,this._selectedDataIndicesMap[p]=n.getRawIndex(d)}}else if(s==="single"||s===!0){var v=r[u-1],p=$f(n,v);o.selectedMap=(i={},i[p]=!0,i),this._selectedDataIndicesMap=(a={},a[p]=n.getRawIndex(v),a)}}},e.prototype._initSelectedMapFromData=function(n){if(!this.option.selectedMap){var r=[];n.hasItemOption&&n.each(function(i){var a=n.getRawDataItem(i);a&&a.selected&&r.push(i)}),r.length>0&&this._innerSelect(n,r)}},e.registerClass=function(n){return Zt.registerClass(n)},e.protoInitialize=function(){var n=e.prototype;n.type="series.__base__",n.seriesIndex=0,n.ignoreStyleOnData=!1,n.hasSymbolVisual=!1,n.defaultSymbol="circle",n.visualStyleAccessPath="itemStyle",n.visualDrawType="fill"}(),e}(Zt);gr(ip,fU);gr(ip,F_);rD(ip,Zt);function NS(t){var e=t.name;__(t)||(t.name=GU(t)||e)}function GU(t){var e=t.getRawData(),n=e.mapDimensionsAll("seriesName"),r=[];return Y(n,function(i){var a=e.getDimensionInfo(i);a.displayName&&r.push(a.displayName)}),r.join(" ")}function VU(t){return t.model.getRawData().count()}function FU(t){var e=t.model;return e.setData(e.getRawData().cloneShallow()),BU}function BU(t,e){e.outputData&&t.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function $S(t,e){Y(VF(t.CHANGABLE_METHODS,t.DOWNSAMPLE_METHODS),function(n){t.wrapMethod(n,zt(zU,e))})}function zU(t,e){var n=hy(t);return n&&n.setOutputEnd((e||this).count()),e}function hy(t){var e=(t.ecModel||{}).scheduler,n=e&&e.getPipeline(t.uid);if(n){var r=n.currentTask;if(r){var i=r.agentStubMap;i&&(r=i.get(t.uid))}return r}}const Ia=ip;var U_=function(){function t(){this.group=new ce,this.uid=Fl("viewComponent")}return t.prototype.init=function(e,n){},t.prototype.render=function(e,n,r,i){},t.prototype.dispose=function(e,n){},t.prototype.updateView=function(e,n,r,i){},t.prototype.updateLayout=function(e,n,r,i){},t.prototype.updateVisual=function(e,n,r,i){},t.prototype.toggleBlurSeries=function(e,n,r){},t.prototype.eachRendered=function(e){var n=this.group;n&&n.traverse(e)},t}();w_(U_);kd(U_);const pr=U_;function W_(){var t=ae();return function(e){var n=t(e),r=e.pipelineContext,i=!!n.large,a=!!n.progressiveRender,o=n.large=!!(r&&r.large),s=n.progressiveRender=!!(r&&r.progressiveRender);return(i!==o||a!==s)&&"reset"}}var YE=ae(),HU=W_(),q_=function(){function t(){this.group=new ce,this.uid=Fl("viewChart"),this.renderTask=Gu({plan:YU,reset:XU}),this.renderTask.context={view:this}}return t.prototype.init=function(e,n){},t.prototype.render=function(e,n,r,i){},t.prototype.highlight=function(e,n,r,i){var a=e.getData(i&&i.dataType);a&&VS(a,i,"emphasis")},t.prototype.downplay=function(e,n,r,i){var a=e.getData(i&&i.dataType);a&&VS(a,i,"normal")},t.prototype.remove=function(e,n){this.group.removeAll()},t.prototype.dispose=function(e,n){},t.prototype.updateView=function(e,n,r,i){this.render(e,n,r,i)},t.prototype.updateLayout=function(e,n,r,i){this.render(e,n,r,i)},t.prototype.updateVisual=function(e,n,r,i){this.render(e,n,r,i)},t.prototype.eachRendered=function(e){Yd(this.group,e)},t.markUpdateMethod=function(e,n){YE(e).updateMethod=n},t.protoInitialize=function(){var e=t.prototype;e.type="chart"}(),t}();function GS(t,e,n){t&&ey(t)&&(e==="emphasis"?jo:Jo)(t,n)}function VS(t,e,n){var r=Pa(t,e),i=e&&e.highlightKey!=null?eY(e.highlightKey):null;r!=null?Y(se(r),function(a){GS(t.getItemGraphicEl(a),n,i)}):t.eachItemGraphicEl(function(a){GS(a,n,i)})}w_(q_);kd(q_);function YU(t){return HU(t.model)}function XU(t){var e=t.model,n=t.ecModel,r=t.api,i=t.payload,a=e.pipelineContext.progressiveRender,o=t.view,s=i&&YE(i).updateMethod,u=a?"incrementalPrepareRender":s&&o[s]?s:"render";return u!=="render"&&o[u](e,n,r,i),UU[u]}var UU={incrementalPrepareRender:{progress:function(t,e){e.view.incrementalRender(t,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(t,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}};const Ir=q_;var Gh="\0__throttleOriginMethod",FS="\0__throttleRate",BS="\0__throttleType";function Z_(t,e,n){var r,i=0,a=0,o=null,s,u,f,c;e=e||0;function d(){a=new Date().getTime(),o=null,t.apply(u,f||[])}var p=function(){for(var v=[],y=0;y<arguments.length;y++)v[y]=arguments[y];r=new Date().getTime(),u=this,f=v;var x=c||e,_=c||n;c=null,s=r-(_?i:a)-x,clearTimeout(o),_?o=setTimeout(d,x):s>=0?d():o=setTimeout(d,-s),i=r};return p.clear=function(){o&&(clearTimeout(o),o=null)},p.debounceNextCall=function(v){c=v},p}function XE(t,e,n,r){var i=t[e];if(i){var a=i[Gh]||i,o=i[BS],s=i[FS];if(s!==n||o!==r){if(n==null||!r)return t[e]=a;i=t[e]=Z_(a,n,r==="debounce"),i[Gh]=a,i[BS]=r,i[FS]=n}return i}}function dy(t,e){var n=t[e];n&&n[Gh]&&(n.clear&&n.clear(),t[e]=n[Gh])}var zS=ae(),HS={itemStyle:pl(rE,!0),lineStyle:pl(nE,!0)},WU={lineStyle:"stroke",itemStyle:"fill"};function UE(t,e){var n=t.visualStyleMapper||HS[e];return n||(console.warn("Unknown style type '"+e+"'."),HS.itemStyle)}function WE(t,e){var n=t.visualDrawType||WU[e];return n||(console.warn("Unknown style type '"+e+"'."),"fill")}var qU={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var n=t.getData(),r=t.visualStyleAccessPath||"itemStyle",i=t.getModel(r),a=UE(t,r),o=a(i),s=i.getShallow("decal");s&&(n.setVisual("decal",s),s.dirty=!0);var u=WE(t,r),f=o[u],c=mt(f)?f:null,d=o.fill==="auto"||o.stroke==="auto";if(!o[u]||c||d){var p=t.getColorFromPalette(t.name,null,e.getSeriesCount());o[u]||(o[u]=p,n.setVisual("colorFromPalette",!0)),o.fill=o.fill==="auto"||mt(o.fill)?p:o.fill,o.stroke=o.stroke==="auto"||mt(o.stroke)?p:o.stroke}if(n.setVisual("style",o),n.setVisual("drawType",u),!e.isSeriesFiltered(t)&&c)return n.setVisual("colorFromPalette",!1),{dataEach:function(v,y){var x=t.getDataParams(y),_=et({},o);_[u]=c(x),v.setItemVisual(y,"style",_)}}}},Hs=new _e,ZU={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){if(!(t.ignoreStyleOnData||e.isSeriesFiltered(t))){var n=t.getData(),r=t.visualStyleAccessPath||"itemStyle",i=UE(t,r),a=n.getVisual("drawType");return{dataEach:n.hasItemOption?function(o,s){var u=o.getRawDataItem(s);if(u&&u[r]){Hs.option=u[r];var f=i(Hs),c=o.ensureUniqueItemVisual(s,"style");et(c,f),Hs.option.decal&&(o.setItemVisual(s,"decal",Hs.option.decal),Hs.option.decal.dirty=!0),a in f&&o.setItemVisual(s,"colorFromPalette",!1)}}:null}}}},QU={performRawSeries:!0,overallReset:function(t){var e=yt();t.eachSeries(function(n){var r=n.getColorBy();if(!n.isColorBySeries()){var i=n.type+"-"+r,a=e.get(i);a||(a={},e.set(i,a)),zS(n).scope=a}}),t.eachSeries(function(n){if(!(n.isColorBySeries()||t.isSeriesFiltered(n))){var r=n.getRawData(),i={},a=n.getData(),o=zS(n).scope,s=n.visualStyleAccessPath||"itemStyle",u=WE(n,s);a.each(function(f){var c=a.getRawIndex(f);i[c]=f}),r.each(function(f){var c=i[f],d=a.getItemVisual(c,"colorFromPalette");if(d){var p=a.ensureUniqueItemVisual(c,"style"),v=r.getName(f)||f+"",y=r.count();p[u]=n.getColorFromPalette(v,o,y)}})}})}},Gf=Math.PI;function KU(t,e){e=e||{},bt(e,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var n=new ce,r=new ie({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4});n.add(r);var i=new ze({style:{text:e.text,fill:e.textColor,fontSize:e.fontSize,fontWeight:e.fontWeight,fontStyle:e.fontStyle,fontFamily:e.fontFamily},zlevel:e.zlevel,z:10001}),a=new ie({style:{fill:"none"},textContent:i,textConfig:{position:"right",distance:10},zlevel:e.zlevel,z:10001});n.add(a);var o;return e.showSpinner&&(o=new L_({shape:{startAngle:-Gf/2,endAngle:-Gf/2+.1,r:e.spinnerRadius},style:{stroke:e.color,lineCap:"round",lineWidth:e.lineWidth},zlevel:e.zlevel,z:10001}),o.animateShape(!0).when(1e3,{endAngle:Gf*3/2}).start("circularInOut"),o.animateShape(!0).when(1e3,{startAngle:Gf*3/2}).delay(300).start("circularInOut"),n.add(o)),n.resize=function(){var s=i.getBoundingRect().width,u=e.showSpinner?e.spinnerRadius:0,f=(t.getWidth()-u*2-(e.showSpinner&&s?10:0)-s)/2-(e.showSpinner&&s?0:5+s/2)+(e.showSpinner?0:s/2)+(s?0:u),c=t.getHeight()/2;e.showSpinner&&o.setShape({cx:f,cy:c}),a.setShape({x:f-u,y:c-u,width:u*2,height:u*2}),r.setShape({x:0,y:0,width:t.getWidth(),height:t.getHeight()})},n.resize(),n}var jU=function(){function t(e,n,r,i){this._stageTaskMap=yt(),this.ecInstance=e,this.api=n,r=this._dataProcessorHandlers=r.slice(),i=this._visualHandlers=i.slice(),this._allHandlers=r.concat(i)}return t.prototype.restoreData=function(e,n){e.restoreData(n),this._stageTaskMap.each(function(r){var i=r.overallTask;i&&i.dirty()})},t.prototype.getPerformArgs=function(e,n){if(e.__pipeline){var r=this._pipelineMap.get(e.__pipeline.id),i=r.context,a=!n&&r.progressiveEnabled&&(!i||i.progressiveRender)&&e.__idxInPipeline>r.blockIndex,o=a?r.step:null,s=i&&i.modDataCount,u=s!=null?Math.ceil(s/o):null;return{step:o,modBy:u,modDataCount:s}}},t.prototype.getPipeline=function(e){return this._pipelineMap.get(e)},t.prototype.updateStreamModes=function(e,n){var r=this._pipelineMap.get(e.uid),i=e.getData(),a=i.count(),o=r.progressiveEnabled&&n.incrementalPrepareRender&&a>=r.threshold,s=e.get("large")&&a>=e.get("largeThreshold"),u=e.get("progressiveChunkMode")==="mod"?a:null;e.pipelineContext=r.context={progressiveRender:o,modDataCount:u,large:s}},t.prototype.restorePipelines=function(e){var n=this,r=n._pipelineMap=yt();e.eachSeries(function(i){var a=i.getProgressive(),o=i.uid;r.set(o,{id:o,head:null,tail:null,threshold:i.getProgressiveThreshold(),progressiveEnabled:a&&!(i.preventIncremental&&i.preventIncremental()),blockIndex:-1,step:Math.round(a||700),count:0}),n._pipe(i,i.dataTask)})},t.prototype.prepareStageTasks=function(){var e=this._stageTaskMap,n=this.api.getModel(),r=this.api;Y(this._allHandlers,function(i){var a=e.get(i.uid)||e.set(i.uid,{}),o="";cr(!(i.reset&&i.overallReset),o),i.reset&&this._createSeriesStageTask(i,a,n,r),i.overallReset&&this._createOverallStageTask(i,a,n,r)},this)},t.prototype.prepareView=function(e,n,r,i){var a=e.renderTask,o=a.context;o.model=n,o.ecModel=r,o.api=i,a.__block=!e.incrementalPrepareRender,this._pipe(n,a)},t.prototype.performDataProcessorTasks=function(e,n){this._performStageTasks(this._dataProcessorHandlers,e,n,{block:!0})},t.prototype.performVisualTasks=function(e,n,r){this._performStageTasks(this._visualHandlers,e,n,r)},t.prototype._performStageTasks=function(e,n,r,i){i=i||{};var a=!1,o=this;Y(e,function(u,f){if(!(i.visualType&&i.visualType!==u.visualType)){var c=o._stageTaskMap.get(u.uid),d=c.seriesTaskMap,p=c.overallTask;if(p){var v,y=p.agentStubMap;y.each(function(_){s(i,_)&&(_.dirty(),v=!0)}),v&&p.dirty(),o.updatePayload(p,r);var x=o.getPerformArgs(p,i.block);y.each(function(_){_.perform(x)}),p.perform(x)&&(a=!0)}else d&&d.each(function(_,w){s(i,_)&&_.dirty();var b=o.getPerformArgs(_,i.block);b.skip=!u.performRawSeries&&n.isSeriesFiltered(_.context.model),o.updatePayload(_,r),_.perform(b)&&(a=!0)})}});function s(u,f){return u.setDirty&&(!u.dirtyMap||u.dirtyMap.get(f.__pipeline.id))}this.unfinished=a||this.unfinished},t.prototype.performSeriesTasks=function(e){var n;e.eachSeries(function(r){n=r.dataTask.perform()||n}),this.unfinished=n||this.unfinished},t.prototype.plan=function(){this._pipelineMap.each(function(e){var n=e.tail;do{if(n.__block){e.blockIndex=n.__idxInPipeline;break}n=n.getUpstream()}while(n)})},t.prototype.updatePayload=function(e,n){n!=="remain"&&(e.context.payload=n)},t.prototype._createSeriesStageTask=function(e,n,r,i){var a=this,o=n.seriesTaskMap,s=n.seriesTaskMap=yt(),u=e.seriesType,f=e.getTargetSeries;e.createOnAllSeries?r.eachRawSeries(c):u?r.eachRawSeriesByType(u,c):f&&f(r,i).each(c);function c(d){var p=d.uid,v=s.set(p,o&&o.get(p)||Gu({plan:rW,reset:iW,count:oW}));v.context={model:d,ecModel:r,api:i,useClearVisual:e.isVisual&&!e.isLayout,plan:e.plan,reset:e.reset,scheduler:a},a._pipe(d,v)}},t.prototype._createOverallStageTask=function(e,n,r,i){var a=this,o=n.overallTask=n.overallTask||Gu({reset:JU});o.context={ecModel:r,api:i,overallReset:e.overallReset,scheduler:a};var s=o.agentStubMap,u=o.agentStubMap=yt(),f=e.seriesType,c=e.getTargetSeries,d=!0,p=!1,v="";cr(!e.createOnAllSeries,v),f?r.eachRawSeriesByType(f,y):c?c(r,i).each(y):(d=!1,Y(r.getSeries(),y));function y(x){var _=x.uid,w=u.set(_,s&&s.get(_)||(p=!0,Gu({reset:tW,onDirty:nW})));w.context={model:x,overallProgress:d},w.agent=o,w.__block=d,a._pipe(x,w)}p&&o.dirty()},t.prototype._pipe=function(e,n){var r=e.uid,i=this._pipelineMap.get(r);!i.head&&(i.head=n),i.tail&&i.tail.pipe(n),i.tail=n,n.__idxInPipeline=i.count++,n.__pipeline=i},t.wrapStageHandler=function(e,n){return mt(e)&&(e={overallReset:e,seriesType:sW(e)}),e.uid=Fl("stageHandler"),n&&(e.visualType=n),e},t}();function JU(t){t.overallReset(t.ecModel,t.api,t.payload)}function tW(t){return t.overallProgress&&eW}function eW(){this.agent.dirty(),this.getDownstream().dirty()}function nW(){this.agent&&this.agent.dirty()}function rW(t){return t.plan?t.plan(t.model,t.ecModel,t.api,t.payload):null}function iW(t){t.useClearVisual&&t.data.clearAllVisual();var e=t.resetDefines=se(t.reset(t.model,t.ecModel,t.api,t.payload));return e.length>1?at(e,function(n,r){return qE(r)}):aW}var aW=qE(0);function qE(t){return function(e,n){var r=n.data,i=n.resetDefines[t];if(i&&i.dataEach)for(var a=e.start;a<e.end;a++)i.dataEach(r,a);else i&&i.progress&&i.progress(e,r)}}function oW(t){return t.data.count()}function sW(t){Vh=null;try{t(wl,ZE)}catch{}return Vh}var wl={},ZE={},Vh;QE(wl,AE);QE(ZE,CE);wl.eachSeriesByType=wl.eachRawSeriesByType=function(t){Vh=t};wl.eachComponent=function(t){t.mainType==="series"&&t.subType&&(Vh=t.subType)};function QE(t,e){for(var n in e.prototype)t[n]=$e}const KE=jU;var YS=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const uW={color:YS,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],YS]};var Le="#B9B8CE",XS="#100C2A",Vf=function(){return{axisLine:{lineStyle:{color:Le}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},US=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],jE={darkMode:!0,color:US,backgroundColor:XS,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:Le}},textStyle:{color:Le},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:Le}},dataZoom:{borderColor:"#71708A",textStyle:{color:Le},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:Le}},timeline:{lineStyle:{color:Le},label:{color:Le},controlStyle:{color:Le,borderColor:Le}},calendar:{itemStyle:{color:XS},dayLabel:{color:Le},monthLabel:{color:Le},yearLabel:{color:Le}},timeAxis:Vf(),logAxis:Vf(),valueAxis:Vf(),categoryAxis:Vf(),line:{symbol:"circle"},graph:{color:US},gauge:{title:{color:Le},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:Le},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};jE.categoryAxis.splitLine.show=!1;const lW=jE;var fW=function(){function t(){}return t.prototype.normalizeQuery=function(e){var n={},r={},i={};if(ut(e)){var a=or(e);n.mainType=a.main||null,n.subType=a.sub||null}else{var o=["Index","Name","Id"],s={name:1,dataIndex:1,dataType:1};Y(e,function(u,f){for(var c=!1,d=0;d<o.length;d++){var p=o[d],v=f.lastIndexOf(p);if(v>0&&v===f.length-p.length){var y=f.slice(0,v);y!=="data"&&(n.mainType=y,n[p.toLowerCase()]=u,c=!0)}}s.hasOwnProperty(f)&&(r[f]=u,c=!0),c||(i[f]=u)})}return{cptQuery:n,dataQuery:r,otherQuery:i}},t.prototype.filter=function(e,n){var r=this.eventInfo;if(!r)return!0;var i=r.targetEl,a=r.packedEvent,o=r.model,s=r.view;if(!o||!s)return!0;var u=n.cptQuery,f=n.dataQuery;return c(u,o,"mainType")&&c(u,o,"subType")&&c(u,o,"index","componentIndex")&&c(u,o,"name")&&c(u,o,"id")&&c(f,a,"name")&&c(f,a,"dataIndex")&&c(f,a,"dataType")&&(!s.filterForExposedEvent||s.filterForExposedEvent(e,n.otherQuery,i,a));function c(d,p,v,y){return d[v]==null||p[y||v]===d[v]}},t.prototype.afterTrigger=function(){this.eventInfo=null},t}(),py=["symbol","symbolSize","symbolRotate","symbolOffset"],WS=py.concat(["symbolKeepAspect"]),cW={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var n=t.getData();if(t.legendIcon&&n.setVisual("legendIcon",t.legendIcon),!t.hasSymbolVisual)return;for(var r={},i={},a=!1,o=0;o<py.length;o++){var s=py[o],u=t.get(s);mt(u)?(a=!0,i[s]=u):r[s]=u}if(r.symbol=r.symbol||t.defaultSymbol,n.setVisual(et({legendIcon:t.legendIcon||r.symbol,symbolKeepAspect:t.get("symbolKeepAspect")},r)),e.isSeriesFiltered(t))return;var f=jt(i);function c(d,p){for(var v=t.getRawValue(p),y=t.getDataParams(p),x=0;x<f.length;x++){var _=f[x];d.setItemVisual(p,_,i[_](v,y))}}return{dataEach:a?c:null}}},hW={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){if(!t.hasSymbolVisual||e.isSeriesFiltered(t))return;var n=t.getData();function r(i,a){for(var o=i.getItemModel(a),s=0;s<WS.length;s++){var u=WS[s],f=o.getShallow(u,!0);f!=null&&i.setItemVisual(a,u,f)}}return{dataEach:n.hasItemOption?r:null}}};function dW(t,e,n){switch(n){case"color":var r=t.getItemVisual(e,"style");return r[t.getVisual("drawType")];case"opacity":return t.getItemVisual(e,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return t.getItemVisual(e,n)}}function pW(t,e){switch(e){case"color":var n=t.getVisual("style");return n[t.getVisual("drawType")];case"opacity":return t.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return t.getVisual(e)}}function so(t,e,n,r,i){var a=t+e;n.isSilent(a)||r.eachComponent({mainType:"series",subType:"pie"},function(o){for(var s=o.seriesIndex,u=o.option.selectedMap,f=i.selected,c=0;c<f.length;c++)if(f[c].seriesIndex===s){var d=o.getData(),p=Pa(d,i.fromActionPayload);n.trigger(a,{type:a,seriesId:o.id,name:nt(p)?d.getName(p[0]):d.getName(p),selected:ut(u)?u:et({},u)})}})}function vW(t,e,n){t.on("selectchanged",function(r){var i=n.getModel();r.isFromClick?(so("map","selectchanged",e,i,r),so("pie","selectchanged",e,i,r)):r.fromAction==="select"?(so("map","selected",e,i,r),so("pie","selected",e,i,r)):r.fromAction==="unselect"&&(so("map","unselected",e,i,r),so("pie","unselected",e,i,r))})}function wu(t,e,n){for(var r;t&&!(e(t)&&(r=t,n));)t=t.__hostTarget||t.parent;return r}var gW=Math.round(Math.random()*9),yW=typeof Object.defineProperty=="function",mW=function(){function t(){this._id="__ec_inner_"+gW++}return t.prototype.get=function(e){return this._guard(e)[this._id]},t.prototype.set=function(e,n){var r=this._guard(e);return yW?Object.defineProperty(r,this._id,{value:n,enumerable:!1,configurable:!0}):r[this._id]=n,this},t.prototype.delete=function(e){return this.has(e)?(delete this._guard(e)[this._id],!0):!1},t.prototype.has=function(e){return!!this._guard(e)[this._id]},t.prototype._guard=function(e){if(e!==Object(e))throw TypeError("Value of WeakMap is not a non-null object.");return e},t}();const _W=mW;var xW=Rt.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var n=e.cx,r=e.cy,i=e.width/2,a=e.height/2;t.moveTo(n,r-a),t.lineTo(n+i,r+a),t.lineTo(n-i,r+a),t.closePath()}}),wW=Rt.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var n=e.cx,r=e.cy,i=e.width/2,a=e.height/2;t.moveTo(n,r-a),t.lineTo(n+i,r),t.lineTo(n,r+a),t.lineTo(n-i,r),t.closePath()}}),bW=Rt.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.x,r=e.y,i=e.width/5*3,a=Math.max(i,e.height),o=i/2,s=o*o/(a-o),u=r-a+o+s,f=Math.asin(s/o),c=Math.cos(f)*o,d=Math.sin(f),p=Math.cos(f),v=o*.6,y=o*.7;t.moveTo(n-c,u+s),t.arc(n,u,o,Math.PI-f,Math.PI*2+f),t.bezierCurveTo(n+c-d*v,u+s+p*v,n,r-y,n,r),t.bezierCurveTo(n,r-y,n-c+d*v,u+s+p*v,n-c,u+s),t.closePath()}}),SW=Rt.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.height,r=e.width,i=e.x,a=e.y,o=r/3*2;t.moveTo(i,a),t.lineTo(i+o,a+n),t.lineTo(i,a+n/4*3),t.lineTo(i-o,a+n),t.lineTo(i,a),t.closePath()}}),TW={line:Da,rect:ie,roundRect:ie,square:ie,circle:M_,diamond:wW,pin:bW,arrow:SW,triangle:xW},AW={line:function(t,e,n,r,i){i.x1=t,i.y1=e+r/2,i.x2=t+n,i.y2=e+r/2},rect:function(t,e,n,r,i){i.x=t,i.y=e,i.width=n,i.height=r},roundRect:function(t,e,n,r,i){i.x=t,i.y=e,i.width=n,i.height=r,i.r=Math.min(n,r)/4},square:function(t,e,n,r,i){var a=Math.min(n,r);i.x=t,i.y=e,i.width=a,i.height=a},circle:function(t,e,n,r,i){i.cx=t+n/2,i.cy=e+r/2,i.r=Math.min(n,r)/2},diamond:function(t,e,n,r,i){i.cx=t+n/2,i.cy=e+r/2,i.width=n,i.height=r},pin:function(t,e,n,r,i){i.x=t+n/2,i.y=e+r/2,i.width=n,i.height=r},arrow:function(t,e,n,r,i){i.x=t+n/2,i.y=e+r/2,i.width=n,i.height=r},triangle:function(t,e,n,r,i){i.cx=t+n/2,i.cy=e+r/2,i.width=n,i.height=r}},vy={};Y(TW,function(t,e){vy[e]=new t});var CW=Rt.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(t,e,n){var r=Lh(t,e,n),i=this.shape;return i&&i.symbolType==="pin"&&e.position==="inside"&&(r.y=n.y+n.height*.4),r},buildPath:function(t,e,n){var r=e.symbolType;if(r!=="none"){var i=vy[r];i||(r="rect",i=vy[r]),AW[r](e.x,e.y,e.width,e.height,i.shape),i.buildPath(t,i.shape,n)}}});function MW(t,e){if(this.type!=="image"){var n=this.style;this.__isEmptyBrush?(n.stroke=t,n.fill=e||"#fff",n.lineWidth=2):this.shape.symbolType==="line"?n.stroke=t:n.fill=t,this.markRedraw()}}function is(t,e,n,r,i,a,o){var s=t.indexOf("empty")===0;s&&(t=t.substr(5,1).toLowerCase()+t.substr(6));var u;return t.indexOf("image://")===0?u=ZD(t.slice(8),new Nt(e,n,r,i),o?"center":"cover"):t.indexOf("path://")===0?u=E_(t.slice(7),{},new Nt(e,n,r,i),o?"center":"cover"):u=new CW({shape:{symbolType:t,x:e,y:n,width:r,height:i}}),u.__isEmptyBrush=s,u.setColor=MW,a&&u.setColor(a),u}function PW(t){return nt(t)||(t=[+t,+t]),[t[0]||0,t[1]||0]}function JE(t,e){if(t!=null)return nt(t)||(t=[t,t]),[ke(t[0],e[0])||0,ke(Vt(t[1],t[0]),e[1])||0]}function sa(t){return isFinite(t)}function LW(t,e,n){var r=e.x==null?0:e.x,i=e.x2==null?1:e.x2,a=e.y==null?0:e.y,o=e.y2==null?0:e.y2;e.global||(r=r*n.width+n.x,i=i*n.width+n.x,a=a*n.height+n.y,o=o*n.height+n.y),r=sa(r)?r:0,i=sa(i)?i:1,a=sa(a)?a:0,o=sa(o)?o:0;var s=t.createLinearGradient(r,a,i,o);return s}function DW(t,e,n){var r=n.width,i=n.height,a=Math.min(r,i),o=e.x==null?.5:e.x,s=e.y==null?.5:e.y,u=e.r==null?.5:e.r;e.global||(o=o*r+n.x,s=s*i+n.y,u=u*a),o=sa(o)?o:.5,s=sa(s)?s:.5,u=u>=0&&sa(u)?u:.5;var f=t.createRadialGradient(o,s,0,o,s,u);return f}function gy(t,e,n){for(var r=e.type==="radial"?DW(t,e,n):LW(t,e,n),i=e.colorStops,a=0;a<i.length;a++)r.addColorStop(i[a].offset,i[a].color);return r}function EW(t,e){if(t===e||!t&&!e)return!1;if(!t||!e||t.length!==e.length)return!0;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!0;return!1}function Ff(t){return parseInt(t,10)}function Bf(t,e,n){var r=["width","height"][e],i=["clientWidth","clientHeight"][e],a=["paddingLeft","paddingTop"][e],o=["paddingRight","paddingBottom"][e];if(n[r]!=null&&n[r]!=="auto")return parseFloat(n[r]);var s=document.defaultView.getComputedStyle(t);return(t[i]||Ff(s[r])||Ff(t.style[r]))-(Ff(s[a])||0)-(Ff(s[o])||0)|0}function IW(t,e){return!t||t==="solid"||!(e>0)?null:t==="dashed"?[4*e,2*e]:t==="dotted"?[e]:Qt(t)?[t]:nt(t)?t:null}function t3(t){var e=t.style,n=e.lineDash&&e.lineWidth>0&&IW(e.lineDash,e.lineWidth),r=e.lineDashOffset;if(n){var i=e.strokeNoScale&&t.getLineScale?t.getLineScale():1;i&&i!==1&&(n=at(n,function(a){return a/i}),r/=i)}return[n,r]}var RW=new xi(!0);function Fh(t){var e=t.stroke;return!(e==null||e==="none"||!(t.lineWidth>0))}function qS(t){return typeof t=="string"&&t!=="none"}function Bh(t){var e=t.fill;return e!=null&&e!=="none"}function ZS(t,e){if(e.fillOpacity!=null&&e.fillOpacity!==1){var n=t.globalAlpha;t.globalAlpha=e.fillOpacity*e.opacity,t.fill(),t.globalAlpha=n}else t.fill()}function QS(t,e){if(e.strokeOpacity!=null&&e.strokeOpacity!==1){var n=t.globalAlpha;t.globalAlpha=e.strokeOpacity*e.opacity,t.stroke(),t.globalAlpha=n}else t.stroke()}function yy(t,e,n){var r=iD(e.image,e.__image,n);if(Od(r)){var i=t.createPattern(r,e.repeat||"repeat");if(typeof DOMMatrix=="function"&&i&&i.setTransform){var a=new DOMMatrix;a.translateSelf(e.x||0,e.y||0),a.rotateSelf(0,0,(e.rotation||0)*FF),a.scaleSelf(e.scaleX||1,e.scaleY||1),i.setTransform(a)}return i}}function kW(t,e,n,r){var i,a=Fh(n),o=Bh(n),s=n.strokePercent,u=s<1,f=!e.path;(!e.silent||u)&&f&&e.createPathProxy();var c=e.path||RW,d=e.__dirty;if(!r){var p=n.fill,v=n.stroke,y=o&&!!p.colorStops,x=a&&!!v.colorStops,_=o&&!!p.image,w=a&&!!v.image,b=void 0,S=void 0,A=void 0,L=void 0,P=void 0;(y||x)&&(P=e.getBoundingRect()),y&&(b=d?gy(t,p,P):e.__canvasFillGradient,e.__canvasFillGradient=b),x&&(S=d?gy(t,v,P):e.__canvasStrokeGradient,e.__canvasStrokeGradient=S),_&&(A=d||!e.__canvasFillPattern?yy(t,p,e):e.__canvasFillPattern,e.__canvasFillPattern=A),w&&(L=d||!e.__canvasStrokePattern?yy(t,v,e):e.__canvasStrokePattern,e.__canvasStrokePattern=A),y?t.fillStyle=b:_&&(A?t.fillStyle=A:o=!1),x?t.strokeStyle=S:w&&(L?t.strokeStyle=L:a=!1)}var E=e.getGlobalScale();c.setScale(E[0],E[1],e.segmentIgnoreThreshold);var O,R;t.setLineDash&&n.lineDash&&(i=t3(e),O=i[0],R=i[1]);var C=!0;(f||d&go)&&(c.setDPR(t.dpr),u?c.setContext(null):(c.setContext(t),C=!1),c.reset(),e.buildPath(c,e.shape,r),c.toStatic(),e.pathUpdated()),C&&c.rebuildPath(t,u?s:1),O&&(t.setLineDash(O),t.lineDashOffset=R),r||(n.strokeFirst?(a&&QS(t,n),o&&ZS(t,n)):(o&&ZS(t,n),a&&QS(t,n))),O&&t.setLineDash([])}function OW(t,e,n){var r=e.__image=iD(n.image,e.__image,e,e.onload);if(!(!r||!Od(r))){var i=n.x||0,a=n.y||0,o=e.getWidth(),s=e.getHeight(),u=r.width/r.height;if(o==null&&s!=null?o=s*u:s==null&&o!=null?s=o/u:o==null&&s==null&&(o=r.width,s=r.height),n.sWidth&&n.sHeight){var f=n.sx||0,c=n.sy||0;t.drawImage(r,f,c,n.sWidth,n.sHeight,i,a,o,s)}else if(n.sx&&n.sy){var f=n.sx,c=n.sy,d=o-f,p=s-c;t.drawImage(r,f,c,d,p,i,a,o,s)}else t.drawImage(r,i,a,o,s)}}function NW(t,e,n){var r,i=n.text;if(i!=null&&(i+=""),i){t.font=n.font||Ma,t.textAlign=n.textAlign,t.textBaseline=n.textBaseline;var a=void 0,o=void 0;t.setLineDash&&n.lineDash&&(r=t3(e),a=r[0],o=r[1]),a&&(t.setLineDash(a),t.lineDashOffset=o),n.strokeFirst?(Fh(n)&&t.strokeText(i,n.x,n.y),Bh(n)&&t.fillText(i,n.x,n.y)):(Bh(n)&&t.fillText(i,n.x,n.y),Fh(n)&&t.strokeText(i,n.x,n.y)),a&&t.setLineDash([])}}var KS=["shadowBlur","shadowOffsetX","shadowOffsetY"],jS=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function e3(t,e,n,r,i){var a=!1;if(!r&&(n=n||{},e===n))return!1;if(r||e.opacity!==n.opacity){Je(t,i),a=!0;var o=Math.max(Math.min(e.opacity,1),0);t.globalAlpha=isNaN(o)?ca.opacity:o}(r||e.blend!==n.blend)&&(a||(Je(t,i),a=!0),t.globalCompositeOperation=e.blend||ca.blend);for(var s=0;s<KS.length;s++){var u=KS[s];(r||e[u]!==n[u])&&(a||(Je(t,i),a=!0),t[u]=t.dpr*(e[u]||0))}return(r||e.shadowColor!==n.shadowColor)&&(a||(Je(t,i),a=!0),t.shadowColor=e.shadowColor||ca.shadowColor),a}function JS(t,e,n,r,i){var a=bl(e,i.inHover),o=r?null:n&&bl(n,i.inHover)||{};if(a===o)return!1;var s=e3(t,a,o,r,i);if((r||a.fill!==o.fill)&&(s||(Je(t,i),s=!0),qS(a.fill)&&(t.fillStyle=a.fill)),(r||a.stroke!==o.stroke)&&(s||(Je(t,i),s=!0),qS(a.stroke)&&(t.strokeStyle=a.stroke)),(r||a.opacity!==o.opacity)&&(s||(Je(t,i),s=!0),t.globalAlpha=a.opacity==null?1:a.opacity),e.hasStroke()){var u=a.lineWidth,f=u/(a.strokeNoScale&&e.getLineScale?e.getLineScale():1);t.lineWidth!==f&&(s||(Je(t,i),s=!0),t.lineWidth=f)}for(var c=0;c<jS.length;c++){var d=jS[c],p=d[0];(r||a[p]!==o[p])&&(s||(Je(t,i),s=!0),t[p]=a[p]||d[1])}return s}function $W(t,e,n,r,i){return e3(t,bl(e,i.inHover),n&&bl(n,i.inHover),r,i)}function n3(t,e){var n=e.transform,r=t.dpr||1;n?t.setTransform(r*n[0],r*n[1],r*n[2],r*n[3],r*n[4],r*n[5]):t.setTransform(r,0,0,r,0,0)}function GW(t,e,n){for(var r=!1,i=0;i<t.length;i++){var a=t[i];r=r||a.isZeroArea(),n3(e,a),e.beginPath(),a.buildPath(e,a.shape),e.clip()}n.allClipped=r}function VW(t,e){return t&&e?t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||t[3]!==e[3]||t[4]!==e[4]||t[5]!==e[5]:!(!t&&!e)}var t2=1,e2=2,n2=3,r2=4;function FW(t){var e=Bh(t),n=Fh(t);return!(t.lineDash||!(+e^+n)||e&&typeof t.fill!="string"||n&&typeof t.stroke!="string"||t.strokePercent<1||t.strokeOpacity<1||t.fillOpacity<1)}function Je(t,e){e.batchFill&&t.fill(),e.batchStroke&&t.stroke(),e.batchFill="",e.batchStroke=""}function bl(t,e){return e&&t.__hoverStyle||t.style}function r3(t,e){ua(t,e,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function ua(t,e,n,r){var i=e.transform;if(!e.shouldBePainted(n.viewWidth,n.viewHeight,!1,!1)){e.__dirty&=~un,e.__isRendered=!1;return}var a=e.__clipPaths,o=n.prevElClipPaths,s=!1,u=!1;if((!o||EW(a,o))&&(o&&o.length&&(Je(t,n),t.restore(),u=s=!0,n.prevElClipPaths=null,n.allClipped=!1,n.prevEl=null),a&&a.length&&(Je(t,n),t.save(),GW(a,t,n),s=!0),n.prevElClipPaths=a),n.allClipped){e.__isRendered=!1;return}e.beforeBrush&&e.beforeBrush(),e.innerBeforeBrush();var f=n.prevEl;f||(u=s=!0);var c=e instanceof Rt&&e.autoBatch&&FW(e.style);s||VW(i,f.transform)?(Je(t,n),n3(t,e)):c||Je(t,n);var d=bl(e,n.inHover);e instanceof Rt?(n.lastDrawType!==t2&&(u=!0,n.lastDrawType=t2),JS(t,e,f,u,n),(!c||!n.batchFill&&!n.batchStroke)&&t.beginPath(),kW(t,e,d,c),c&&(n.batchFill=d.fill||"",n.batchStroke=d.stroke||"")):e instanceof Q0?(n.lastDrawType!==n2&&(u=!0,n.lastDrawType=n2),JS(t,e,f,u,n),NW(t,e,d)):e instanceof za?(n.lastDrawType!==e2&&(u=!0,n.lastDrawType=e2),$W(t,e,f,u,n),OW(t,e,d)):e.getTemporalDisplayables&&(n.lastDrawType!==r2&&(u=!0,n.lastDrawType=r2),BW(t,e,n)),c&&r&&Je(t,n),e.innerAfterBrush(),e.afterBrush&&e.afterBrush(),n.prevEl=e,e.__dirty=0,e.__isRendered=!0}function BW(t,e,n){var r=e.getDisplayables(),i=e.getTemporalDisplayables();t.save();var a={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:n.viewWidth,viewHeight:n.viewHeight,inHover:n.inHover},o,s;for(o=e.getCursor(),s=r.length;o<s;o++){var u=r[o];u.beforeBrush&&u.beforeBrush(),u.innerBeforeBrush(),ua(t,u,a,o===s-1),u.innerAfterBrush(),u.afterBrush&&u.afterBrush(),a.prevEl=u}for(var f=0,c=i.length;f<c;f++){var u=i[f];u.beforeBrush&&u.beforeBrush(),u.innerBeforeBrush(),ua(t,u,a,f===c-1),u.innerAfterBrush(),u.afterBrush&&u.afterBrush(),a.prevEl=u}e.clearTemporalDisplayables(),e.notClear=!0,t.restore()}var Kv=new _W,i2=new $l(100),a2=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function my(t,e){if(t==="none")return null;var n=e.getDevicePixelRatio(),r=e.getZr(),i=r.painter.type==="svg";t.dirty&&Kv.delete(t);var a=Kv.get(t);if(a)return a;var o=bt(t,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});o.backgroundColor==="none"&&(o.backgroundColor=null);var s={repeat:"repeat"};return u(s),s.rotation=o.rotation,s.scaleX=s.scaleY=i?1:1/n,Kv.set(t,s),t.dirty=!1,s;function u(f){for(var c=[n],d=!0,p=0;p<a2.length;++p){var v=o[a2[p]];if(v!=null&&!nt(v)&&!ut(v)&&!Qt(v)&&typeof v!="boolean"){d=!1;break}c.push(v)}var y;if(d){y=c.join(",")+(i?"-svg":"");var x=i2.get(y);x&&(i?f.svgElement=x:f.image=x)}var _=a3(o.dashArrayX),w=zW(o.dashArrayY),b=i3(o.symbol),S=HW(_),A=o3(w),L=!i&&ds.createCanvas(),P=i&&{tag:"g",attrs:{},key:"dcl",children:[]},E=R(),O;L&&(L.width=E.width*n,L.height=E.height*n,O=L.getContext("2d")),C(),d&&i2.put(y,L||P),f.image=L,f.svgElement=P,f.svgWidth=E.width,f.svgHeight=E.height;function R(){for(var N=1,D=0,G=S.length;D<G;++D)N=gb(N,S[D]);for(var X=1,D=0,G=b.length;D<G;++D)X=gb(X,b[D].length);N*=X;var H=A*S.length*b.length;return{width:Math.max(1,Math.min(N,o.maxTileWidth)),height:Math.max(1,Math.min(H,o.maxTileHeight))}}function C(){O&&(O.clearRect(0,0,L.width,L.height),o.backgroundColor&&(O.fillStyle=o.backgroundColor,O.fillRect(0,0,L.width,L.height)));for(var N=0,D=0;D<w.length;++D)N+=w[D];if(N<=0)return;for(var G=-A,X=0,H=0,W=0;G<E.height;){if(X%2===0){for(var K=H/2%b.length,Q=0,l=0,h=0;Q<E.width*2;){for(var g=0,D=0;D<_[W].length;++D)g+=_[W][D];if(g<=0)break;if(l%2===0){var m=(1-o.symbolSize)*.5,T=Q+_[W][l]*m,M=G+w[X]*m,I=_[W][l]*o.symbolSize,k=w[X]*o.symbolSize,V=h/2%b[K].length;$(T,M,I,k,b[K][V])}Q+=_[W][l],++h,++l,l===_[W].length&&(l=0)}++W,W===_.length&&(W=0)}G+=w[X],++H,++X,X===w.length&&(X=0)}function $(F,z,U,B,Z){var q=i?1:n,j=is(Z,F*q,z*q,U*q,B*q,o.color,o.symbolKeepAspect);if(i){var J=r.painter.renderOneToVNode(j);J&&P.children.push(J)}else r3(O,j)}}}}function i3(t){if(!t||t.length===0)return[["rect"]];if(ut(t))return[[t]];for(var e=!0,n=0;n<t.length;++n)if(!ut(t[n])){e=!1;break}if(e)return i3([t]);for(var r=[],n=0;n<t.length;++n)ut(t[n])?r.push([t[n]]):r.push(t[n]);return r}function a3(t){if(!t||t.length===0)return[[0,0]];if(Qt(t)){var e=Math.ceil(t);return[[e,e]]}for(var n=!0,r=0;r<t.length;++r)if(!Qt(t[r])){n=!1;break}if(n)return a3([t]);for(var i=[],r=0;r<t.length;++r)if(Qt(t[r])){var e=Math.ceil(t[r]);i.push([e,e])}else{var e=at(t[r],function(s){return Math.ceil(s)});e.length%2===1?i.push(e.concat(e)):i.push(e)}return i}function zW(t){if(!t||typeof t=="object"&&t.length===0)return[0,0];if(Qt(t)){var e=Math.ceil(t);return[e,e]}var n=at(t,function(r){return Math.ceil(r)});return t.length%2?n.concat(n):n}function HW(t){return at(t,function(e){return o3(e)})}function o3(t){for(var e=0,n=0;n<t.length;++n)e+=t[n];return t.length%2===1?e*2:e}function YW(t,e){t.eachRawSeries(function(n){if(!t.isSeriesFiltered(n)){var r=n.getData();r.hasItemVisual()&&r.each(function(o){var s=r.getItemVisual(o,"decal");if(s){var u=r.ensureUniqueItemVisual(o,"style");u.decal=my(s,e)}});var i=r.getVisual("decal");if(i){var a=r.getVisual("style");a.decal=my(i,e)}}})}var XW=new Yn;const On=XW;var s3={};function UW(t,e){s3[t]=e}function WW(t){return s3[t]}var qW=1,ZW=800,QW=900,KW=1e3,jW=2e3,JW=5e3,u3=1e3,tq=1100,Q_=2e3,l3=3e3,eq=4e3,ap=4500,nq=4600,rq=5e3,iq=6e3,f3=7e3,aq={PROCESSOR:{FILTER:KW,SERIES_FILTER:ZW,STATISTIC:JW},VISUAL:{LAYOUT:u3,PROGRESSIVE_LAYOUT:tq,GLOBAL:Q_,CHART:l3,POST_CHART_LAYOUT:nq,COMPONENT:eq,BRUSH:rq,CHART_ITEM:ap,ARIA:iq,DECAL:f3}},Se="__flagInMainProcess",We="__pendingUpdate",jv="__needsUpdateStatus",o2=/^[a-zA-Z0-9_]+$/,Jv="__connectUpdateStatus",s2=0,oq=1,sq=2;function c3(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(this.isDisposed()){this.id;return}return d3(this,t,e)}}function h3(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return d3(this,t,e)}}function d3(t,e,n){return n[0]=n[0]&&n[0].toLowerCase(),Yn.prototype[e].apply(t,n)}var p3=function(t){ht(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(Yn),v3=p3.prototype;v3.on=h3("on");v3.off=h3("off");var uo,tg,zf,qr,eg,ng,rg,Ys,Xs,u2,l2,ig,f2,Hf,c2,g3,gn,h2,y3=function(t){ht(e,t);function e(n,r,i){var a=t.call(this,new fW)||this;a._chartsViews=[],a._chartsMap={},a._componentsViews=[],a._componentsMap={},a._pendingActions=[],i=i||{},ut(r)&&(r=m3[r]),a._dom=n;var o="canvas",s="auto",u=!1,f=a._zr=pb(n,{renderer:i.renderer||o,devicePixelRatio:i.devicePixelRatio,width:i.width,height:i.height,ssr:i.ssr,useDirtyRect:Vt(i.useDirtyRect,u),useCoarsePointer:Vt(i.useCoarsePointer,s),pointerSize:i.pointerSize});a._ssr=i.ssr,a._throttledZrFlush=Z_(qt(f.flush,f),17),r=wt(r),r&&PE(r,!0),a._theme=r,a._locale=hX(i.locale||aE),a._coordSysMgr=new B_;var c=a._api=c2(a);function d(p,v){return p.__prio-v.__prio}return dc(Hh,d),dc(_y,d),a._scheduler=new KE(a,c,_y,Hh),a._messageCenter=new p3,a._initEvents(),a.resize=qt(a.resize,a),f.animation.on("frame",a._onframe,a),u2(f,a),l2(f,a),P0(a),a}return e.prototype._onframe=function(){if(!this._disposed){h2(this);var n=this._scheduler;if(this[We]){var r=this[We].silent;this[Se]=!0;try{uo(this),qr.update.call(this,null,this[We].updateParams)}catch(u){throw this[Se]=!1,this[We]=null,u}this._zr.flush(),this[Se]=!1,this[We]=null,Ys.call(this,r),Xs.call(this,r)}else if(n.unfinished){var i=qW,a=this._model,o=this._api;n.unfinished=!1;do{var s=+new Date;n.performSeriesTasks(a),n.performDataProcessorTasks(a),ng(this,a),n.performVisualTasks(a),Hf(this,this._model,o,"remain",{}),i-=+new Date-s}while(i>0&&n.unfinished);n.unfinished||this._zr.flush()}}},e.prototype.getDom=function(){return this._dom},e.prototype.getId=function(){return this.id},e.prototype.getZr=function(){return this._zr},e.prototype.isSSR=function(){return this._ssr},e.prototype.setOption=function(n,r,i){if(!this[Se]){if(this._disposed){this.id;return}var a,o,s;if(pt(r)&&(i=r.lazyUpdate,a=r.silent,o=r.replaceMerge,s=r.transition,r=r.notMerge),this[Se]=!0,!this._model||r){var u=new WX(this._api),f=this._theme,c=this._model=new AE;c.scheduler=this._scheduler,c.ssr=this._ssr,c.init(null,null,null,f,this._locale,u)}this._model.setOption(n,{replaceMerge:o},xy);var d={seriesTransition:s,optionChanged:!0};if(i)this[We]={silent:a,updateParams:d},this[Se]=!1,this.getZr().wakeUp();else{try{uo(this),qr.update.call(this,null,d)}catch(p){throw this[We]=null,this[Se]=!1,p}this._ssr||this._zr.flush(),this[We]=null,this[Se]=!1,Ys.call(this,a),Xs.call(this,a)}}},e.prototype.setTheme=function(){},e.prototype.getModel=function(){return this._model},e.prototype.getOption=function(){return this._model&&this._model.getOption()},e.prototype.getWidth=function(){return this._zr.getWidth()},e.prototype.getHeight=function(){return this._zr.getHeight()},e.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||Ct.hasGlobalWindow&&window.devicePixelRatio||1},e.prototype.getRenderedCanvas=function(n){return this.renderToCanvas(n)},e.prototype.renderToCanvas=function(n){n=n||{};var r=this._zr.painter;return r.getRenderedCanvas({backgroundColor:n.backgroundColor||this._model.get("backgroundColor"),pixelRatio:n.pixelRatio||this.getDevicePixelRatio()})},e.prototype.renderToSVGString=function(n){n=n||{};var r=this._zr.painter;return r.renderToString({useViewBox:n.useViewBox})},e.prototype.getSvgDataURL=function(){if(Ct.svgSupported){var n=this._zr,r=n.storage.getDisplayList();return Y(r,function(i){i.stopAnimation(null,!0)}),n.painter.toDataURL()}},e.prototype.getDataURL=function(n){if(this._disposed){this.id;return}n=n||{};var r=n.excludeComponents,i=this._model,a=[],o=this;Y(r,function(u){i.eachComponent({mainType:u},function(f){var c=o._componentsMap[f.__viewId];c.group.ignore||(a.push(c),c.group.ignore=!0)})});var s=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(n).toDataURL("image/"+(n&&n.type||"png"));return Y(a,function(u){u.group.ignore=!1}),s},e.prototype.getConnectedDataURL=function(n){if(this._disposed){this.id;return}var r=n.type==="svg",i=this.group,a=Math.min,o=Math.max,s=1/0;if(d2[i]){var u=s,f=s,c=-s,d=-s,p=[],v=n&&n.pixelRatio||this.getDevicePixelRatio();Y(Fu,function(S,A){if(S.group===i){var L=r?S.getZr().painter.getSvgDom().innerHTML:S.renderToCanvas(wt(n)),P=S.getDom().getBoundingClientRect();u=a(P.left,u),f=a(P.top,f),c=o(P.right,c),d=o(P.bottom,d),p.push({dom:L,left:P.left,top:P.top})}}),u*=v,f*=v,c*=v,d*=v;var y=c-u,x=d-f,_=ds.createCanvas(),w=pb(_,{renderer:r?"svg":"canvas"});if(w.resize({width:y,height:x}),r){var b="";return Y(p,function(S){var A=S.left-u,L=S.top-f;b+='<g transform="translate('+A+","+L+')">'+S.dom+"</g>"}),w.painter.getSvgRoot().innerHTML=b,n.connectedBackgroundColor&&w.painter.setBackgroundColor(n.connectedBackgroundColor),w.refreshImmediately(),w.painter.toDataURL()}else return n.connectedBackgroundColor&&w.add(new ie({shape:{x:0,y:0,width:y,height:x},style:{fill:n.connectedBackgroundColor}})),Y(p,function(S){var A=new za({style:{x:S.left*v-u,y:S.top*v-f,image:S.dom}});w.add(A)}),w.refreshImmediately(),_.toDataURL("image/"+(n&&n.type||"png"))}else return this.getDataURL(n)},e.prototype.convertToPixel=function(n,r){return eg(this,"convertToPixel",n,r)},e.prototype.convertFromPixel=function(n,r){return eg(this,"convertFromPixel",n,r)},e.prototype.containPixel=function(n,r){if(this._disposed){this.id;return}var i=this._model,a,o=Iu(i,n);return Y(o,function(s,u){u.indexOf("Models")>=0&&Y(s,function(f){var c=f.coordinateSystem;if(c&&c.containPoint)a=a||!!c.containPoint(r);else if(u==="seriesModels"){var d=this._chartsMap[f.__viewId];d&&d.containPoint&&(a=a||d.containPoint(r,f))}},this)},this),!!a},e.prototype.getVisual=function(n,r){var i=this._model,a=Iu(i,n,{defaultMainType:"series"}),o=a.seriesModel,s=o.getData(),u=a.hasOwnProperty("dataIndexInside")?a.dataIndexInside:a.hasOwnProperty("dataIndex")?s.indexOfRawIndex(a.dataIndex):null;return u!=null?dW(s,u,r):pW(s,r)},e.prototype.getViewOfComponentModel=function(n){return this._componentsMap[n.__viewId]},e.prototype.getViewOfSeriesModel=function(n){return this._chartsMap[n.__viewId]},e.prototype._initEvents=function(){var n=this;Y(uq,function(r){var i=function(a){var o=n.getModel(),s=a.target,u,f=r==="globalout";if(f?u={}:s&&wu(s,function(y){var x=Ut(y);if(x&&x.dataIndex!=null){var _=x.dataModel||o.getSeriesByIndex(x.seriesIndex);return u=_&&_.getDataParams(x.dataIndex,x.dataType)||{},!0}else if(x.eventData)return u=et({},x.eventData),!0},!0),u){var c=u.componentType,d=u.componentIndex;(c==="markLine"||c==="markPoint"||c==="markArea")&&(c="series",d=u.seriesIndex);var p=c&&d!=null&&o.getComponent(c,d),v=p&&n[p.mainType==="series"?"_chartsMap":"_componentsMap"][p.__viewId];u.event=a,u.type=r,n._$eventProcessor.eventInfo={targetEl:s,packedEvent:u,model:p,view:v},n.trigger(r,u)}};i.zrEventfulCallAtLast=!0,n._zr.on(r,i,n)}),Y(Vu,function(r,i){n._messageCenter.on(i,function(a){this.trigger(i,a)},n)}),Y(["selectchanged"],function(r){n._messageCenter.on(r,function(i){this.trigger(r,i)},n)}),vW(this._messageCenter,this,this._api)},e.prototype.isDisposed=function(){return this._disposed},e.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},e.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var n=this.getDom();n&&eD(this.getDom(),j_,"");var r=this,i=r._api,a=r._model;Y(r._componentsViews,function(o){o.dispose(a,i)}),Y(r._chartsViews,function(o){o.dispose(a,i)}),r._zr.dispose(),r._dom=r._model=r._chartsMap=r._componentsMap=r._chartsViews=r._componentsViews=r._scheduler=r._api=r._zr=r._throttledZrFlush=r._theme=r._coordSysMgr=r._messageCenter=null,delete Fu[r.id]},e.prototype.resize=function(n){if(!this[Se]){if(this._disposed){this.id;return}this._zr.resize(n);var r=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!r){var i=r.resetOption("media"),a=n&&n.silent;this[We]&&(a==null&&(a=this[We].silent),i=!0,this[We]=null),this[Se]=!0;try{i&&uo(this),qr.update.call(this,{type:"resize",animation:et({duration:0},n&&n.animation)})}catch(o){throw this[Se]=!1,o}this[Se]=!1,Ys.call(this,a),Xs.call(this,a)}}},e.prototype.showLoading=function(n,r){if(this._disposed){this.id;return}if(pt(n)&&(r=n,n=""),n=n||"default",this.hideLoading(),!!wy[n]){var i=wy[n](this._api,r),a=this._zr;this._loadingFX=i,a.add(i)}},e.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},e.prototype.makeActionFromEvent=function(n){var r=et({},n);return r.type=Vu[n.type],r},e.prototype.dispatchAction=function(n,r){if(this._disposed){this.id;return}if(pt(r)||(r={silent:!!r}),!!zh[n.type]&&this._model){if(this[Se]){this._pendingActions.push(n);return}var i=r.silent;rg.call(this,n,i);var a=r.flush;a?this._zr.flush():a!==!1&&Ct.browser.weChat&&this._throttledZrFlush(),Ys.call(this,i),Xs.call(this,i)}},e.prototype.updateLabelLayout=function(){On.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},e.prototype.appendData=function(n){if(this._disposed){this.id;return}var r=n.seriesIndex,i=this.getModel(),a=i.getSeriesByIndex(r);a.appendData(n),this._scheduler.unfinished=!0,this.getZr().wakeUp()},e.internalField=function(){uo=function(d){var p=d._scheduler;p.restorePipelines(d._model),p.prepareStageTasks(),tg(d,!0),tg(d,!1),p.plan()},tg=function(d,p){for(var v=d._model,y=d._scheduler,x=p?d._componentsViews:d._chartsViews,_=p?d._componentsMap:d._chartsMap,w=d._zr,b=d._api,S=0;S<x.length;S++)x[S].__alive=!1;p?v.eachComponent(function(P,E){P!=="series"&&A(E)}):v.eachSeries(A);function A(P){var E=P.__requireNewView;P.__requireNewView=!1;var O="_ec_"+P.id+"_"+P.type,R=!E&&_[O];if(!R){var C=or(P.type),N=p?pr.getClass(C.main,C.sub):Ir.getClass(C.sub);R=new N,R.init(v,b),_[O]=R,x.push(R),w.add(R.group)}P.__viewId=R.__id=O,R.__alive=!0,R.__model=P,R.group.__ecComponentInfo={mainType:P.mainType,index:P.componentIndex},!p&&y.prepareView(R,P,v,b)}for(var S=0;S<x.length;){var L=x[S];L.__alive?S++:(!p&&L.renderTask.dispose(),w.remove(L.group),L.dispose(v,b),x.splice(S,1),_[L.__id]===L&&delete _[L.__id],L.__id=L.group.__ecComponentInfo=null)}},zf=function(d,p,v,y,x){var _=d._model;if(_.setUpdatePayload(v),!y){Y([].concat(d._componentsViews).concat(d._chartsViews),L);return}var w={};w[y+"Id"]=v[y+"Id"],w[y+"Index"]=v[y+"Index"],w[y+"Name"]=v[y+"Name"];var b={mainType:y,query:w};x&&(b.subType=x);var S=v.excludeSeriesId,A;S!=null&&(A=yt(),Y(se(S),function(P){var E=ur(P,null);E!=null&&A.set(E,!0)})),_&&_.eachComponent(b,function(P){var E=A&&A.get(P.id)!=null;if(!E)if(Wb(v))if(P instanceof Ia)v.type===ha&&!v.notBlur&&!P.get(["emphasis","disabled"])&&WH(P,v,d._api);else{var O=A_(P.mainType,P.componentIndex,v.name,d._api),R=O.focusSelf,C=O.dispatchers;v.type===ha&&R&&!v.notBlur&&j0(P.mainType,P.componentIndex,d._api),C&&Y(C,function(N){v.type===ha?jo(N):Jo(N)})}else ny(v)&&P instanceof Ia&&(QH(P,v,d._api),Xb(P),gn(d))},d),_&&_.eachComponent(b,function(P){var E=A&&A.get(P.id)!=null;E||L(d[y==="series"?"_chartsMap":"_componentsMap"][P.__viewId])},d);function L(P){P&&P.__alive&&P[p]&&P[p](P.__model,_,d._api,v)}},qr={prepareAndUpdate:function(d){uo(this),qr.update.call(this,d,{optionChanged:d.newOption!=null})},update:function(d,p){var v=this._model,y=this._api,x=this._zr,_=this._coordSysMgr,w=this._scheduler;if(v){v.setUpdatePayload(d),w.restoreData(v,d),w.performSeriesTasks(v),_.create(v,y),w.performDataProcessorTasks(v,d),ng(this,v),_.update(v,y),n(v),w.performVisualTasks(v,d),ig(this,v,y,d,p);var b=v.get("backgroundColor")||"transparent",S=v.get("darkMode");x.setBackgroundColor(b),S!=null&&S!=="auto"&&x.setDarkMode(S),On.trigger("afterupdate",v,y)}},updateTransform:function(d){var p=this,v=this._model,y=this._api;if(v){v.setUpdatePayload(d);var x=[];v.eachComponent(function(w,b){if(w!=="series"){var S=p.getViewOfComponentModel(b);if(S&&S.__alive)if(S.updateTransform){var A=S.updateTransform(b,v,y,d);A&&A.update&&x.push(S)}else x.push(S)}});var _=yt();v.eachSeries(function(w){var b=p._chartsMap[w.__viewId];if(b.updateTransform){var S=b.updateTransform(w,v,y,d);S&&S.update&&_.set(w.uid,1)}else _.set(w.uid,1)}),n(v),this._scheduler.performVisualTasks(v,d,{setDirty:!0,dirtyMap:_}),Hf(this,v,y,d,{},_),On.trigger("afterupdate",v,y)}},updateView:function(d){var p=this._model;p&&(p.setUpdatePayload(d),Ir.markUpdateMethod(d,"updateView"),n(p),this._scheduler.performVisualTasks(p,d,{setDirty:!0}),ig(this,p,this._api,d,{}),On.trigger("afterupdate",p,this._api))},updateVisual:function(d){var p=this,v=this._model;v&&(v.setUpdatePayload(d),v.eachSeries(function(y){y.getData().clearAllVisual()}),Ir.markUpdateMethod(d,"updateVisual"),n(v),this._scheduler.performVisualTasks(v,d,{visualType:"visual",setDirty:!0}),v.eachComponent(function(y,x){if(y!=="series"){var _=p.getViewOfComponentModel(x);_&&_.__alive&&_.updateVisual(x,v,p._api,d)}}),v.eachSeries(function(y){var x=p._chartsMap[y.__viewId];x.updateVisual(y,v,p._api,d)}),On.trigger("afterupdate",v,this._api))},updateLayout:function(d){qr.update.call(this,d)}},eg=function(d,p,v,y){if(d._disposed){d.id;return}for(var x=d._model,_=d._coordSysMgr.getCoordinateSystems(),w,b=Iu(x,v),S=0;S<_.length;S++){var A=_[S];if(A[p]&&(w=A[p](x,b,y))!=null)return w}},ng=function(d,p){var v=d._chartsMap,y=d._scheduler;p.eachSeries(function(x){y.updateStreamModes(x,v[x.__viewId])})},rg=function(d,p){var v=this,y=this.getModel(),x=d.type,_=d.escapeConnect,w=zh[x],b=w.actionInfo,S=(b.update||"update").split(":"),A=S.pop(),L=S[0]!=null&&or(S[0]);this[Se]=!0;var P=[d],E=!1;d.batch&&(E=!0,P=at(d.batch,function(X){return X=bt(et({},X),d),X.batch=null,X}));var O=[],R,C=ny(d),N=Wb(d);if(N&&AD(this._api),Y(P,function(X){if(R=w.action(X,v._model,v._api),R=R||et({},X),R.type=b.event||R.type,O.push(R),N){var H=x_(d),W=H.queryOptionMap,K=H.mainTypeSpecified,Q=K?W.keys()[0]:"series";zf(v,A,X,Q),gn(v)}else C?(zf(v,A,X,"series"),gn(v)):L&&zf(v,A,X,L.main,L.sub)}),A!=="none"&&!N&&!C&&!L)try{this[We]?(uo(this),qr.update.call(this,d),this[We]=null):qr[A].call(this,d)}catch(X){throw this[Se]=!1,X}if(E?R={type:b.event||x,escapeConnect:_,batch:O}:R=O[0],this[Se]=!1,!p){var D=this._messageCenter;if(D.trigger(R.type,R),C){var G={type:"selectchanged",escapeConnect:_,selected:KH(y),isFromClick:d.isFromClick||!1,fromAction:d.type,fromActionPayload:d};D.trigger(G.type,G)}}},Ys=function(d){for(var p=this._pendingActions;p.length;){var v=p.shift();rg.call(this,v,d)}},Xs=function(d){!d&&this.trigger("updated")},u2=function(d,p){d.on("rendered",function(v){p.trigger("rendered",v),d.animation.isFinished()&&!p[We]&&!p._scheduler.unfinished&&!p._pendingActions.length&&p.trigger("finished")})},l2=function(d,p){d.on("mouseover",function(v){var y=v.target,x=wu(y,ey);x&&(qH(x,v,p._api),gn(p))}).on("mouseout",function(v){var y=v.target,x=wu(y,ey);x&&(ZH(x,v,p._api),gn(p))}).on("click",function(v){var y=v.target,x=wu(y,function(b){return Ut(b).dataIndex!=null},!0);if(x){var _=x.selected?"unselect":"select",w=Ut(x);p._api.dispatchAction({type:_,dataType:w.dataType,dataIndexInside:w.dataIndex,seriesIndex:w.seriesIndex,isFromClick:!0})}})};function n(d){d.clearColorPalette(),d.eachSeries(function(p){p.clearColorPalette()})}function r(d){var p=[],v=[],y=!1;if(d.eachComponent(function(b,S){var A=S.get("zlevel")||0,L=S.get("z")||0,P=S.getZLevelKey();y=y||!!P,(b==="series"?v:p).push({zlevel:A,z:L,idx:S.componentIndex,type:b,key:P})}),y){var x=p.concat(v),_,w;dc(x,function(b,S){return b.zlevel===S.zlevel?b.z-S.z:b.zlevel-S.zlevel}),Y(x,function(b){var S=d.getComponent(b.type,b.idx),A=b.zlevel,L=b.key;_!=null&&(A=Math.max(_,A)),L?(A===_&&L!==w&&A++,w=L):w&&(A===_&&A++,w=""),_=A,S.setZLevel(A)})}}ig=function(d,p,v,y,x){r(p),f2(d,p,v,y,x),Y(d._chartsViews,function(_){_.__alive=!1}),Hf(d,p,v,y,x),Y(d._chartsViews,function(_){_.__alive||_.remove(p,v)})},f2=function(d,p,v,y,x,_){Y(_||d._componentsViews,function(w){var b=w.__model;f(b,w),w.render(b,p,v,y),s(b,w),c(b,w)})},Hf=function(d,p,v,y,x,_){var w=d._scheduler;x=et(x||{},{updatedSeries:p.getSeries()}),On.trigger("series:beforeupdate",p,v,x);var b=!1;p.eachSeries(function(S){var A=d._chartsMap[S.__viewId];A.__alive=!0;var L=A.renderTask;w.updatePayload(L,y),f(S,A),_&&_.get(S.uid)&&L.dirty(),L.perform(w.getPerformArgs(L))&&(b=!0),A.group.silent=!!S.get("silent"),o(S,A),Xb(S)}),w.unfinished=b||w.unfinished,On.trigger("series:layoutlabels",p,v,x),On.trigger("series:transition",p,v,x),p.eachSeries(function(S){var A=d._chartsMap[S.__viewId];s(S,A),c(S,A)}),a(d,p),On.trigger("series:afterupdate",p,v,x)},gn=function(d){d[jv]=!0,d.getZr().wakeUp()},h2=function(d){d[jv]&&(d.getZr().storage.traverse(function(p){Nu(p)||i(p)}),d[jv]=!1)};function i(d){for(var p=[],v=d.currentStates,y=0;y<v.length;y++){var x=v[y];x==="emphasis"||x==="blur"||x==="select"||p.push(x)}d.selected&&d.states.select&&p.push("select"),d.hoverState===Gd&&d.states.emphasis?p.push("emphasis"):d.hoverState===$d&&d.states.blur&&p.push("blur"),d.useStates(p)}function a(d,p){var v=d._zr,y=v.storage,x=0;y.traverse(function(_){_.isGroup||x++}),x>p.get("hoverLayerThreshold")&&!Ct.node&&!Ct.worker&&p.eachSeries(function(_){if(!_.preventUsingHoverLayer){var w=d._chartsMap[_.__viewId];w.__alive&&w.eachRendered(function(b){b.states.emphasis&&(b.states.emphasis.hoverLayer=!0)})}})}function o(d,p){var v=d.get("blendMode")||null;p.eachRendered(function(y){y.isGroup||(y.style.blend=v)})}function s(d,p){if(!d.preventAutoZ){var v=d.get("z")||0,y=d.get("zlevel")||0;p.eachRendered(function(x){return u(x,v,y,-1/0),!0})}}function u(d,p,v,y){var x=d.getTextContent(),_=d.getTextGuideLine(),w=d.isGroup;if(w)for(var b=d.childrenRef(),S=0;S<b.length;S++)y=Math.max(u(b[S],p,v,y),y);else d.z=p,d.zlevel=v,y=Math.max(d.z2,y);if(x&&(x.z=p,x.zlevel=v,isFinite(y)&&(x.z2=y+2)),_){var A=d.textGuideLineConfig;_.z=p,_.zlevel=v,isFinite(y)&&(_.z2=y+(A&&A.showAbove?1:-1))}return y}function f(d,p){p.eachRendered(function(v){if(!Nu(v)){var y=v.getTextContent(),x=v.getTextGuideLine();v.stateTransition&&(v.stateTransition=null),y&&y.stateTransition&&(y.stateTransition=null),x&&x.stateTransition&&(x.stateTransition=null),v.hasState()?(v.prevStates=v.currentStates,v.clearStates()):v.prevStates&&(v.prevStates=null)}})}function c(d,p){var v=d.getModel("stateAnimation"),y=d.isAnimationEnabled(),x=v.get("duration"),_=x>0?{duration:x,delay:v.get("delay"),easing:v.get("easing")}:null;p.eachRendered(function(w){if(w.states&&w.states.emphasis){if(Nu(w))return;if(w instanceof Rt&&nY(w),w.__dirty){var b=w.prevStates;b&&w.useStates(b)}if(y){w.stateTransition=_;var S=w.getTextContent(),A=w.getTextGuideLine();S&&(S.stateTransition=_),A&&(A.stateTransition=_)}w.__dirty&&i(w)}})}c2=function(d){return new(function(p){ht(v,p);function v(){return p!==null&&p.apply(this,arguments)||this}return v.prototype.getCoordinateSystems=function(){return d._coordSysMgr.getCoordinateSystems()},v.prototype.getComponentByElement=function(y){for(;y;){var x=y.__ecComponentInfo;if(x!=null)return d._model.getComponent(x.mainType,x.index);y=y.parent}},v.prototype.enterEmphasis=function(y,x){jo(y,x),gn(d)},v.prototype.leaveEmphasis=function(y,x){Jo(y,x),gn(d)},v.prototype.enterBlur=function(y){UH(y),gn(d)},v.prototype.leaveBlur=function(y){wD(y),gn(d)},v.prototype.enterSelect=function(y){bD(y),gn(d)},v.prototype.leaveSelect=function(y){SD(y),gn(d)},v.prototype.getModel=function(){return d.getModel()},v.prototype.getViewOfComponentModel=function(y){return d.getViewOfComponentModel(y)},v.prototype.getViewOfSeriesModel=function(y){return d.getViewOfSeriesModel(y)},v}(CE))(d)},g3=function(d){function p(v,y){for(var x=0;x<v.length;x++){var _=v[x];_[Jv]=y}}Y(Vu,function(v,y){d._messageCenter.on(y,function(x){if(d2[d.group]&&d[Jv]!==s2){if(x&&x.escapeConnect)return;var _=d.makeActionFromEvent(x),w=[];Y(Fu,function(b){b!==d&&b.group===d.group&&w.push(b)}),p(w,s2),Y(w,function(b){b[Jv]!==oq&&b.dispatchAction(_)}),p(w,sq)}})})}}(),e}(Yn),K_=y3.prototype;K_.on=c3("on");K_.off=c3("off");K_.one=function(t,e,n){var r=this;function i(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];e&&e.apply&&e.apply(this,a),r.off(t,i)}this.on.call(this,t,i,n)};var uq=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];var zh={},Vu={},_y=[],xy=[],Hh=[],m3={},wy={},Fu={},d2={},lq=+new Date-0,j_="_echarts_instance_";function fq(t,e,n){var r=!(n&&n.ssr);if(r){var i=cq(t);if(i)return i}var a=new y3(t,e,n);return a.id="ec_"+lq++,Fu[a.id]=a,r&&eD(t,j_,a.id),g3(a),On.trigger("afterinit",a),a}function cq(t){return Fu[Iz(t,j_)]}function _3(t,e){m3[t]=e}function x3(t){Ot(xy,t)<0&&xy.push(t)}function w3(t,e){t1(_y,t,e,jW)}function hq(t){J_("afterinit",t)}function dq(t){J_("afterupdate",t)}function J_(t,e){On.on(t,e)}function mr(t,e,n){mt(e)&&(n=e,e="");var r=pt(t)?t.type:[t,t={event:e}][0];t.event=(t.event||r).toLowerCase(),e=t.event,!Vu[e]&&(cr(o2.test(r)&&o2.test(e)),zh[r]||(zh[r]={action:n,actionInfo:t}),Vu[e]=r)}function pq(t,e){B_.register(t,e)}function vq(t,e){t1(Hh,t,e,u3,"layout")}function Ya(t,e){t1(Hh,t,e,l3,"visual")}var p2=[];function t1(t,e,n,r,i){if((mt(e)||pt(e))&&(n=e,e=r),!(Ot(p2,n)>=0)){p2.push(n);var a=KE.wrapStageHandler(n,i);a.__prio=e,a.__raw=n,t.push(a)}}function b3(t,e){wy[t]=e}function gq(t,e,n){var r=WW("registerMap");r&&r(t,e,n)}var yq=_U;Ya(Q_,qU);Ya(ap,ZU);Ya(ap,QU);Ya(Q_,cW);Ya(ap,hW);Ya(f3,YW);x3(PE);w3(QW,eU);b3("default",KU);mr({type:ha,event:ha,update:ha},$e);mr({type:xc,event:xc,update:xc},$e);mr({type:Ru,event:Ru,update:Ru},$e);mr({type:wc,event:wc,update:wc},$e);mr({type:ku,event:ku,update:ku},$e);_3("light",uW);_3("dark",lW);function Us(t){return t==null?0:t.length||1}function v2(t){return t}var mq=function(){function t(e,n,r,i,a,o){this._old=e,this._new=n,this._oldKeyGetter=r||v2,this._newKeyGetter=i||v2,this.context=a,this._diffModeMultiple=o==="multiple"}return t.prototype.add=function(e){return this._add=e,this},t.prototype.update=function(e){return this._update=e,this},t.prototype.updateManyToOne=function(e){return this._updateManyToOne=e,this},t.prototype.updateOneToMany=function(e){return this._updateOneToMany=e,this},t.prototype.updateManyToMany=function(e){return this._updateManyToMany=e,this},t.prototype.remove=function(e){return this._remove=e,this},t.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},t.prototype._executeOneToOne=function(){var e=this._old,n=this._new,r={},i=new Array(e.length),a=new Array(n.length);this._initIndexMap(e,null,i,"_oldKeyGetter"),this._initIndexMap(n,r,a,"_newKeyGetter");for(var o=0;o<e.length;o++){var s=i[o],u=r[s],f=Us(u);if(f>1){var c=u.shift();u.length===1&&(r[s]=u[0]),this._update&&this._update(c,o)}else f===1?(r[s]=null,this._update&&this._update(u,o)):this._remove&&this._remove(o)}this._performRestAdd(a,r)},t.prototype._executeMultiple=function(){var e=this._old,n=this._new,r={},i={},a=[],o=[];this._initIndexMap(e,r,a,"_oldKeyGetter"),this._initIndexMap(n,i,o,"_newKeyGetter");for(var s=0;s<a.length;s++){var u=a[s],f=r[u],c=i[u],d=Us(f),p=Us(c);if(d>1&&p===1)this._updateManyToOne&&this._updateManyToOne(c,f),i[u]=null;else if(d===1&&p>1)this._updateOneToMany&&this._updateOneToMany(c,f),i[u]=null;else if(d===1&&p===1)this._update&&this._update(c,f),i[u]=null;else if(d>1&&p>1)this._updateManyToMany&&this._updateManyToMany(c,f),i[u]=null;else if(d>1)for(var v=0;v<d;v++)this._remove&&this._remove(f[v]);else this._remove&&this._remove(f)}this._performRestAdd(o,i)},t.prototype._performRestAdd=function(e,n){for(var r=0;r<e.length;r++){var i=e[r],a=n[i],o=Us(a);if(o>1)for(var s=0;s<o;s++)this._add&&this._add(a[s]);else o===1&&this._add&&this._add(a);n[i]=null}},t.prototype._initIndexMap=function(e,n,r,i){for(var a=this._diffModeMultiple,o=0;o<e.length;o++){var s="_ec_"+this[i](e[o],o);if(a||(r[o]=s),!!n){var u=n[s],f=Us(u);f===0?(n[s]=o,a&&r.push(s)):f===1?n[s]=[u,o]:u.push(o)}}},t}();const Sl=mq;var _q=function(){function t(e,n){this._encode=e,this._schema=n}return t.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},t.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},t}();function xq(t,e){var n={},r=n.encode={},i=yt(),a=[],o=[],s={};Y(t.dimensions,function(p){var v=t.getDimensionInfo(p),y=v.coordDim;if(y){var x=v.coordDimIndex;ag(r,y)[x]=p,v.isExtraCoord||(i.set(y,1),bq(v.type)&&(a[0]=p),ag(s,y)[x]=t.getDimensionIndex(v.name)),v.defaultTooltip&&o.push(p)}_E.each(function(_,w){var b=ag(r,w),S=v.otherDims[w];S!=null&&S!==!1&&(b[S]=v.name)})});var u=[],f={};i.each(function(p,v){var y=r[v];f[v]=y[0],u=u.concat(y)}),n.dataDimsOnCoord=u,n.dataDimIndicesOnCoord=at(u,function(p){return t.getDimensionInfo(p).storeDimIndex}),n.encodeFirstDimNotExtra=f;var c=r.label;c&&c.length&&(a=c.slice());var d=r.tooltip;return d&&d.length?o=d.slice():o.length||(o=a.slice()),r.defaultedLabel=a,r.defaultedTooltip=o,n.userOutput=new _q(s,e),n}function ag(t,e){return t.hasOwnProperty(e)||(t[e]=[]),t[e]}function wq(t){return t==="category"?"ordinal":t==="time"?"time":"float"}function bq(t){return!(t==="ordinal"||t==="time")}var Sq=function(){function t(e){this.otherDims={},e!=null&&et(this,e)}return t}();const Cc=Sq;var Tq=ae(),Aq={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},S3=function(){function t(e){this.dimensions=e.dimensions,this._dimOmitted=e.dimensionOmitted,this.source=e.source,this._fullDimCount=e.fullDimensionCount,this._updateDimOmitted(e.dimensionOmitted)}return t.prototype.isDimensionOmitted=function(){return this._dimOmitted},t.prototype._updateDimOmitted=function(e){this._dimOmitted=e,e&&(this._dimNameMap||(this._dimNameMap=C3(this.source)))},t.prototype.getSourceDimensionIndex=function(e){return Vt(this._dimNameMap.get(e),-1)},t.prototype.getSourceDimension=function(e){var n=this.source.dimensionsDefine;if(n)return n[e]},t.prototype.makeStoreSchema=function(){for(var e=this._fullDimCount,n=DE(this.source),r=!M3(e),i="",a=[],o=0,s=0;o<e;o++){var u=void 0,f=void 0,c=void 0,d=this.dimensions[s];if(d&&d.storeDimIndex===o)u=n?d.name:null,f=d.type,c=d.ordinalMeta,s++;else{var p=this.getSourceDimension(o);p&&(u=n?p.name:null,f=p.type)}a.push({property:u,type:f,ordinalMeta:c}),n&&u!=null&&(!d||!d.isCalculationCoord)&&(i+=r?u.replace(/\`/g,"`1").replace(/\$/g,"`2"):u),i+="$",i+=Aq[f]||"f",c&&(i+=c.uid),i+="$"}var v=this.source,y=[v.seriesLayoutBy,v.startIndex,i].join("$$");return{dimensions:a,hash:y}},t.prototype.makeOutputDimensionNames=function(){for(var e=[],n=0,r=0;n<this._fullDimCount;n++){var i=void 0,a=this.dimensions[r];if(a&&a.storeDimIndex===n)a.isCalculationCoord||(i=a.name),r++;else{var o=this.getSourceDimension(n);o&&(i=o.name)}e.push(i)}return e},t.prototype.appendCalculationDimension=function(e){this.dimensions.push(e),e.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},t}();function T3(t){return t instanceof S3}function A3(t){for(var e=yt(),n=0;n<(t||[]).length;n++){var r=t[n],i=pt(r)?r.name:r;i!=null&&e.get(i)==null&&e.set(i,n)}return e}function C3(t){var e=Tq(t);return e.dimNameMap||(e.dimNameMap=A3(t.dimensionsDefine))}function M3(t){return t>30}var Ws=pt,Zr=at,Cq=typeof Int32Array>"u"?Array:Int32Array,Mq="e\0\0",g2=-1,Pq=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],Lq=["_approximateExtent"],y2,Yf,qs,Zs,og,Xf,sg,Dq=function(){function t(e,n){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var r,i=!1;T3(e)?(r=e.dimensions,this._dimOmitted=e.isDimensionOmitted(),this._schema=e):(i=!0,r=e),r=r||["x","y"];for(var a={},o=[],s={},u=!1,f={},c=0;c<r.length;c++){var d=r[c],p=ut(d)?new Cc({name:d}):d instanceof Cc?d:new Cc(d),v=p.name;p.type=p.type||"float",p.coordDim||(p.coordDim=v,p.coordDimIndex=0);var y=p.otherDims=p.otherDims||{};o.push(v),a[v]=p,f[v]!=null&&(u=!0),p.createInvertedIndices&&(s[v]=[]),y.itemName===0&&(this._nameDimIdx=c),y.itemId===0&&(this._idDimIdx=c),i&&(p.storeDimIndex=c)}if(this.dimensions=o,this._dimInfos=a,this._initGetDimensionInfo(u),this.hostModel=n,this._invertedIndicesMap=s,this._dimOmitted){var x=this._dimIdxToName=yt();Y(o,function(_){x.set(a[_].storeDimIndex,_)})}}return t.prototype.getDimension=function(e){var n=this._recognizeDimIndex(e);if(n==null)return e;if(n=e,!this._dimOmitted)return this.dimensions[n];var r=this._dimIdxToName.get(n);if(r!=null)return r;var i=this._schema.getSourceDimension(n);if(i)return i.name},t.prototype.getDimensionIndex=function(e){var n=this._recognizeDimIndex(e);if(n!=null)return n;if(e==null)return-1;var r=this._getDimInfo(e);return r?r.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(e):-1},t.prototype._recognizeDimIndex=function(e){if(Qt(e)||e!=null&&!isNaN(e)&&!this._getDimInfo(e)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(e)<0))return+e},t.prototype._getStoreDimIndex=function(e){var n=this.getDimensionIndex(e);return n},t.prototype.getDimensionInfo=function(e){return this._getDimInfo(this.getDimension(e))},t.prototype._initGetDimensionInfo=function(e){var n=this._dimInfos;this._getDimInfo=e?function(r){return n.hasOwnProperty(r)?n[r]:void 0}:function(r){return n[r]}},t.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},t.prototype.mapDimension=function(e,n){var r=this._dimSummary;if(n==null)return r.encodeFirstDimNotExtra[e];var i=r.encode[e];return i?i[n]:null},t.prototype.mapDimensionsAll=function(e){var n=this._dimSummary,r=n.encode[e];return(r||[]).slice()},t.prototype.getStore=function(){return this._store},t.prototype.initData=function(e,n,r){var i=this,a;if(e instanceof ly&&(a=e),!a){var o=this.dimensions,s=z_(e)||en(e)?new EE(e,o.length):e;a=new ly;var u=Zr(o,function(f){return{type:i._dimInfos[f].type,property:f}});a.initData(s,u,r)}this._store=a,this._nameList=(n||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,a.count()),this._dimSummary=xq(this,this._schema),this.userOutput=this._dimSummary.userOutput},t.prototype.appendData=function(e){var n=this._store.appendData(e);this._doInit(n[0],n[1])},t.prototype.appendValues=function(e,n){var r=this._store.appendValues(e,n.length),i=r.start,a=r.end,o=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),n)for(var s=i;s<a;s++){var u=s-i;this._nameList[s]=n[u],o&&sg(this,s)}},t.prototype._updateOrdinalMeta=function(){for(var e=this._store,n=this.dimensions,r=0;r<n.length;r++){var i=this._dimInfos[n[r]];i.ordinalMeta&&e.collectOrdinalMeta(i.storeDimIndex,i.ordinalMeta)}},t.prototype._shouldMakeIdFromName=function(){var e=this._store.getProvider();return this._idDimIdx==null&&e.getSource().sourceFormat!==ci&&!e.fillStorage},t.prototype._doInit=function(e,n){if(!(e>=n)){var r=this._store,i=r.getProvider();this._updateOrdinalMeta();var a=this._nameList,o=this._idList,s=i.getSource().sourceFormat,u=s===Ln;if(u&&!i.pure)for(var f=[],c=e;c<n;c++){var d=i.getItem(c,f);if(!this.hasItemOption&&_z(d)&&(this.hasItemOption=!0),d){var p=d.name;a[c]==null&&p!=null&&(a[c]=ur(p,null));var v=d.id;o[c]==null&&v!=null&&(o[c]=ur(v,null))}}if(this._shouldMakeIdFromName())for(var c=e;c<n;c++)sg(this,c);y2(this)}},t.prototype.getApproximateExtent=function(e){return this._approximateExtent[e]||this._store.getDataExtent(this._getStoreDimIndex(e))},t.prototype.setApproximateExtent=function(e,n){n=this.getDimension(n),this._approximateExtent[n]=e.slice()},t.prototype.getCalculationInfo=function(e){return this._calculationInfo[e]},t.prototype.setCalculationInfo=function(e,n){Ws(e)?et(this._calculationInfo,e):this._calculationInfo[e]=n},t.prototype.getName=function(e){var n=this.getRawIndex(e),r=this._nameList[n];return r==null&&this._nameDimIdx!=null&&(r=qs(this,this._nameDimIdx,n)),r==null&&(r=""),r},t.prototype._getCategory=function(e,n){var r=this._store.get(e,n),i=this._store.getOrdinalMeta(e);return i?i.categories[r]:r},t.prototype.getId=function(e){return Yf(this,this.getRawIndex(e))},t.prototype.count=function(){return this._store.count()},t.prototype.get=function(e,n){var r=this._store,i=this._dimInfos[e];if(i)return r.get(i.storeDimIndex,n)},t.prototype.getByRawIndex=function(e,n){var r=this._store,i=this._dimInfos[e];if(i)return r.getByRawIndex(i.storeDimIndex,n)},t.prototype.getIndices=function(){return this._store.getIndices()},t.prototype.getDataExtent=function(e){return this._store.getDataExtent(this._getStoreDimIndex(e))},t.prototype.getSum=function(e){return this._store.getSum(this._getStoreDimIndex(e))},t.prototype.getMedian=function(e){return this._store.getMedian(this._getStoreDimIndex(e))},t.prototype.getValues=function(e,n){var r=this,i=this._store;return nt(e)?i.getValues(Zr(e,function(a){return r._getStoreDimIndex(a)}),n):i.getValues(e)},t.prototype.hasValue=function(e){for(var n=this._dimSummary.dataDimIndicesOnCoord,r=0,i=n.length;r<i;r++)if(isNaN(this._store.get(n[r],e)))return!1;return!0},t.prototype.indexOfName=function(e){for(var n=0,r=this._store.count();n<r;n++)if(this.getName(n)===e)return n;return-1},t.prototype.getRawIndex=function(e){return this._store.getRawIndex(e)},t.prototype.indexOfRawIndex=function(e){return this._store.indexOfRawIndex(e)},t.prototype.rawIndexOf=function(e,n){var r=e&&this._invertedIndicesMap[e],i=r[n];return i==null||isNaN(i)?g2:i},t.prototype.indicesOfNearest=function(e,n,r){return this._store.indicesOfNearest(this._getStoreDimIndex(e),n,r)},t.prototype.each=function(e,n,r){mt(e)&&(r=n,n=e,e=[]);var i=r||this,a=Zr(Zs(e),this._getStoreDimIndex,this);this._store.each(a,i?qt(n,i):n)},t.prototype.filterSelf=function(e,n,r){mt(e)&&(r=n,n=e,e=[]);var i=r||this,a=Zr(Zs(e),this._getStoreDimIndex,this);return this._store=this._store.filter(a,i?qt(n,i):n),this},t.prototype.selectRange=function(e){var n=this,r={},i=jt(e);return Y(i,function(a){var o=n._getStoreDimIndex(a);r[o]=e[a]}),this._store=this._store.selectRange(r),this},t.prototype.mapArray=function(e,n,r){mt(e)&&(r=n,n=e,e=[]),r=r||this;var i=[];return this.each(e,function(){i.push(n&&n.apply(this,arguments))},r),i},t.prototype.map=function(e,n,r,i){var a=r||i||this,o=Zr(Zs(e),this._getStoreDimIndex,this),s=Xf(this);return s._store=this._store.map(o,a?qt(n,a):n),s},t.prototype.modify=function(e,n,r,i){var a=r||i||this,o=Zr(Zs(e),this._getStoreDimIndex,this);this._store.modify(o,a?qt(n,a):n)},t.prototype.downSample=function(e,n,r,i){var a=Xf(this);return a._store=this._store.downSample(this._getStoreDimIndex(e),n,r,i),a},t.prototype.lttbDownSample=function(e,n){var r=Xf(this);return r._store=this._store.lttbDownSample(this._getStoreDimIndex(e),n),r},t.prototype.getRawDataItem=function(e){return this._store.getRawDataItem(e)},t.prototype.getItemModel=function(e){var n=this.hostModel,r=this.getRawDataItem(e);return new _e(r,n,n&&n.ecModel)},t.prototype.diff=function(e){var n=this;return new Sl(e?e.getStore().getIndices():[],this.getStore().getIndices(),function(r){return Yf(e,r)},function(r){return Yf(n,r)})},t.prototype.getVisual=function(e){var n=this._visual;return n&&n[e]},t.prototype.setVisual=function(e,n){this._visual=this._visual||{},Ws(e)?et(this._visual,e):this._visual[e]=n},t.prototype.getItemVisual=function(e,n){var r=this._itemVisuals[e],i=r&&r[n];return i??this.getVisual(n)},t.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},t.prototype.ensureUniqueItemVisual=function(e,n){var r=this._itemVisuals,i=r[e];i||(i=r[e]={});var a=i[n];return a==null&&(a=this.getVisual(n),nt(a)?a=a.slice():Ws(a)&&(a=et({},a)),i[n]=a),a},t.prototype.setItemVisual=function(e,n,r){var i=this._itemVisuals[e]||{};this._itemVisuals[e]=i,Ws(n)?et(i,n):i[n]=r},t.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},t.prototype.setLayout=function(e,n){Ws(e)?et(this._layout,e):this._layout[e]=n},t.prototype.getLayout=function(e){return this._layout[e]},t.prototype.getItemLayout=function(e){return this._itemLayouts[e]},t.prototype.setItemLayout=function(e,n,r){this._itemLayouts[e]=r?et(this._itemLayouts[e]||{},n):n},t.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},t.prototype.setItemGraphicEl=function(e,n){var r=this.hostModel&&this.hostModel.seriesIndex;NH(r,this.dataType,e,n),this._graphicEls[e]=n},t.prototype.getItemGraphicEl=function(e){return this._graphicEls[e]},t.prototype.eachItemGraphicEl=function(e,n){Y(this._graphicEls,function(r,i){r&&e&&e.call(n,r,i)})},t.prototype.cloneShallow=function(e){return e||(e=new t(this._schema?this._schema:Zr(this.dimensions,this._getDimInfo,this),this.hostModel)),og(e,this),e._store=this._store,e},t.prototype.wrapMethod=function(e,n){var r=this[e];mt(r)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(e),this[e]=function(){var i=r.apply(this,arguments);return n.apply(this,[i].concat(f_(arguments)))})},t.internalField=function(){y2=function(e){var n=e._invertedIndicesMap;Y(n,function(r,i){var a=e._dimInfos[i],o=a.ordinalMeta,s=e._store;if(o){r=n[i]=new Cq(o.categories.length);for(var u=0;u<r.length;u++)r[u]=g2;for(var u=0;u<s.count();u++)r[s.get(a.storeDimIndex,u)]=u}})},qs=function(e,n,r){return ur(e._getCategory(n,r),null)},Yf=function(e,n){var r=e._idList[n];return r==null&&e._idDimIdx!=null&&(r=qs(e,e._idDimIdx,n)),r==null&&(r=Mq+n),r},Zs=function(e){return nt(e)||(e=e!=null?[e]:[]),e},Xf=function(e){var n=new t(e._schema?e._schema:Zr(e.dimensions,e._getDimInfo,e),e.hostModel);return og(n,e),n},og=function(e,n){Y(Pq.concat(n.__wrappedMethods||[]),function(r){n.hasOwnProperty(r)&&(e[r]=n[r])}),e.__wrappedMethods=n.__wrappedMethods,Y(Lq,function(r){e[r]=wt(n[r])}),e._calculationInfo=et({},n._calculationInfo)},sg=function(e,n){var r=e._nameList,i=e._idList,a=e._nameDimIdx,o=e._idDimIdx,s=r[n],u=i[n];if(s==null&&a!=null&&(r[n]=s=qs(e,a,n)),u==null&&o!=null&&(i[n]=u=qs(e,o,n)),u==null&&s!=null){var f=e._nameRepeatCount,c=f[s]=(f[s]||0)+1;u=s,c>1&&(u+="__ec__"+c),i[n]=u}}}(),t}();const Eq=Dq;function Iq(t,e){z_(t)||(t=H_(t)),e=e||{};var n=e.coordDimensions||[],r=e.dimensionsDefine||t.dimensionsDefine||[],i=yt(),a=[],o=kq(t,n,r,e.dimensionsCount),s=e.canOmitUnusedDimensions&&M3(o),u=r===t.dimensionsDefine,f=u?C3(t):A3(r),c=e.encodeDefine;!c&&e.encodeDefaulter&&(c=e.encodeDefaulter(t,o));for(var d=yt(c),p=new NE(o),v=0;v<p.length;v++)p[v]=-1;function y(R){var C=p[R];if(C<0){var N=r[R],D=pt(N)?N:{name:N},G=new Cc,X=D.name;X!=null&&f.get(X)!=null&&(G.name=G.displayName=X),D.type!=null&&(G.type=D.type),D.displayName!=null&&(G.displayName=D.displayName);var H=a.length;return p[R]=H,G.storeDimIndex=R,a.push(G),G}return a[C]}if(!s)for(var v=0;v<o;v++)y(v);d.each(function(R,C){var N=se(R).slice();if(N.length===1&&!ut(N[0])&&N[0]<0){d.set(C,!1);return}var D=d.set(C,[]);Y(N,function(G,X){var H=ut(G)?f.get(G):G;H!=null&&H<o&&(D[X]=H,_(y(H),C,X))})});var x=0;Y(n,function(R){var C,N,D,G;if(ut(R))C=R,G={};else{G=R,C=G.name;var X=G.ordinalMeta;G.ordinalMeta=null,G=et({},G),G.ordinalMeta=X,N=G.dimsDef,D=G.otherDims,G.name=G.coordDim=G.coordDimIndex=G.dimsDef=G.otherDims=null}var H=d.get(C);if(H!==!1){if(H=se(H),!H.length)for(var W=0;W<(N&&N.length||1);W++){for(;x<o&&y(x).coordDim!=null;)x++;x<o&&H.push(x++)}Y(H,function(K,Q){var l=y(K);if(u&&G.type!=null&&(l.type=G.type),_(bt(l,G),C,Q),l.name==null&&N){var h=N[Q];!pt(h)&&(h={name:h}),l.name=l.displayName=h.name,l.defaultTooltip=h.defaultTooltip}D&&bt(l.otherDims,D)})}});function _(R,C,N){_E.get(C)!=null?R.otherDims[C]=N:(R.coordDim=C,R.coordDimIndex=N,i.set(C,!0))}var w=e.generateCoord,b=e.generateCoordCount,S=b!=null;b=w?b||1:0;var A=w||"value";function L(R){R.name==null&&(R.name=R.coordDim)}if(s)Y(a,function(R){L(R)}),a.sort(function(R,C){return R.storeDimIndex-C.storeDimIndex});else for(var P=0;P<o;P++){var E=y(P),O=E.coordDim;O==null&&(E.coordDim=Oq(A,i,S),E.coordDimIndex=0,(!w||b<=0)&&(E.isExtraCoord=!0),b--),L(E),E.type==null&&(SE(t,P)===rn.Must||E.isExtraCoord&&(E.otherDims.itemName!=null||E.otherDims.seriesName!=null))&&(E.type="ordinal")}return Rq(a),new S3({source:t,dimensions:a,fullDimensionCount:o,dimensionOmitted:s})}function Rq(t){for(var e=yt(),n=0;n<t.length;n++){var r=t[n],i=r.name,a=e.get(i)||0;a>0&&(r.name=i+(a-1)),a++,e.set(i,a)}}function kq(t,e,n,r){var i=Math.max(t.dimensionsDetectedCount||1,e.length,n.length,r||0);return Y(e,function(a){var o;pt(a)&&(o=a.dimsDef)&&(i=Math.max(i,o.length))}),i}function Oq(t,e,n){if(n||e.hasKey(t)){for(var r=0;e.hasKey(t+r);)r++;t+=r}return e.set(t,!0),t}var Nq=function(){function t(e){this.coordSysDims=[],this.axisMap=yt(),this.categoryAxisMap=yt(),this.coordSysName=e}return t}();function $q(t){var e=t.get("coordinateSystem"),n=new Nq(e),r=Gq[e];if(r)return r(t,n,n.axisMap,n.categoryAxisMap),n}var Gq={cartesian2d:function(t,e,n,r){var i=t.getReferringComponents("xAxis",Ne).models[0],a=t.getReferringComponents("yAxis",Ne).models[0];e.coordSysDims=["x","y"],n.set("x",i),n.set("y",a),lo(i)&&(r.set("x",i),e.firstCategoryDimIndex=0),lo(a)&&(r.set("y",a),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},singleAxis:function(t,e,n,r){var i=t.getReferringComponents("singleAxis",Ne).models[0];e.coordSysDims=["single"],n.set("single",i),lo(i)&&(r.set("single",i),e.firstCategoryDimIndex=0)},polar:function(t,e,n,r){var i=t.getReferringComponents("polar",Ne).models[0],a=i.findAxisModel("radiusAxis"),o=i.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],n.set("radius",a),n.set("angle",o),lo(a)&&(r.set("radius",a),e.firstCategoryDimIndex=0),lo(o)&&(r.set("angle",o),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},geo:function(t,e,n,r){e.coordSysDims=["lng","lat"]},parallel:function(t,e,n,r){var i=t.ecModel,a=i.getComponent("parallel",t.get("parallelIndex")),o=e.coordSysDims=a.dimensions.slice();Y(a.parallelAxisIndex,function(s,u){var f=i.getComponent("parallelAxis",s),c=o[u];n.set(c,f),lo(f)&&(r.set(c,f),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=u))})}};function lo(t){return t.get("type")==="category"}function Vq(t,e,n){n=n||{};var r=n.byIndex,i=n.stackedCoordDimension,a,o,s;Fq(e)?a=e:(o=e.schema,a=o.dimensions,s=e.store);var u=!!(t&&t.get("stack")),f,c,d,p;if(Y(a,function(b,S){ut(b)&&(a[S]=b={name:b}),u&&!b.isExtraCoord&&(!r&&!f&&b.ordinalMeta&&(f=b),!c&&b.type!=="ordinal"&&b.type!=="time"&&(!i||i===b.coordDim)&&(c=b))}),c&&!r&&!f&&(r=!0),c){d="__\0ecstackresult_"+t.id,p="__\0ecstackedover_"+t.id,f&&(f.createInvertedIndices=!0);var v=c.coordDim,y=c.type,x=0;Y(a,function(b){b.coordDim===v&&x++});var _={name:d,coordDim:v,coordDimIndex:x,type:y,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length},w={name:p,coordDim:p,coordDimIndex:x+1,type:y,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length+1};o?(s&&(_.storeDimIndex=s.ensureCalculationDimension(p,y),w.storeDimIndex=s.ensureCalculationDimension(d,y)),o.appendCalculationDimension(_),o.appendCalculationDimension(w)):(a.push(_),a.push(w))}return{stackedDimension:c&&c.name,stackedByDimension:f&&f.name,isStackedByIndex:r,stackedOverDimension:p,stackResultDimension:d}}function Fq(t){return!T3(t.schema)}function as(t,e){return!!e&&e===t.getCalculationInfo("stackedDimension")}function Bq(t,e){return as(t,e)?t.getCalculationInfo("stackResultDimension"):e}function zq(t,e){var n=t.get("coordinateSystem"),r=B_.get(n),i;return e&&e.coordSysDims&&(i=at(e.coordSysDims,function(a){var o={name:a},s=e.axisMap.get(a);if(s){var u=s.get("type");o.type=wq(u)}return o})),i||(i=r&&(r.getDimensionsInfo?r.getDimensionsInfo():r.dimensions.slice())||["x","y"]),i}function Hq(t,e,n){var r,i;return n&&Y(t,function(a,o){var s=a.coordDim,u=n.categoryAxisMap.get(s);u&&(r==null&&(r=o),a.ordinalMeta=u.getOrdinalMeta(),e&&(a.createInvertedIndices=!0)),a.otherDims.itemName!=null&&(i=!0)}),!i&&r!=null&&(t[r].otherDims.itemName=0),r}function e1(t,e,n){n=n||{};var r=e.getSourceManager(),i,a=!1;t?(a=!0,i=H_(t)):(i=r.getSource(),a=i.sourceFormat===Ln);var o=$q(e),s=zq(e,o),u=n.useEncodeDefaulter,f=mt(u)?u:u?zt(MX,s,e):null,c={coordDimensions:s,generateCoord:n.generateCoord,encodeDefine:e.getEncode(),encodeDefaulter:f,canOmitUnusedDimensions:!a},d=Iq(i,c),p=Hq(d.dimensions,n.createInvertedIndices,o),v=a?null:r.getSharedDataStore(d),y=Vq(e,{schema:d,store:v}),x=new Eq(d,e);x.setCalculationInfo(y);var _=p!=null&&Yq(i)?function(w,b,S,A){return A===p?S:this.defaultDimValueGetter(w,b,S,A)}:null;return x.hasItemOption=!1,x.initData(a?i:v,null,_),x}function Yq(t){if(t.sourceFormat===Ln){var e=Xq(t.data||[]);return!nt(Gl(e))}}function Xq(t){for(var e=0;e<t.length&&t[e]==null;)e++;return t[e]}var P3=function(){function t(e){this._setting=e||{},this._extent=[1/0,-1/0]}return t.prototype.getSetting=function(e){return this._setting[e]},t.prototype.unionExtent=function(e){var n=this._extent;e[0]<n[0]&&(n[0]=e[0]),e[1]>n[1]&&(n[1]=e[1])},t.prototype.unionExtentFromData=function(e,n){this.unionExtent(e.getApproximateExtent(n))},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.setExtent=function(e,n){var r=this._extent;isNaN(e)||(r[0]=e),isNaN(n)||(r[1]=n)},t.prototype.isInExtentRange=function(e){return this._extent[0]<=e&&this._extent[1]>=e},t.prototype.isBlank=function(){return this._isBlank},t.prototype.setBlank=function(e){this._isBlank=e},t}();kd(P3);const Br=P3;var Uq=0,Wq=function(){function t(e){this.categories=e.categories||[],this._needCollect=e.needCollect,this._deduplication=e.deduplication,this.uid=++Uq}return t.createByAxisModel=function(e){var n=e.option,r=n.data,i=r&&at(r,qq);return new t({categories:i,needCollect:!i,deduplication:n.dedplication!==!1})},t.prototype.getOrdinal=function(e){return this._getOrCreateMap().get(e)},t.prototype.parseAndCollect=function(e){var n,r=this._needCollect;if(!ut(e)&&!r)return e;if(r&&!this._deduplication)return n=this.categories.length,this.categories[n]=e,n;var i=this._getOrCreateMap();return n=i.get(e),n==null&&(r?(n=this.categories.length,this.categories[n]=e,i.set(e,n)):n=NaN),n},t.prototype._getOrCreateMap=function(){return this._map||(this._map=yt(this.categories))},t}();function qq(t){return pt(t)&&t.value!=null?t.value:t+""}const by=Wq;function Sy(t){return t.type==="interval"||t.type==="log"}function Zq(t,e,n,r){var i={},a=t[1]-t[0],o=i.interval=ZL(a/e,!0);n!=null&&o<n&&(o=i.interval=n),r!=null&&o>r&&(o=i.interval=r);var s=i.intervalPrecision=L3(o),u=i.niceTickExtent=[oe(Math.ceil(t[0]/o)*o,s),oe(Math.floor(t[1]/o)*o,s)];return Qq(u,t),i}function ug(t){var e=Math.pow(10,m_(t)),n=t/e;return n?n===2?n=3:n===3?n=5:n*=2:n=1,oe(n*e)}function L3(t){return Mr(t)+2}function m2(t,e,n){t[e]=Math.max(Math.min(t[e],n[1]),n[0])}function Qq(t,e){!isFinite(t[0])&&(t[0]=e[0]),!isFinite(t[1])&&(t[1]=e[1]),m2(t,0,e),m2(t,1,e),t[0]>t[1]&&(t[0]=t[1])}function op(t,e){return t>=e[0]&&t<=e[1]}function sp(t,e){return e[1]===e[0]?.5:(t-e[0])/(e[1]-e[0])}function up(t,e){return t*(e[1]-e[0])+e[0]}var D3=function(t){ht(e,t);function e(n){var r=t.call(this,n)||this;r.type="ordinal";var i=r.getSetting("ordinalMeta");return i||(i=new by({})),nt(i)&&(i=new by({categories:at(i,function(a){return pt(a)?a.value:a})})),r._ordinalMeta=i,r._extent=r.getSetting("extent")||[0,i.categories.length-1],r}return e.prototype.parse=function(n){return n==null?NaN:ut(n)?this._ordinalMeta.getOrdinal(n):Math.round(n)},e.prototype.contain=function(n){return n=this.parse(n),op(n,this._extent)&&this._ordinalMeta.categories[n]!=null},e.prototype.normalize=function(n){return n=this._getTickNumber(this.parse(n)),sp(n,this._extent)},e.prototype.scale=function(n){return n=Math.round(up(n,this._extent)),this.getRawOrdinalNumber(n)},e.prototype.getTicks=function(){for(var n=[],r=this._extent,i=r[0];i<=r[1];)n.push({value:i}),i++;return n},e.prototype.getMinorTicks=function(n){},e.prototype.setSortInfo=function(n){if(n==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var r=n.ordinalNumbers,i=this._ordinalNumbersByTick=[],a=this._ticksByOrdinalNumber=[],o=0,s=this._ordinalMeta.categories.length,u=Math.min(s,r.length);o<u;++o){var f=r[o];i[o]=f,a[f]=o}for(var c=0;o<s;++o){for(;a[c]!=null;)c++;i.push(c),a[c]=o}},e.prototype._getTickNumber=function(n){var r=this._ticksByOrdinalNumber;return r&&n>=0&&n<r.length?r[n]:n},e.prototype.getRawOrdinalNumber=function(n){var r=this._ordinalNumbersByTick;return r&&n>=0&&n<r.length?r[n]:n},e.prototype.getLabel=function(n){if(!this.isBlank()){var r=this.getRawOrdinalNumber(n.value),i=this._ordinalMeta.categories[r];return i==null?"":i+""}},e.prototype.count=function(){return this._extent[1]-this._extent[0]+1},e.prototype.unionExtentFromData=function(n,r){this.unionExtent(n.getApproximateExtent(r))},e.prototype.isInExtentRange=function(n){return n=this._getTickNumber(n),this._extent[0]<=n&&this._extent[1]>=n},e.prototype.getOrdinalMeta=function(){return this._ordinalMeta},e.prototype.calcNiceTicks=function(){},e.prototype.calcNiceExtent=function(){},e.type="ordinal",e}(Br);Br.registerClass(D3);const E3=D3;var Zi=oe,I3=function(t){ht(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="interval",n._interval=0,n._intervalPrecision=2,n}return e.prototype.parse=function(n){return n},e.prototype.contain=function(n){return op(n,this._extent)},e.prototype.normalize=function(n){return sp(n,this._extent)},e.prototype.scale=function(n){return up(n,this._extent)},e.prototype.setExtent=function(n,r){var i=this._extent;isNaN(n)||(i[0]=parseFloat(n)),isNaN(r)||(i[1]=parseFloat(r))},e.prototype.unionExtent=function(n){var r=this._extent;n[0]<r[0]&&(r[0]=n[0]),n[1]>r[1]&&(r[1]=n[1]),this.setExtent(r[0],r[1])},e.prototype.getInterval=function(){return this._interval},e.prototype.setInterval=function(n){this._interval=n,this._niceExtent=this._extent.slice(),this._intervalPrecision=L3(n)},e.prototype.getTicks=function(n){var r=this._interval,i=this._extent,a=this._niceExtent,o=this._intervalPrecision,s=[];if(!r)return s;var u=1e4;i[0]<a[0]&&(n?s.push({value:Zi(a[0]-r,o)}):s.push({value:i[0]}));for(var f=a[0];f<=a[1]&&(s.push({value:f}),f=Zi(f+r,o),f!==s[s.length-1].value);)if(s.length>u)return[];var c=s.length?s[s.length-1].value:a[1];return i[1]>c&&(n?s.push({value:Zi(c+r,o)}):s.push({value:i[1]})),s},e.prototype.getMinorTicks=function(n){for(var r=this.getTicks(!0),i=[],a=this.getExtent(),o=1;o<r.length;o++){for(var s=r[o],u=r[o-1],f=0,c=[],d=s.value-u.value,p=d/n;f<n-1;){var v=Zi(u.value+(f+1)*p);v>a[0]&&v<a[1]&&c.push(v),f++}i.push(c)}return i},e.prototype.getLabel=function(n,r){if(n==null)return"";var i=r&&r.precision;i==null?i=Mr(n.value)||0:i==="auto"&&(i=this._intervalPrecision);var a=Zi(n.value,i,!0);return vE(a)},e.prototype.calcNiceTicks=function(n,r,i){n=n||5;var a=this._extent,o=a[1]-a[0];if(isFinite(o)){o<0&&(o=-o,a.reverse());var s=Zq(a,n,r,i);this._intervalPrecision=s.intervalPrecision,this._interval=s.interval,this._niceExtent=s.niceTickExtent}},e.prototype.calcNiceExtent=function(n){var r=this._extent;if(r[0]===r[1])if(r[0]!==0){var i=Math.abs(r[0]);n.fixMax||(r[1]+=i/2),r[0]-=i/2}else r[1]=1;var a=r[1]-r[0];isFinite(a)||(r[0]=0,r[1]=1),this.calcNiceTicks(n.splitNumber,n.minInterval,n.maxInterval);var o=this._interval;n.fixMin||(r[0]=Zi(Math.floor(r[0]/o)*o)),n.fixMax||(r[1]=Zi(Math.ceil(r[1]/o)*o))},e.prototype.setNiceExtent=function(n,r){this._niceExtent=[n,r]},e.type="interval",e}(Br);Br.registerClass(I3);const Bl=I3;var R3=typeof Float32Array<"u",Kq=R3?Float32Array:Array;function Pr(t){return nt(t)?R3?new Float32Array(t):t:new Kq(t)}var jq="__ec_stack_";function n1(t){return t.get("stack")||jq+t.seriesIndex}function r1(t){return t.dim+t.index}function k3(t,e){var n=[];return e.eachSeriesByType(t,function(r){N3(r)&&n.push(r)}),n}function Jq(t){var e={};Y(t,function(u){var f=u.coordinateSystem,c=f.getBaseAxis();if(!(c.type!=="time"&&c.type!=="value"))for(var d=u.getData(),p=c.dim+"_"+c.index,v=d.getDimensionIndex(d.mapDimension(c.dim)),y=d.getStore(),x=0,_=y.count();x<_;++x){var w=y.get(v,x);e[p]?e[p].push(w):e[p]=[w]}});var n={};for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];if(i){i.sort(function(u,f){return u-f});for(var a=null,o=1;o<i.length;++o){var s=i[o]-i[o-1];s>0&&(a=a===null?s:Math.min(a,s))}n[r]=a}}return n}function O3(t){var e=Jq(t),n=[];return Y(t,function(r){var i=r.coordinateSystem,a=i.getBaseAxis(),o=a.getExtent(),s;if(a.type==="category")s=a.getBandWidth();else if(a.type==="value"||a.type==="time"){var u=a.dim+"_"+a.index,f=e[u],c=Math.abs(o[1]-o[0]),d=a.scale.getExtent(),p=Math.abs(d[1]-d[0]);s=f?c/p*f:c}else{var v=r.getData();s=Math.abs(o[1]-o[0])/v.count()}var y=ke(r.get("barWidth"),s),x=ke(r.get("barMaxWidth"),s),_=ke(r.get("barMinWidth")||($3(r)?.5:1),s),w=r.get("barGap"),b=r.get("barCategoryGap");n.push({bandWidth:s,barWidth:y,barMaxWidth:x,barMinWidth:_,barGap:w,barCategoryGap:b,axisKey:r1(a),stackId:n1(r)})}),tZ(n)}function tZ(t){var e={};Y(t,function(r,i){var a=r.axisKey,o=r.bandWidth,s=e[a]||{bandWidth:o,remainedWidth:o,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},u=s.stacks;e[a]=s;var f=r.stackId;u[f]||s.autoWidthCount++,u[f]=u[f]||{width:0,maxWidth:0};var c=r.barWidth;c&&!u[f].width&&(u[f].width=c,c=Math.min(s.remainedWidth,c),s.remainedWidth-=c);var d=r.barMaxWidth;d&&(u[f].maxWidth=d);var p=r.barMinWidth;p&&(u[f].minWidth=p);var v=r.barGap;v!=null&&(s.gap=v);var y=r.barCategoryGap;y!=null&&(s.categoryGap=y)});var n={};return Y(e,function(r,i){n[i]={};var a=r.stacks,o=r.bandWidth,s=r.categoryGap;if(s==null){var u=jt(a).length;s=Math.max(35-u*4,15)+"%"}var f=ke(s,o),c=ke(r.gap,1),d=r.remainedWidth,p=r.autoWidthCount,v=(d-f)/(p+(p-1)*c);v=Math.max(v,0),Y(a,function(w){var b=w.maxWidth,S=w.minWidth;if(w.width){var A=w.width;b&&(A=Math.min(A,b)),S&&(A=Math.max(A,S)),w.width=A,d-=A+c*A,p--}else{var A=v;b&&b<A&&(A=Math.min(b,d)),S&&S>A&&(A=S),A!==v&&(w.width=A,d-=A+c*A,p--)}}),v=(d-f)/(p+(p-1)*c),v=Math.max(v,0);var y=0,x;Y(a,function(w,b){w.width||(w.width=v),x=w,y+=w.width*(1+c)}),x&&(y-=x.width*c);var _=-y/2;Y(a,function(w,b){n[i][b]=n[i][b]||{bandWidth:o,offset:_,width:w.width},_+=w.width*(1+c)})}),n}function eZ(t,e,n){if(t&&e){var r=t[r1(e)];return r!=null&&n!=null?r[n1(n)]:r}}function nZ(t,e){var n=k3(t,e),r=O3(n);Y(n,function(i){var a=i.getData(),o=i.coordinateSystem,s=o.getBaseAxis(),u=n1(i),f=r[r1(s)][u],c=f.offset,d=f.width;a.setLayout({bandWidth:f.bandWidth,offset:c,size:d})})}function rZ(t){return{seriesType:t,plan:W_(),reset:function(e){if(N3(e)){var n=e.getData(),r=e.coordinateSystem,i=r.getBaseAxis(),a=r.getOtherAxis(i),o=n.getDimensionIndex(n.mapDimension(a.dim)),s=n.getDimensionIndex(n.mapDimension(i.dim)),u=e.get("showBackground",!0),f=n.mapDimension(a.dim),c=n.getCalculationInfo("stackResultDimension"),d=as(n,f)&&!!n.getCalculationInfo("stackedOnSeries"),p=a.isHorizontal(),v=iZ(i,a),y=$3(e),x=e.get("barMinHeight")||0,_=c&&n.getDimensionIndex(c),w=n.getLayout("size"),b=n.getLayout("offset");return{progress:function(S,A){for(var L=S.count,P=y&&Pr(L*3),E=y&&u&&Pr(L*3),O=y&&Pr(L),R=r.master.getRect(),C=p?R.width:R.height,N,D=A.getStore(),G=0;(N=S.next())!=null;){var X=D.get(d?_:o,N),H=D.get(s,N),W=v,K=void 0;d&&(K=+X-D.get(o,N));var Q=void 0,l=void 0,h=void 0,g=void 0;if(p){var m=r.dataToPoint([X,H]);if(d){var T=r.dataToPoint([K,H]);W=T[0]}Q=W,l=m[1]+b,h=m[0]-W,g=w,Math.abs(h)<x&&(h=(h<0?-1:1)*x)}else{var m=r.dataToPoint([H,X]);if(d){var T=r.dataToPoint([H,K]);W=T[1]}Q=m[0]+b,l=W,h=w,g=m[1]-W,Math.abs(g)<x&&(g=(g<=0?-1:1)*x)}y?(P[G]=Q,P[G+1]=l,P[G+2]=p?h:g,E&&(E[G]=p?R.x:Q,E[G+1]=p?l:R.y,E[G+2]=C),O[N]=N):A.setItemLayout(N,{x:Q,y:l,width:h,height:g}),G+=3}y&&A.setLayout({largePoints:P,largeDataIndices:O,largeBackgroundPoints:E,valueAxisHorizontal:p})}}}}}}function N3(t){return t.coordinateSystem&&t.coordinateSystem.type==="cartesian2d"}function $3(t){return t.pipelineContext&&t.pipelineContext.large}function iZ(t,e){return e.toGlobalCoord(e.dataToCoord(e.type==="log"?1:0))}var aZ=function(t,e,n,r){for(;n<r;){var i=n+r>>>1;t[i][1]<e?n=i+1:r=i}return n},G3=function(t){ht(e,t);function e(n){var r=t.call(this,n)||this;return r.type="time",r}return e.prototype.getLabel=function(n){var r=this.getSetting("useUTC");return Zd(n.value,fS[gX($o(this._minLevelUnit))]||fS.second,r,this.getSetting("locale"))},e.prototype.getFormattedLabel=function(n,r,i){var a=this.getSetting("useUTC"),o=this.getSetting("locale");return yX(n,r,i,o,a)},e.prototype.getTicks=function(){var n=this._interval,r=this._extent,i=[];if(!n)return i;i.push({value:r[0],level:0});var a=this.getSetting("useUTC"),o=hZ(this._minLevelUnit,this._approxInterval,a,r);return i=i.concat(o),i.push({value:r[1],level:0}),i},e.prototype.calcNiceExtent=function(n){var r=this._extent;if(r[0]===r[1]&&(r[0]-=Cn,r[1]+=Cn),r[1]===-1/0&&r[0]===1/0){var i=new Date;r[1]=+new Date(i.getFullYear(),i.getMonth(),i.getDate()),r[0]=r[1]-Cn}this.calcNiceTicks(n.splitNumber,n.minInterval,n.maxInterval)},e.prototype.calcNiceTicks=function(n,r,i){n=n||10;var a=this._extent,o=a[1]-a[0];this._approxInterval=o/n,r!=null&&this._approxInterval<r&&(this._approxInterval=r),i!=null&&this._approxInterval>i&&(this._approxInterval=i);var s=Uf.length,u=Math.min(aZ(Uf,this._approxInterval,0,s),s-1);this._interval=Uf[u][1],this._minLevelUnit=Uf[Math.max(u-1,0)][0]},e.prototype.parse=function(n){return Qt(n)?n:+Or(n)},e.prototype.contain=function(n){return op(this.parse(n),this._extent)},e.prototype.normalize=function(n){return sp(this.parse(n),this._extent)},e.prototype.scale=function(n){return up(n,this._extent)},e.type="time",e}(Bl),Uf=[["second",N_],["minute",$_],["hour",$u],["quarter-day",$u*6],["half-day",$u*12],["day",Cn*1.2],["half-week",Cn*3.5],["week",Cn*7],["month",Cn*31],["quarter",Cn*95],["half-year",lS/2],["year",lS]];function oZ(t,e,n,r){var i=Or(e),a=Or(n),o=function(y){return cS(i,y,r)===cS(a,y,r)},s=function(){return o("year")},u=function(){return s()&&o("month")},f=function(){return u()&&o("day")},c=function(){return f()&&o("hour")},d=function(){return c()&&o("minute")},p=function(){return d()&&o("second")},v=function(){return p()&&o("millisecond")};switch(t){case"year":return s();case"month":return u();case"day":return f();case"hour":return c();case"minute":return d();case"second":return p();case"millisecond":return v()}}function sZ(t,e){return t/=Cn,t>16?16:t>7.5?7:t>3.5?4:t>1.5?2:1}function uZ(t){var e=30*Cn;return t/=e,t>6?6:t>3?3:t>2?2:1}function lZ(t){return t/=$u,t>12?12:t>6?6:t>3.5?4:t>2?2:1}function _2(t,e){return t/=e?$_:N_,t>30?30:t>20?20:t>15?15:t>10?10:t>5?5:t>2?2:1}function fZ(t){return ZL(t,!0)}function cZ(t,e,n){var r=new Date(t);switch($o(e)){case"year":case"month":r[lE(n)](0);case"day":r[fE(n)](1);case"hour":r[cE(n)](0);case"minute":r[hE(n)](0);case"second":r[dE(n)](0),r[pE(n)](0)}return r.getTime()}function hZ(t,e,n,r){var i=1e4,a=sE,o=0;function s(C,N,D,G,X,H,W){for(var K=new Date(N),Q=N,l=K[G]();Q<D&&Q<=r[1];)W.push({value:Q}),l+=C,K[X](l),Q=K.getTime();W.push({value:Q,notAdd:!0})}function u(C,N,D){var G=[],X=!N.length;if(!oZ($o(C),r[0],r[1],n)){X&&(N=[{value:cZ(new Date(r[0]),C,n)},{value:r[1]}]);for(var H=0;H<N.length-1;H++){var W=N[H].value,K=N[H+1].value;if(W!==K){var Q=void 0,l=void 0,h=void 0,g=!1;switch(C){case"year":Q=Math.max(1,Math.round(e/Cn/365)),l=G_(n),h=mX(n);break;case"half-year":case"quarter":case"month":Q=uZ(e),l=Go(n),h=lE(n);break;case"week":case"half-week":case"day":Q=sZ(e),l=Qd(n),h=fE(n),g=!0;break;case"half-day":case"quarter-day":case"hour":Q=lZ(e),l=yl(n),h=cE(n);break;case"minute":Q=_2(e,!0),l=Kd(n),h=hE(n);break;case"second":Q=_2(e,!1),l=jd(n),h=dE(n);break;case"millisecond":Q=fZ(e),l=Jd(n),h=pE(n);break}s(Q,W,K,l,h,g,G),C==="year"&&D.length>1&&H===0&&D.unshift({value:D[0].value-Q})}}for(var H=0;H<G.length;H++)D.push(G[H]);return G}}for(var f=[],c=[],d=0,p=0,v=0;v<a.length&&o++<i;++v){var y=$o(a[v]);if(vX(a[v])){u(a[v],f[f.length-1]||[],c);var x=a[v+1]?$o(a[v+1]):null;if(y!==x){if(c.length){p=d,c.sort(function(C,N){return C.value-N.value});for(var _=[],w=0;w<c.length;++w){var b=c[w].value;(w===0||c[w-1].value!==b)&&(_.push(c[w]),b>=r[0]&&b<=r[1]&&d++)}var S=(r[1]-r[0])/e;if(d>S*1.5&&p>S/1.5||(f.push(_),d>S||t===a[v]))break}c=[]}}}for(var A=pe(at(f,function(C){return pe(C,function(N){return N.value>=r[0]&&N.value<=r[1]&&!N.notAdd})}),function(C){return C.length>0}),L=[],P=A.length-1,v=0;v<A.length;++v)for(var E=A[v],O=0;O<E.length;++O)L.push({value:E[O].value,level:P-v});L.sort(function(C,N){return C.value-N.value});for(var R=[],v=0;v<L.length;++v)(v===0||L[v].value!==L[v-1].value)&&R.push(L[v]);return R}Br.registerClass(G3);const dZ=G3;var x2=Br.prototype,Bu=Bl.prototype,pZ=oe,vZ=Math.floor,gZ=Math.ceil,Wf=Math.pow,In=Math.log,i1=function(t){ht(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="log",n.base=10,n._originalScale=new Bl,n._interval=0,n}return e.prototype.getTicks=function(n){var r=this._originalScale,i=this._extent,a=r.getExtent(),o=Bu.getTicks.call(this,n);return at(o,function(s){var u=s.value,f=oe(Wf(this.base,u));return f=u===i[0]&&this._fixMin?qf(f,a[0]):f,f=u===i[1]&&this._fixMax?qf(f,a[1]):f,{value:f}},this)},e.prototype.setExtent=function(n,r){var i=In(this.base);n=In(Math.max(0,n))/i,r=In(Math.max(0,r))/i,Bu.setExtent.call(this,n,r)},e.prototype.getExtent=function(){var n=this.base,r=x2.getExtent.call(this);r[0]=Wf(n,r[0]),r[1]=Wf(n,r[1]);var i=this._originalScale,a=i.getExtent();return this._fixMin&&(r[0]=qf(r[0],a[0])),this._fixMax&&(r[1]=qf(r[1],a[1])),r},e.prototype.unionExtent=function(n){this._originalScale.unionExtent(n);var r=this.base;n[0]=In(n[0])/In(r),n[1]=In(n[1])/In(r),x2.unionExtent.call(this,n)},e.prototype.unionExtentFromData=function(n,r){this.unionExtent(n.getApproximateExtent(r))},e.prototype.calcNiceTicks=function(n){n=n||10;var r=this._extent,i=r[1]-r[0];if(!(i===1/0||i<=0)){var a=yz(i),o=n/i*a;for(o<=.5&&(a*=10);!isNaN(a)&&Math.abs(a)<1&&Math.abs(a)>0;)a*=10;var s=[oe(gZ(r[0]/a)*a),oe(vZ(r[1]/a)*a)];this._interval=a,this._niceExtent=s}},e.prototype.calcNiceExtent=function(n){Bu.calcNiceExtent.call(this,n),this._fixMin=n.fixMin,this._fixMax=n.fixMax},e.prototype.parse=function(n){return n},e.prototype.contain=function(n){return n=In(n)/In(this.base),op(n,this._extent)},e.prototype.normalize=function(n){return n=In(n)/In(this.base),sp(n,this._extent)},e.prototype.scale=function(n){return n=up(n,this._extent),Wf(this.base,n)},e.type="log",e}(Br),V3=i1.prototype;V3.getMinorTicks=Bu.getMinorTicks;V3.getLabel=Bu.getLabel;function qf(t,e){return pZ(t,Mr(e))}Br.registerClass(i1);const yZ=i1;var mZ=function(){function t(e,n,r){this._prepareParams(e,n,r)}return t.prototype._prepareParams=function(e,n,r){r[1]<r[0]&&(r=[NaN,NaN]),this._dataMin=r[0],this._dataMax=r[1];var i=this._isOrdinal=e.type==="ordinal";this._needCrossZero=e.type==="interval"&&n.getNeedCrossZero&&n.getNeedCrossZero();var a=this._modelMinRaw=n.get("min",!0);mt(a)?this._modelMinNum=Zf(e,a({min:r[0],max:r[1]})):a!=="dataMin"&&(this._modelMinNum=Zf(e,a));var o=this._modelMaxRaw=n.get("max",!0);if(mt(o)?this._modelMaxNum=Zf(e,o({min:r[0],max:r[1]})):o!=="dataMax"&&(this._modelMaxNum=Zf(e,o)),i)this._axisDataLen=n.getCategories().length;else{var s=n.get("boundaryGap"),u=nt(s)?s:[s||0,s||0];typeof u[0]=="boolean"||typeof u[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[_i(u[0],1),_i(u[1],1)]}},t.prototype.calculate=function(){var e=this._isOrdinal,n=this._dataMin,r=this._dataMax,i=this._axisDataLen,a=this._boundaryGapInner,o=e?null:r-n||Math.abs(n),s=this._modelMinRaw==="dataMin"?n:this._modelMinNum,u=this._modelMaxRaw==="dataMax"?r:this._modelMaxNum,f=s!=null,c=u!=null;s==null&&(s=e?i?0:NaN:n-a[0]*o),u==null&&(u=e?i?i-1:NaN:r+a[1]*o),(s==null||!isFinite(s))&&(s=NaN),(u==null||!isFinite(u))&&(u=NaN);var d=Sh(s)||Sh(u)||e&&!i;this._needCrossZero&&(s>0&&u>0&&!f&&(s=0),s<0&&u<0&&!c&&(u=0));var p=this._determinedMin,v=this._determinedMax;return p!=null&&(s=p,f=!0),v!=null&&(u=v,c=!0),{min:s,max:u,minFixed:f,maxFixed:c,isBlank:d}},t.prototype.modifyDataMinMax=function(e,n){this[xZ[e]]=n},t.prototype.setDeterminedMinMax=function(e,n){var r=_Z[e];this[r]=n},t.prototype.freeze=function(){this.frozen=!0},t}(),_Z={min:"_determinedMin",max:"_determinedMax"},xZ={min:"_dataMin",max:"_dataMax"};function F3(t,e,n){var r=t.rawExtentInfo;return r||(r=new mZ(t,e,n),t.rawExtentInfo=r,r)}function Zf(t,e){return e==null?null:Sh(e)?NaN:t.parse(e)}function B3(t,e){var n=t.type,r=F3(t,e,t.getExtent()).calculate();t.setBlank(r.isBlank);var i=r.min,a=r.max,o=e.ecModel;if(o&&n==="time"){var s=k3("bar",o),u=!1;if(Y(s,function(d){u=u||d.getBaseAxis()===e.axis}),u){var f=O3(s),c=wZ(i,a,e,f);i=c.min,a=c.max}}return{extent:[i,a],fixMin:r.minFixed,fixMax:r.maxFixed}}function wZ(t,e,n,r){var i=n.axis.getExtent(),a=i[1]-i[0],o=eZ(r,n.axis);if(o===void 0)return{min:t,max:e};var s=1/0;Y(o,function(v){s=Math.min(v.offset,s)});var u=-1/0;Y(o,function(v){u=Math.max(v.offset+v.width,u)}),s=Math.abs(s),u=Math.abs(u);var f=s+u,c=e-t,d=1-(s+u)/a,p=c/d-c;return e+=p*(u/f),t-=p*(s/f),{min:t,max:e}}function w2(t,e){var n=e,r=B3(t,n),i=r.extent,a=n.get("splitNumber");t instanceof yZ&&(t.base=n.get("logBase"));var o=t.type,s=n.get("interval"),u=o==="interval"||o==="time";t.setExtent(i[0],i[1]),t.calcNiceExtent({splitNumber:a,fixMin:r.fixMin,fixMax:r.fixMax,minInterval:u?n.get("minInterval"):null,maxInterval:u?n.get("maxInterval"):null}),s!=null&&t.setInterval&&t.setInterval(s)}function bZ(t,e){if(e=e||t.get("type"),e)switch(e){case"category":return new E3({ordinalMeta:t.getOrdinalMeta?t.getOrdinalMeta():t.getCategories(),extent:[1/0,-1/0]});case"time":return new dZ({locale:t.ecModel.getLocaleModel(),useUTC:t.ecModel.get("useUTC")});default:return new(Br.getClass(e)||Bl)}}function SZ(t){var e=t.scale.getExtent(),n=e[0],r=e[1];return!(n>0&&r>0||n<0&&r<0)}function zl(t){var e=t.getLabelModel().get("formatter"),n=t.type==="category"?t.scale.getExtent()[0]:null;return t.scale.type==="time"?function(r){return function(i,a){return t.scale.getFormattedLabel(i,a,r)}}(e):ut(e)?function(r){return function(i){var a=t.scale.getLabel(i),o=r.replace("{value}",a??"");return o}}(e):mt(e)?function(r){return function(i,a){return n!=null&&(a=i.value-n),r(a1(t,i),a,i.level!=null?{level:i.level}:null)}}(e):function(r){return t.scale.getLabel(r)}}function a1(t,e){return t.type==="category"?t.scale.getLabel(e):e.value}function TZ(t){var e=t.model,n=t.scale;if(!(!e.get(["axisLabel","show"])||n.isBlank())){var r,i,a=n.getExtent();n instanceof E3?i=n.count():(r=n.getTicks(),i=r.length);var o=t.getLabelModel(),s=zl(t),u,f=1;i>40&&(f=Math.ceil(i/40));for(var c=0;c<i;c+=f){var d=r?r[c]:{value:a[0]+c},p=s(d,c),v=o.getTextRect(p),y=AZ(v,o.get("rotate")||0);u?u.union(y):u=y}return u}}function AZ(t,e){var n=e*Math.PI/180,r=t.width,i=t.height,a=r*Math.abs(Math.cos(n))+Math.abs(i*Math.sin(n)),o=r*Math.abs(Math.sin(n))+Math.abs(i*Math.cos(n)),s=new Nt(t.x,t.y,a,o);return s}function o1(t){var e=t.get("interval");return e??"auto"}function z3(t){return t.type==="category"&&o1(t.getLabelModel())===0}function H3(t,e){var n={};return Y(t.mapDimensionsAll(e),function(r){n[Bq(t,r)]=!0}),jt(n)}function CZ(t,e,n){e&&Y(H3(e,n),function(r){var i=e.getApproximateExtent(r);i[0]<t[0]&&(t[0]=i[0]),i[1]>t[1]&&(t[1]=i[1])})}var MZ=function(){function t(){}return t.prototype.getNeedCrossZero=function(){var e=this.option;return!e.scale},t.prototype.getCoordSysModel=function(){},t}(),b2=[],PZ={registerPreprocessor:x3,registerProcessor:w3,registerPostInit:hq,registerPostUpdate:dq,registerUpdateLifecycle:J_,registerAction:mr,registerCoordinateSystem:pq,registerLayout:vq,registerVisual:Ya,registerTransform:yq,registerLoading:b3,registerMap:gq,registerImpl:UW,PRIORITY:aq,ComponentModel:Zt,ComponentView:pr,SeriesModel:Ia,ChartView:Ir,registerComponentModel:function(t){Zt.registerClass(t)},registerComponentView:function(t){pr.registerClass(t)},registerSeriesModel:function(t){Ia.registerClass(t)},registerChartView:function(t){Ir.registerClass(t)},registerSubTypeDefaulter:function(t,e){Zt.registerSubTypeDefaulter(t,e)},registerPainter:function(t,e){cz(t,e)}};function Nr(t){if(nt(t)){Y(t,function(e){Nr(e)});return}Ot(b2,t)>=0||(b2.push(t),mt(t)&&(t={install:t}),t.install(PZ))}var Tl=ae();function LZ(t){return t.type==="category"?EZ(t):RZ(t)}function DZ(t,e){return t.type==="category"?IZ(t,e):{ticks:at(t.scale.getTicks(),function(n){return n.value})}}function EZ(t){var e=t.getLabelModel(),n=Y3(t,e);return!e.get("show")||t.scale.isBlank()?{labels:[],labelCategoryInterval:n.labelCategoryInterval}:n}function Y3(t,e){var n=X3(t,"labels"),r=o1(e),i=U3(n,r);if(i)return i;var a,o;return mt(r)?a=Z3(t,r):(o=r==="auto"?kZ(t):r,a=q3(t,o)),W3(n,r,{labels:a,labelCategoryInterval:o})}function IZ(t,e){var n=X3(t,"ticks"),r=o1(e),i=U3(n,r);if(i)return i;var a,o;if((!e.get("show")||t.scale.isBlank())&&(a=[]),mt(r))a=Z3(t,r,!0);else if(r==="auto"){var s=Y3(t,t.getLabelModel());o=s.labelCategoryInterval,a=at(s.labels,function(u){return u.tickValue})}else o=r,a=q3(t,o,!0);return W3(n,r,{ticks:a,tickCategoryInterval:o})}function RZ(t){var e=t.scale.getTicks(),n=zl(t);return{labels:at(e,function(r,i){return{level:r.level,formattedLabel:n(r,i),rawLabel:t.scale.getLabel(r),tickValue:r.value}})}}function X3(t,e){return Tl(t)[e]||(Tl(t)[e]=[])}function U3(t,e){for(var n=0;n<t.length;n++)if(t[n].key===e)return t[n].value}function W3(t,e,n){return t.push({key:e,value:n}),n}function kZ(t){var e=Tl(t).autoInterval;return e??(Tl(t).autoInterval=t.calculateCategoryInterval())}function OZ(t){var e=NZ(t),n=zl(t),r=(e.axisRotate-e.labelRotate)/180*Math.PI,i=t.scale,a=i.getExtent(),o=i.count();if(a[1]-a[0]<1)return 0;var s=1;o>40&&(s=Math.max(1,Math.floor(o/40)));for(var u=a[0],f=t.dataToCoord(u+1)-t.dataToCoord(u),c=Math.abs(f*Math.cos(r)),d=Math.abs(f*Math.sin(r)),p=0,v=0;u<=a[1];u+=s){var y=0,x=0,_=Rd(n({value:u}),e.font,"center","top");y=_.width*1.3,x=_.height*1.3,p=Math.max(p,y,7),v=Math.max(v,x,7)}var w=p/c,b=v/d;isNaN(w)&&(w=1/0),isNaN(b)&&(b=1/0);var S=Math.max(0,Math.floor(Math.min(w,b))),A=Tl(t.model),L=t.getExtent(),P=A.lastAutoInterval,E=A.lastTickCount;return P!=null&&E!=null&&Math.abs(P-S)<=1&&Math.abs(E-o)<=1&&P>S&&A.axisExtent0===L[0]&&A.axisExtent1===L[1]?S=P:(A.lastTickCount=o,A.lastAutoInterval=S,A.axisExtent0=L[0],A.axisExtent1=L[1]),S}function NZ(t){var e=t.getLabelModel();return{axisRotate:t.getRotate?t.getRotate():t.isHorizontal&&!t.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}function q3(t,e,n){var r=zl(t),i=t.scale,a=i.getExtent(),o=t.getLabelModel(),s=[],u=Math.max((e||0)+1,1),f=a[0],c=i.count();f!==0&&u>1&&c/u>2&&(f=Math.round(Math.ceil(f/u)*u));var d=z3(t),p=o.get("showMinLabel")||d,v=o.get("showMaxLabel")||d;p&&f!==a[0]&&x(a[0]);for(var y=f;y<=a[1];y+=u)x(y);v&&y-u!==a[1]&&x(a[1]);function x(_){var w={value:_};s.push(n?_:{formattedLabel:r(w),rawLabel:i.getLabel(w),tickValue:_})}return s}function Z3(t,e,n){var r=t.scale,i=zl(t),a=[];return Y(r.getTicks(),function(o){var s=r.getLabel(o),u=o.value;e(o.value,s)&&a.push(n?u:{formattedLabel:i(o),rawLabel:s,tickValue:u})}),a}var S2=[0,1],$Z=function(){function t(e,n,r){this.onBand=!1,this.inverse=!1,this.dim=e,this.scale=n,this._extent=r||[0,0]}return t.prototype.contain=function(e){var n=this._extent,r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return e>=r&&e<=i},t.prototype.containData=function(e){return this.scale.contain(e)},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.getPixelPrecision=function(e){return WL(e||this.scale.getExtent(),this._extent)},t.prototype.setExtent=function(e,n){var r=this._extent;r[0]=e,r[1]=n},t.prototype.dataToCoord=function(e,n){var r=this._extent,i=this.scale;return e=i.normalize(e),this.onBand&&i.type==="ordinal"&&(r=r.slice(),T2(r,i.count())),ra(e,S2,r,n)},t.prototype.coordToData=function(e,n){var r=this._extent,i=this.scale;this.onBand&&i.type==="ordinal"&&(r=r.slice(),T2(r,i.count()));var a=ra(e,r,S2,n);return this.scale.scale(a)},t.prototype.pointToData=function(e,n){},t.prototype.getTicksCoords=function(e){e=e||{};var n=e.tickModel||this.getTickModel(),r=DZ(this,n),i=r.ticks,a=at(i,function(s){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(s):s),tickValue:s}},this),o=n.get("alignWithLabel");return GZ(this,a,o,e.clamp),a},t.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var e=this.model.getModel("minorTick"),n=e.get("splitNumber");n>0&&n<100||(n=5);var r=this.scale.getMinorTicks(n),i=at(r,function(a){return at(a,function(o){return{coord:this.dataToCoord(o),tickValue:o}},this)},this);return i},t.prototype.getViewLabels=function(){return LZ(this).labels},t.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},t.prototype.getTickModel=function(){return this.model.getModel("axisTick")},t.prototype.getBandWidth=function(){var e=this._extent,n=this.scale.getExtent(),r=n[1]-n[0]+(this.onBand?1:0);r===0&&(r=1);var i=Math.abs(e[1]-e[0]);return Math.abs(i)/r},t.prototype.calculateCategoryInterval=function(){return OZ(this)},t}();function T2(t,e){var n=t[1]-t[0],r=e,i=n/r/2;t[0]+=i,t[1]-=i}function GZ(t,e,n,r){var i=e.length;if(!t.onBand||n||!i)return;var a=t.getExtent(),o,s;if(i===1)e[0].coord=a[0],o=e[1]={coord:a[0]};else{var u=e[i-1].tickValue-e[0].tickValue,f=(e[i-1].coord-e[0].coord)/u;Y(e,function(v){v.coord-=f/2});var c=t.scale.getExtent();s=1+c[1]-e[i-1].tickValue,o={coord:e[i-1].coord+f*s},e.push(o)}var d=a[0]>a[1];p(e[0].coord,a[0])&&(r?e[0].coord=a[0]:e.shift()),r&&p(a[0],e[0].coord)&&e.unshift({coord:a[0]}),p(a[1],o.coord)&&(r?o.coord=a[1]:e.pop()),r&&p(o.coord,a[1])&&e.push({coord:a[1]});function p(v,y){return v=oe(v),y=oe(y),d?v>y:v<y}}const VZ=$Z;function FZ(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];if(!r.defaultAttr.ignore){var i=r.label,a=i.getComputedTransform(),o=i.getBoundingRect(),s=!a||a[1]<1e-5&&a[2]<1e-5,u=i.style.margin||0,f=o.clone();f.applyTransform(a),f.x-=u/2,f.y-=u/2,f.width+=u,f.height+=u;var c=s?new Rh(o,a):null;e.push({label:i,labelLine:r.labelLine,rect:f,localRect:o,obb:c,priority:r.priority,defaultAttr:r.defaultAttr,layoutOption:r.computedLayoutOption,axisAligned:s,transform:a})}}return e}function BZ(t){var e=[];t.sort(function(x,_){return _.priority-x.priority});var n=new Nt(0,0,0,0);function r(x){if(!x.ignore){var _=x.ensureState("emphasis");_.ignore==null&&(_.ignore=!1)}x.ignore=!0}for(var i=0;i<t.length;i++){var a=t[i],o=a.axisAligned,s=a.localRect,u=a.transform,f=a.label,c=a.labelLine;n.copy(a.rect),n.width-=.1,n.height-=.1,n.x+=.05,n.y+=.05;for(var d=a.obb,p=!1,v=0;v<e.length;v++){var y=e[v];if(n.intersect(y.rect)){if(o&&y.axisAligned){p=!0;break}if(y.obb||(y.obb=new Rh(y.localRect,y.transform)),d||(d=new Rh(s,u)),d.intersect(y.obb)){p=!0;break}}}p?(r(f),c&&r(c)):(f.attr("ignore",a.defaultAttr.ignore),c&&c.attr("ignore",a.defaultAttr.labelGuideIgnore),e.push(a))}}var zZ=function(t){ht(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.type="grid",e.dependencies=["xAxis","yAxis"],e.layoutMode="box",e.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},e}(Zt);const HZ=zZ;var Ty=function(t){ht(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",Ne).models[0]},e.type="cartesian2dAxis",e}(Zt);gr(Ty,MZ);var Q3={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},YZ=Mt({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},Q3),s1=Mt({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},Q3),XZ=Mt({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},s1),UZ=bt({logBase:10},s1);const WZ={category:YZ,value:s1,time:XZ,log:UZ};var qZ={value:1,category:1,time:1,log:1};function A2(t,e,n,r){Y(qZ,function(i,a){var o=Mt(Mt({},WZ[a],!0),r,!0),s=function(u){ht(f,u);function f(){var c=u!==null&&u.apply(this,arguments)||this;return c.type=e+"Axis."+a,c}return f.prototype.mergeDefaultAndTheme=function(c,d){var p=ml(this),v=p?ep(c):{},y=d.getTheme();Mt(c,y.get(a+"Axis")),Mt(c,this.getDefaultOption()),c.type=C2(c),p&&ns(c,v,p)},f.prototype.optionUpdated=function(){var c=this.option;c.type==="category"&&(this.__ordinalMeta=by.createByAxisModel(this))},f.prototype.getCategories=function(c){var d=this.option;if(d.type==="category")return c?d.data:this.__ordinalMeta.categories},f.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},f.type=e+"Axis."+a,f.defaultOption=o,f}(n);t.registerComponentModel(s)}),t.registerSubTypeDefaulter(e+"Axis",C2)}function C2(t){return t.type||(t.data?"category":"value")}var ZZ=function(){function t(e){this.type="cartesian",this._dimList=[],this._axes={},this.name=e||""}return t.prototype.getAxis=function(e){return this._axes[e]},t.prototype.getAxes=function(){return at(this._dimList,function(e){return this._axes[e]},this)},t.prototype.getAxesByScale=function(e){return e=e.toLowerCase(),pe(this.getAxes(),function(n){return n.scale.type===e})},t.prototype.addAxis=function(e){var n=e.dim;this._axes[n]=e,this._dimList.push(n)},t}();const QZ=ZZ;var Ay=["x","y"];function M2(t){return t.type==="interval"||t.type==="time"}var KZ=function(t){ht(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="cartesian2d",n.dimensions=Ay,n}return e.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var n=this.getAxis("x").scale,r=this.getAxis("y").scale;if(!(!M2(n)||!M2(r))){var i=n.getExtent(),a=r.getExtent(),o=this.dataToPoint([i[0],a[0]]),s=this.dataToPoint([i[1],a[1]]),u=i[1]-i[0],f=a[1]-a[0];if(!(!u||!f)){var c=(s[0]-o[0])/u,d=(s[1]-o[1])/f,p=o[0]-i[0]*c,v=o[1]-a[0]*d,y=this._transform=[c,0,0,d,p,v];this._invTransform=p_([],y)}}},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},e.prototype.containPoint=function(n){var r=this.getAxis("x"),i=this.getAxis("y");return r.contain(r.toLocalCoord(n[0]))&&i.contain(i.toLocalCoord(n[1]))},e.prototype.containData=function(n){return this.getAxis("x").containData(n[0])&&this.getAxis("y").containData(n[1])},e.prototype.containZone=function(n,r){var i=this.dataToPoint(n),a=this.dataToPoint(r),o=this.getArea(),s=new Nt(i[0],i[1],a[0]-i[0],a[1]-i[1]);return o.intersect(s)},e.prototype.dataToPoint=function(n,r,i){i=i||[];var a=n[0],o=n[1];if(this._transform&&a!=null&&isFinite(a)&&o!=null&&isFinite(o))return Pn(i,n,this._transform);var s=this.getAxis("x"),u=this.getAxis("y");return i[0]=s.toGlobalCoord(s.dataToCoord(a,r)),i[1]=u.toGlobalCoord(u.dataToCoord(o,r)),i},e.prototype.clampData=function(n,r){var i=this.getAxis("x").scale,a=this.getAxis("y").scale,o=i.getExtent(),s=a.getExtent(),u=i.parse(n[0]),f=a.parse(n[1]);return r=r||[],r[0]=Math.min(Math.max(Math.min(o[0],o[1]),u),Math.max(o[0],o[1])),r[1]=Math.min(Math.max(Math.min(s[0],s[1]),f),Math.max(s[0],s[1])),r},e.prototype.pointToData=function(n,r){var i=[];if(this._invTransform)return Pn(i,n,this._invTransform);var a=this.getAxis("x"),o=this.getAxis("y");return i[0]=a.coordToData(a.toLocalCoord(n[0]),r),i[1]=o.coordToData(o.toLocalCoord(n[1]),r),i},e.prototype.getOtherAxis=function(n){return this.getAxis(n.dim==="x"?"y":"x")},e.prototype.getArea=function(){var n=this.getAxis("x").getGlobalExtent(),r=this.getAxis("y").getGlobalExtent(),i=Math.min(n[0],n[1]),a=Math.min(r[0],r[1]),o=Math.max(n[0],n[1])-i,s=Math.max(r[0],r[1])-a;return new Nt(i,a,o,s)},e}(QZ),jZ=function(t){ht(e,t);function e(n,r,i,a,o){var s=t.call(this,n,r,i)||this;return s.index=0,s.type=a||"value",s.position=o||"bottom",s}return e.prototype.isHorizontal=function(){var n=this.position;return n==="top"||n==="bottom"},e.prototype.getGlobalExtent=function(n){var r=this.getExtent();return r[0]=this.toGlobalCoord(r[0]),r[1]=this.toGlobalCoord(r[1]),n&&r[0]>r[1]&&r.reverse(),r},e.prototype.pointToData=function(n,r){return this.coordToData(this.toLocalCoord(n[this.dim==="x"?0:1]),r)},e.prototype.setCategorySortInfo=function(n){if(this.type!=="category")return!1;this.model.option.categorySortInfo=n,this.scale.setSortInfo(n)},e}(VZ);const JZ=jZ;function Cy(t,e,n){n=n||{};var r=t.coordinateSystem,i=e.axis,a={},o=i.getAxesOnZeroOf()[0],s=i.position,u=o?"onZero":s,f=i.dim,c=r.getRect(),d=[c.x,c.x+c.width,c.y,c.y+c.height],p={left:0,right:1,top:0,bottom:1,onZero:2},v=e.get("offset")||0,y=f==="x"?[d[2]-v,d[3]+v]:[d[0]-v,d[1]+v];if(o){var x=o.toGlobalCoord(o.dataToCoord(0));y[p.onZero]=Math.max(Math.min(x,y[1]),y[0])}a.position=[f==="y"?y[p[u]]:d[0],f==="x"?y[p[u]]:d[3]],a.rotation=Math.PI/2*(f==="x"?0:1);var _={top:-1,bottom:1,left:-1,right:1};a.labelDirection=a.tickDirection=a.nameDirection=_[s],a.labelOffset=o?y[p[s]]-y[p.onZero]:0,e.get(["axisTick","inside"])&&(a.tickDirection=-a.tickDirection),fl(n.labelInside,e.get(["axisLabel","inside"]))&&(a.labelDirection=-a.labelDirection);var w=e.get(["axisLabel","rotate"]);return a.labelRotate=u==="top"?-w:w,a.z2=1,a}function P2(t){return t.get("coordinateSystem")==="cartesian2d"}function L2(t){var e={xAxisModel:null,yAxisModel:null};return Y(e,function(n,r){var i=r.replace(/Model$/,""),a=t.getReferringComponents(i,Ne).models[0];e[r]=a}),e}var lg=Math.log;function tQ(t,e,n){var r=Bl.prototype,i=r.getTicks.call(n),a=r.getTicks.call(n,!0),o=i.length-1,s=r.getInterval.call(n),u=B3(t,e),f=u.extent,c=u.fixMin,d=u.fixMax;if(t.type==="log"){var p=lg(t.base);f=[lg(f[0])/p,lg(f[1])/p]}t.setExtent(f[0],f[1]),t.calcNiceExtent({splitNumber:o,fixMin:c,fixMax:d});var v=r.getExtent.call(t);c&&(f[0]=v[0]),d&&(f[1]=v[1]);var y=r.getInterval.call(t),x=f[0],_=f[1];if(c&&d)y=(_-x)/o;else if(c)for(_=f[0]+y*o;_<f[1]&&isFinite(_)&&isFinite(f[1]);)y=ug(y),_=f[0]+y*o;else if(d)for(x=f[1]-y*o;x>f[0]&&isFinite(x)&&isFinite(f[0]);)y=ug(y),x=f[1]-y*o;else{var w=t.getTicks().length-1;w>o&&(y=ug(y));var b=y*o;_=Math.ceil(f[1]/y)*y,x=oe(_-b),x<0&&f[0]>=0?(x=0,_=oe(b)):_>0&&f[1]<=0&&(_=0,x=-oe(b))}var S=(i[0].value-a[0].value)/s,A=(i[o].value-a[o].value)/s;r.setExtent.call(t,x+y*S,_+y*A),r.setInterval.call(t,y),(S||A)&&r.setNiceExtent.call(t,x+y,_-y)}var eQ=function(){function t(e,n,r){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=Ay,this._initCartesian(e,n,r),this.model=e}return t.prototype.getRect=function(){return this._rect},t.prototype.update=function(e,n){var r=this._axesMap;this._updateScale(e,this.model);function i(o){var s,u=jt(o),f=u.length;if(f){for(var c=[],d=f-1;d>=0;d--){var p=+u[d],v=o[p],y=v.model,x=v.scale;Sy(x)&&y.get("alignTicks")&&y.get("interval")==null?c.push(v):(w2(x,y),Sy(x)&&(s=v))}c.length&&(s||(s=c.pop(),w2(s.scale,s.model)),Y(c,function(_){tQ(_.scale,_.model,s.scale)}))}}i(r.x),i(r.y);var a={};Y(r.x,function(o){D2(r,"y",o,a)}),Y(r.y,function(o){D2(r,"x",o,a)}),this.resize(this.model,n)},t.prototype.resize=function(e,n,r){var i=e.getBoxLayoutParams(),a=!r&&e.get("containLabel"),o=es(i,{width:n.getWidth(),height:n.getHeight()});this._rect=o;var s=this._axesList;u(),a&&(Y(s,function(f){if(!f.model.get(["axisLabel","inside"])){var c=TZ(f);if(c){var d=f.isHorizontal()?"height":"width",p=f.model.get(["axisLabel","margin"]);o[d]-=c[d]+p,f.position==="top"?o.y+=c.height+p:f.position==="left"&&(o.x+=c.width+p)}}}),u()),Y(this._coordsList,function(f){f.calcAffineTransform()});function u(){Y(s,function(f){var c=f.isHorizontal(),d=c?[0,o.width]:[0,o.height],p=f.inverse?1:0;f.setExtent(d[p],d[1-p]),nQ(f,c?o.x:o.y)})}},t.prototype.getAxis=function(e,n){var r=this._axesMap[e];if(r!=null)return r[n||0]},t.prototype.getAxes=function(){return this._axesList.slice()},t.prototype.getCartesian=function(e,n){if(e!=null&&n!=null){var r="x"+e+"y"+n;return this._coordsMap[r]}pt(e)&&(n=e.yAxisIndex,e=e.xAxisIndex);for(var i=0,a=this._coordsList;i<a.length;i++)if(a[i].getAxis("x").index===e||a[i].getAxis("y").index===n)return a[i]},t.prototype.getCartesians=function(){return this._coordsList.slice()},t.prototype.convertToPixel=function(e,n,r){var i=this._findConvertTarget(n);return i.cartesian?i.cartesian.dataToPoint(r):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(r)):null},t.prototype.convertFromPixel=function(e,n,r){var i=this._findConvertTarget(n);return i.cartesian?i.cartesian.pointToData(r):i.axis?i.axis.coordToData(i.axis.toLocalCoord(r)):null},t.prototype._findConvertTarget=function(e){var n=e.seriesModel,r=e.xAxisModel||n&&n.getReferringComponents("xAxis",Ne).models[0],i=e.yAxisModel||n&&n.getReferringComponents("yAxis",Ne).models[0],a=e.gridModel,o=this._coordsList,s,u;if(n)s=n.coordinateSystem,Ot(o,s)<0&&(s=null);else if(r&&i)s=this.getCartesian(r.componentIndex,i.componentIndex);else if(r)u=this.getAxis("x",r.componentIndex);else if(i)u=this.getAxis("y",i.componentIndex);else if(a){var f=a.coordinateSystem;f===this&&(s=this._coordsList[0])}return{cartesian:s,axis:u}},t.prototype.containPoint=function(e){var n=this._coordsList[0];if(n)return n.containPoint(e)},t.prototype._initCartesian=function(e,n,r){var i=this,a=this,o={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},u={x:0,y:0};if(n.eachComponent("xAxis",f("x"),this),n.eachComponent("yAxis",f("y"),this),!u.x||!u.y){this._axesMap={},this._axesList=[];return}this._axesMap=s,Y(s.x,function(c,d){Y(s.y,function(p,v){var y="x"+d+"y"+v,x=new KZ(y);x.master=i,x.model=e,i._coordsMap[y]=x,i._coordsList.push(x),x.addAxis(c),x.addAxis(p)})});function f(c){return function(d,p){if(fg(d,e)){var v=d.get("position");c==="x"?v!=="top"&&v!=="bottom"&&(v=o.bottom?"top":"bottom"):v!=="left"&&v!=="right"&&(v=o.left?"right":"left"),o[v]=!0;var y=new JZ(c,bZ(d),[0,0],d.get("type"),v),x=y.type==="category";y.onBand=x&&d.get("boundaryGap"),y.inverse=d.get("inverse"),d.axis=y,y.model=d,y.grid=a,y.index=p,a._axesList.push(y),s[c][p]=y,u[c]++}}}},t.prototype._updateScale=function(e,n){Y(this._axesList,function(i){if(i.scale.setExtent(1/0,-1/0),i.type==="category"){var a=i.model.get("categorySortInfo");i.scale.setSortInfo(a)}}),e.eachSeries(function(i){if(P2(i)){var a=L2(i),o=a.xAxisModel,s=a.yAxisModel;if(!fg(o,n)||!fg(s,n))return;var u=this.getCartesian(o.componentIndex,s.componentIndex),f=i.getData(),c=u.getAxis("x"),d=u.getAxis("y");r(f,c),r(f,d)}},this);function r(i,a){Y(H3(i,a.dim),function(o){a.scale.unionExtentFromData(i,o)})}},t.prototype.getTooltipAxes=function(e){var n=[],r=[];return Y(this.getCartesians(),function(i){var a=e!=null&&e!=="auto"?i.getAxis(e):i.getBaseAxis(),o=i.getOtherAxis(a);Ot(n,a)<0&&n.push(a),Ot(r,o)<0&&r.push(o)}),{baseAxes:n,otherAxes:r}},t.create=function(e,n){var r=[];return e.eachComponent("grid",function(i,a){var o=new t(i,e,n);o.name="grid_"+a,o.resize(i,n,!0),i.coordinateSystem=o,r.push(o)}),e.eachSeries(function(i){if(P2(i)){var a=L2(i),o=a.xAxisModel,s=a.yAxisModel,u=o.getCoordSysModel(),f=u.coordinateSystem;i.coordinateSystem=f.getCartesian(o.componentIndex,s.componentIndex)}}),r},t.dimensions=Ay,t}();function fg(t,e){return t.getCoordSysModel()===e}function D2(t,e,n,r){n.getAxesOnZeroOf=function(){return a?[a]:[]};var i=t[e],a,o=n.model,s=o.get(["axisLine","onZero"]),u=o.get(["axisLine","onZeroAxisIndex"]);if(!s)return;if(u!=null)E2(i[u])&&(a=i[u]);else for(var f in i)if(i.hasOwnProperty(f)&&E2(i[f])&&!r[c(i[f])]){a=i[f];break}a&&(r[c(a)]=!0);function c(d){return d.dim+"_"+d.index}}function E2(t){return t&&t.type!=="category"&&t.type!=="time"&&SZ(t)}function nQ(t,e){var n=t.getExtent(),r=n[0]+n[1];t.toGlobalCoord=t.dim==="x"?function(i){return i+e}:function(i){return r-i+e},t.toLocalCoord=t.dim==="x"?function(i){return i-e}:function(i){return r-i+e}}const rQ=eQ;var si=Math.PI,da=function(){function t(e,n){this.group=new ce,this.opt=n,this.axisModel=e,bt(n,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var r=new ce({x:n.position[0],y:n.position[1],rotation:n.rotation});r.updateTransform(),this._transformGroup=r}return t.prototype.hasBuilder=function(e){return!!I2[e]},t.prototype.add=function(e){I2[e](this.opt,this.axisModel,this.group,this._transformGroup)},t.prototype.getGroup=function(){return this.group},t.innerTextLayout=function(e,n,r){var i=qL(n-e),a,o;return Dh(i)?(o=r>0?"top":"bottom",a="center"):Dh(i-si)?(o=r>0?"bottom":"top",a="center"):(o="middle",i>0&&i<si?a=r>0?"right":"left":a=r>0?"left":"right"),{rotation:i,textAlign:a,textVerticalAlign:o}},t.makeAxisEventDataBase=function(e){var n={componentType:e.mainType,componentIndex:e.componentIndex};return n[e.mainType+"Index"]=e.componentIndex,n},t.isLabelSilent=function(e){var n=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||n&&n.show)},t}(),I2={axisLine:function(t,e,n,r){var i=e.get(["axisLine","show"]);if(i==="auto"&&t.handleAutoShown&&(i=t.handleAutoShown("axisLine")),!!i){var a=e.axis.getExtent(),o=r.transform,s=[a[0],0],u=[a[1],0],f=s[0]>u[0];o&&(Pn(s,s,o),Pn(u,u,o));var c=et({lineCap:"round"},e.getModel(["axisLine","lineStyle"]).getLineStyle()),d=new Da({shape:{x1:s[0],y1:s[1],x2:u[0],y2:u[1]},style:c,strokeContainThreshold:t.strokeContainThreshold||5,silent:!0,z2:1});vl(d.shape,d.style.lineWidth),d.anid="line",n.add(d);var p=e.get(["axisLine","symbol"]);if(p!=null){var v=e.get(["axisLine","symbolSize"]);ut(p)&&(p=[p,p]),(ut(v)||Qt(v))&&(v=[v,v]);var y=JE(e.get(["axisLine","symbolOffset"])||0,v),x=v[0],_=v[1];Y([{rotate:t.rotation+Math.PI/2,offset:y[0],r:0},{rotate:t.rotation-Math.PI/2,offset:y[1],r:Math.sqrt((s[0]-u[0])*(s[0]-u[0])+(s[1]-u[1])*(s[1]-u[1]))}],function(w,b){if(p[b]!=="none"&&p[b]!=null){var S=is(p[b],-x/2,-_/2,x,_,c.stroke,!0),A=w.r+w.offset,L=f?u:s;S.attr({rotation:w.rotate,x:L[0]+A*Math.cos(t.rotation),y:L[1]-A*Math.sin(t.rotation),silent:!0,z2:11}),n.add(S)}})}}},axisTickLabel:function(t,e,n,r){var i=oQ(n,r,e,t),a=uQ(n,r,e,t);if(aQ(e,a,i),sQ(n,r,e,t.tickDirection),e.get(["axisLabel","hideOverlap"])){var o=FZ(at(a,function(s){return{label:s,priority:s.z2,defaultAttr:{ignore:s.ignore}}}));BZ(o)}},axisName:function(t,e,n,r){var i=fl(t.axisName,e.get("name"));if(i){var a=e.get("nameLocation"),o=t.nameDirection,s=e.getModel("nameTextStyle"),u=e.get("nameGap")||0,f=e.axis.getExtent(),c=f[0]>f[1]?-1:1,d=[a==="start"?f[0]-c*u:a==="end"?f[1]+c*u:(f[0]+f[1])/2,k2(a)?t.labelOffset+o*u:0],p,v=e.get("nameRotate");v!=null&&(v=v*si/180);var y;k2(a)?p=da.innerTextLayout(t.rotation,v??t.rotation,o):(p=iQ(t.rotation,a,v||0,f),y=t.axisNameAvailableWidth,y!=null&&(y=Math.abs(y/Math.sin(p.rotation)),!isFinite(y)&&(y=null)));var x=s.getFont(),_=e.get("nameTruncate",!0)||{},w=_.ellipsis,b=fl(t.nameTruncateMaxWidth,_.maxWidth,y),S=new ze({x:d[0],y:d[1],rotation:p.rotation,silent:da.isLabelSilent(e),style:ts(s,{text:i,font:x,overflow:"truncate",width:b,ellipsis:w,fill:s.getTextColor()||e.get(["axisLine","lineStyle","color"]),align:s.get("align")||p.textAlign,verticalAlign:s.get("verticalAlign")||p.textVerticalAlign}),z2:1});if(Hd({el:S,componentModel:e,itemName:i}),S.__fullText=i,S.anid="name",e.get("triggerEvent")){var A=da.makeAxisEventDataBase(e);A.targetType="axisName",A.name=i,Ut(S).eventData=A}r.add(S),S.updateTransform(),n.add(S),S.decomposeTransform()}}};function iQ(t,e,n,r){var i=qL(n-t),a,o,s=r[0]>r[1],u=e==="start"&&!s||e!=="start"&&s;return Dh(i-si/2)?(o=u?"bottom":"top",a="center"):Dh(i-si*1.5)?(o=u?"top":"bottom",a="center"):(o="middle",i<si*1.5&&i>si/2?a=u?"left":"right":a=u?"right":"left"),{rotation:i,textAlign:a,textVerticalAlign:o}}function aQ(t,e,n){if(!z3(t.axis)){var r=t.get(["axisLabel","showMinLabel"]),i=t.get(["axisLabel","showMaxLabel"]);e=e||[],n=n||[];var a=e[0],o=e[1],s=e[e.length-1],u=e[e.length-2],f=n[0],c=n[1],d=n[n.length-1],p=n[n.length-2];r===!1?(yn(a),yn(f)):R2(a,o)&&(r?(yn(o),yn(c)):(yn(a),yn(f))),i===!1?(yn(s),yn(d)):R2(u,s)&&(i?(yn(u),yn(p)):(yn(s),yn(d)))}}function yn(t){t&&(t.ignore=!0)}function R2(t,e){var n=t&&t.getBoundingRect().clone(),r=e&&e.getBoundingRect().clone();if(!(!n||!r)){var i=h_([]);return d_(i,i,-t.rotation),n.applyTransform(Oo([],i,t.getLocalTransform())),r.applyTransform(Oo([],i,e.getLocalTransform())),n.intersect(r)}}function k2(t){return t==="middle"||t==="center"}function K3(t,e,n,r,i){for(var a=[],o=[],s=[],u=0;u<t.length;u++){var f=t[u].coord;o[0]=f,o[1]=0,s[0]=f,s[1]=n,e&&(Pn(o,o,e),Pn(s,s,e));var c=new Da({shape:{x1:o[0],y1:o[1],x2:s[0],y2:s[1]},style:r,z2:2,autoBatch:!0,silent:!0});vl(c.shape,c.style.lineWidth),c.anid=i+"_"+t[u].tickValue,a.push(c)}return a}function oQ(t,e,n,r){var i=n.axis,a=n.getModel("axisTick"),o=a.get("show");if(o==="auto"&&r.handleAutoShown&&(o=r.handleAutoShown("axisTick")),!(!o||i.scale.isBlank())){for(var s=a.getModel("lineStyle"),u=r.tickDirection*a.get("length"),f=i.getTicksCoords(),c=K3(f,e.transform,u,bt(s.getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])}),"ticks"),d=0;d<c.length;d++)t.add(c[d]);return c}}function sQ(t,e,n,r){var i=n.axis,a=n.getModel("minorTick");if(!(!a.get("show")||i.scale.isBlank())){var o=i.getMinorTicksCoords();if(o.length)for(var s=a.getModel("lineStyle"),u=r*a.get("length"),f=bt(s.getLineStyle(),bt(n.getModel("axisTick").getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])})),c=0;c<o.length;c++)for(var d=K3(o[c],e.transform,u,f,"minorticks_"+c),p=0;p<d.length;p++)t.add(d[p])}}function uQ(t,e,n,r){var i=n.axis,a=fl(r.axisLabelShow,n.get(["axisLabel","show"]));if(!(!a||i.scale.isBlank())){var o=n.getModel("axisLabel"),s=o.get("margin"),u=i.getViewLabels(),f=(fl(r.labelRotate,o.get("rotate"))||0)*si/180,c=da.innerTextLayout(r.rotation,f,r.labelDirection),d=n.getCategories&&n.getCategories(!0),p=[],v=da.isLabelSilent(n),y=n.get("triggerEvent");return Y(u,function(x,_){var w=i.scale.type==="ordinal"?i.scale.getRawOrdinalNumber(x.tickValue):x.tickValue,b=x.formattedLabel,S=x.rawLabel,A=o;if(d&&d[w]){var L=d[w];pt(L)&&L.textStyle&&(A=new _e(L.textStyle,o,n.ecModel))}var P=A.getTextColor()||n.get(["axisLine","lineStyle","color"]),E=i.dataToCoord(w),O=new ze({x:E,y:r.labelOffset+r.labelDirection*s,rotation:c.rotation,silent:v,z2:10+(x.level||0),style:ts(A,{text:b,align:A.getShallow("align",!0)||c.textAlign,verticalAlign:A.getShallow("verticalAlign",!0)||A.getShallow("baseline",!0)||c.textVerticalAlign,fill:mt(P)?P(i.type==="category"?S:i.type==="value"?w+"":w,_):P})});if(O.anid="label_"+w,y){var R=da.makeAxisEventDataBase(n);R.targetType="axisLabel",R.value=S,R.tickIndex=_,i.type==="category"&&(R.dataIndex=w),Ut(O).eventData=R}e.add(O),O.updateTransform(),p.push(O),t.add(O),O.decomposeTransform()}),p}}const j3=da;function lQ(t,e){var n={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return fQ(n,t,e),n.seriesInvolved&&hQ(n,t),n}function fQ(t,e,n){var r=e.getComponent("tooltip"),i=e.getComponent("axisPointer"),a=i.get("link",!0)||[],o=[];Y(n.getCoordinateSystems(),function(s){if(!s.axisPointerEnabled)return;var u=Al(s.model),f=t.coordSysAxesInfo[u]={};t.coordSysMap[u]=s;var c=s.model,d=c.getModel("tooltip",r);if(Y(s.getAxes(),zt(x,!1,null)),s.getTooltipAxes&&r&&d.get("show")){var p=d.get("trigger")==="axis",v=d.get(["axisPointer","type"])==="cross",y=s.getTooltipAxes(d.get(["axisPointer","axis"]));(p||v)&&Y(y.baseAxes,zt(x,v?"cross":!0,p)),v&&Y(y.otherAxes,zt(x,"cross",!1))}function x(_,w,b){var S=b.model.getModel("axisPointer",i),A=S.get("show");if(!(!A||A==="auto"&&!_&&!My(S))){w==null&&(w=S.get("triggerTooltip")),S=_?cQ(b,d,i,e,_,w):S;var L=S.get("snap"),P=Al(b.model),E=w||L||b.type==="category",O=t.axesInfo[P]={key:P,axis:b,coordSys:s,axisPointerModel:S,triggerTooltip:w,involveSeries:E,snap:L,useHandle:My(S),seriesModels:[],linkGroup:null};f[P]=O,t.seriesInvolved=t.seriesInvolved||E;var R=dQ(a,b);if(R!=null){var C=o[R]||(o[R]={axesInfo:{}});C.axesInfo[P]=O,C.mapper=a[R].mapper,O.linkGroup=C}}}})}function cQ(t,e,n,r,i,a){var o=e.getModel("axisPointer"),s=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],u={};Y(s,function(p){u[p]=wt(o.get(p))}),u.snap=t.type!=="category"&&!!a,o.get("type")==="cross"&&(u.type="line");var f=u.label||(u.label={});if(f.show==null&&(f.show=!1),i==="cross"){var c=o.get(["label","show"]);if(f.show=c??!0,!a){var d=u.lineStyle=o.get("crossStyle");d&&bt(f,d.textStyle)}}return t.model.getModel("axisPointer",new _e(u,n,r))}function hQ(t,e){e.eachSeries(function(n){var r=n.coordinateSystem,i=n.get(["tooltip","trigger"],!0),a=n.get(["tooltip","show"],!0);!r||i==="none"||i===!1||i==="item"||a===!1||n.get(["axisPointer","show"],!0)===!1||Y(t.coordSysAxesInfo[Al(r.model)],function(o){var s=o.axis;r.getAxis(s.dim)===s&&(o.seriesModels.push(n),o.seriesDataCount==null&&(o.seriesDataCount=0),o.seriesDataCount+=n.getData().count())})})}function dQ(t,e){for(var n=e.model,r=e.dim,i=0;i<t.length;i++){var a=t[i]||{};if(cg(a[r+"AxisId"],n.id)||cg(a[r+"AxisIndex"],n.componentIndex)||cg(a[r+"AxisName"],n.name))return i}}function cg(t,e){return t==="all"||nt(t)&&Ot(t,e)>=0||t===e}function pQ(t){var e=u1(t);if(e){var n=e.axisPointerModel,r=e.axis.scale,i=n.option,a=n.get("status"),o=n.get("value");o!=null&&(o=r.parse(o));var s=My(n);a==null&&(i.status=s?"show":"hide");var u=r.getExtent().slice();u[0]>u[1]&&u.reverse(),(o==null||o>u[1])&&(o=u[1]),o<u[0]&&(o=u[0]),i.value=o,s&&(i.status=e.axis.scale.isBlank()?"hide":"show")}}function u1(t){var e=(t.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[Al(t)]}function vQ(t){var e=u1(t);return e&&e.axisPointerModel}function My(t){return!!t.get(["handle","show"])}function Al(t){return t.type+"||"+t.id}var O2={},gQ=function(t){ht(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.render=function(n,r,i,a){this.axisPointerClass&&pQ(n),t.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(n,i,!0)},e.prototype.updateAxisPointer=function(n,r,i,a){this._doUpdateAxisPointerClass(n,i,!1)},e.prototype.remove=function(n,r){var i=this._axisPointer;i&&i.remove(r)},e.prototype.dispose=function(n,r){this._disposeAxisPointer(r),t.prototype.dispose.apply(this,arguments)},e.prototype._doUpdateAxisPointerClass=function(n,r,i){var a=e.getAxisPointerClass(this.axisPointerClass);if(a){var o=vQ(n);o?(this._axisPointer||(this._axisPointer=new a)).render(n,o,r,i):this._disposeAxisPointer(r)}},e.prototype._disposeAxisPointer=function(n){this._axisPointer&&this._axisPointer.dispose(n),this._axisPointer=null},e.registerAxisPointerClass=function(n,r){O2[n]=r},e.getAxisPointerClass=function(n){return n&&O2[n]},e.type="axis",e}(pr);const J3=gQ;var Py=ae();function yQ(t,e,n,r){var i=n.axis;if(!i.scale.isBlank()){var a=n.getModel("splitArea"),o=a.getModel("areaStyle"),s=o.get("color"),u=r.coordinateSystem.getRect(),f=i.getTicksCoords({tickModel:a,clamp:!0});if(f.length){var c=s.length,d=Py(t).splitAreaColors,p=yt(),v=0;if(d)for(var y=0;y<f.length;y++){var x=d.get(f[y].tickValue);if(x!=null){v=(x+(c-1)*y)%c;break}}var _=i.toGlobalCoord(f[0].coord),w=o.getAreaStyle();s=nt(s)?s:[s];for(var y=1;y<f.length;y++){var b=i.toGlobalCoord(f[y].coord),S=void 0,A=void 0,L=void 0,P=void 0;i.isHorizontal()?(S=_,A=u.y,L=b-S,P=u.height,_=S+L):(S=u.x,A=_,L=u.width,P=b-A,_=A+P);var E=f[y-1].tickValue;E!=null&&p.set(E,v),e.add(new ie({anid:E!=null?"area_"+E:null,shape:{x:S,y:A,width:L,height:P},style:bt({fill:s[v]},w),autoBatch:!0,silent:!0})),v=(v+1)%c}Py(t).splitAreaColors=p}}}function mQ(t){Py(t).splitAreaColors=null}var _Q=["axisLine","axisTickLabel","axisName"],xQ=["splitArea","splitLine","minorSplitLine"],tI=function(t){ht(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.axisPointerClass="CartesianAxisPointer",n}return e.prototype.render=function(n,r,i,a){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new ce,this.group.add(this._axisGroup),!!n.get("show")){var s=n.getCoordSysModel(),u=Cy(s,n),f=new j3(n,et({handleAutoShown:function(d){for(var p=s.coordinateSystem.getCartesians(),v=0;v<p.length;v++)if(Sy(p[v].getOtherAxis(n.axis).scale))return!0;return!1}},u));Y(_Q,f.add,f),this._axisGroup.add(f.getGroup()),Y(xQ,function(d){n.get([d,"show"])&&wQ[d](this,this._axisGroup,n,s)},this);var c=a&&a.type==="changeAxisOrder"&&a.isInitSort;c||JD(o,this._axisGroup,n),t.prototype.render.call(this,n,r,i,a)}},e.prototype.remove=function(){mQ(this)},e.type="cartesianAxis",e}(J3),wQ={splitLine:function(t,e,n,r){var i=n.axis;if(!i.scale.isBlank()){var a=n.getModel("splitLine"),o=a.getModel("lineStyle"),s=o.get("color");s=nt(s)?s:[s];for(var u=r.coordinateSystem.getRect(),f=i.isHorizontal(),c=0,d=i.getTicksCoords({tickModel:a}),p=[],v=[],y=o.getLineStyle(),x=0;x<d.length;x++){var _=i.toGlobalCoord(d[x].coord);f?(p[0]=_,p[1]=u.y,v[0]=_,v[1]=u.y+u.height):(p[0]=u.x,p[1]=_,v[0]=u.x+u.width,v[1]=_);var w=c++%s.length,b=d[x].tickValue,S=new Da({anid:b!=null?"line_"+d[x].tickValue:null,autoBatch:!0,shape:{x1:p[0],y1:p[1],x2:v[0],y2:v[1]},style:bt({stroke:s[w]},y),silent:!0});vl(S.shape,y.lineWidth),e.add(S)}}},minorSplitLine:function(t,e,n,r){var i=n.axis,a=n.getModel("minorSplitLine"),o=a.getModel("lineStyle"),s=r.coordinateSystem.getRect(),u=i.isHorizontal(),f=i.getMinorTicksCoords();if(f.length)for(var c=[],d=[],p=o.getLineStyle(),v=0;v<f.length;v++)for(var y=0;y<f[v].length;y++){var x=i.toGlobalCoord(f[v][y].coord);u?(c[0]=x,c[1]=s.y,d[0]=x,d[1]=s.y+s.height):(c[0]=s.x,c[1]=x,d[0]=s.x+s.width,d[1]=x);var _=new Da({anid:"minor_line_"+f[v][y].tickValue,autoBatch:!0,shape:{x1:c[0],y1:c[1],x2:d[0],y2:d[1]},style:p,silent:!0});vl(_.shape,p.lineWidth),e.add(_)}},splitArea:function(t,e,n,r){yQ(t,e,n,r)}},eI=function(t){ht(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.type="xAxis",e}(tI),bQ=function(t){ht(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=eI.type,n}return e.type="yAxis",e}(tI),SQ=function(t){ht(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="grid",n}return e.prototype.render=function(n,r){this.group.removeAll(),n.get("show")&&this.group.add(new ie({shape:n.coordinateSystem.getRect(),style:bt({fill:n.get("backgroundColor")},n.getItemStyle()),silent:!0,z2:-1}))},e.type="grid",e}(pr),N2={offset:0};function TQ(t){t.registerComponentView(SQ),t.registerComponentModel(HZ),t.registerCoordinateSystem("cartesian2d",rQ),A2(t,"x",Ty,N2),A2(t,"y",Ty,N2),t.registerComponentView(eI),t.registerComponentView(bQ),t.registerPreprocessor(function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})})}var ia=ae(),$2=wt,hg=qt,AQ=function(){function t(){this._dragging=!1,this.animationThreshold=15}return t.prototype.render=function(e,n,r,i){var a=n.get("value"),o=n.get("status");if(this._axisModel=e,this._axisPointerModel=n,this._api=r,!(!i&&this._lastValue===a&&this._lastStatus===o)){this._lastValue=a,this._lastStatus=o;var s=this._group,u=this._handle;if(!o||o==="hide"){s&&s.hide(),u&&u.hide();return}s&&s.show(),u&&u.show();var f={};this.makeElOption(f,a,e,n,r);var c=f.graphicKey;c!==this._lastGraphicKey&&this.clear(r),this._lastGraphicKey=c;var d=this._moveAnimation=this.determineAnimation(e,n);if(!s)s=this._group=new ce,this.createPointerEl(s,f,e,n),this.createLabelEl(s,f,e,n),r.getZr().add(s);else{var p=zt(G2,n,d);this.updatePointerEl(s,f,p),this.updateLabelEl(s,f,p,n)}F2(s,n,!0),this._renderHandle(a)}},t.prototype.remove=function(e){this.clear(e)},t.prototype.dispose=function(e){this.clear(e)},t.prototype.determineAnimation=function(e,n){var r=n.get("animation"),i=e.axis,a=i.type==="category",o=n.get("snap");if(!o&&!a)return!1;if(r==="auto"||r==null){var s=this.animationThreshold;if(a&&i.getBandWidth()>s)return!0;if(o){var u=u1(e).seriesDataCount,f=i.getExtent();return Math.abs(f[0]-f[1])/u>s}return!1}return r===!0},t.prototype.makeElOption=function(e,n,r,i,a){},t.prototype.createPointerEl=function(e,n,r,i){var a=n.pointer;if(a){var o=ia(e).pointerEl=new qY[a.type]($2(n.pointer));e.add(o)}},t.prototype.createLabelEl=function(e,n,r,i){if(n.label){var a=ia(e).labelEl=new ze($2(n.label));e.add(a),V2(a,i)}},t.prototype.updatePointerEl=function(e,n,r){var i=ia(e).pointerEl;i&&n.pointer&&(i.setStyle(n.pointer.style),r(i,{shape:n.pointer.shape}))},t.prototype.updateLabelEl=function(e,n,r,i){var a=ia(e).labelEl;a&&(a.setStyle(n.label.style),r(a,{x:n.label.x,y:n.label.y}),V2(a,i))},t.prototype._renderHandle=function(e){if(!(this._dragging||!this.updateHandleTransform)){var n=this._axisPointerModel,r=this._api.getZr(),i=this._handle,a=n.getModel("handle"),o=n.get("status");if(!a.get("show")||!o||o==="hide"){i&&r.remove(i),this._handle=null;return}var s;this._handle||(s=!0,i=this._handle=zd(a.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(f){AL(f.event)},onmousedown:hg(this._onHandleDragMove,this,0,0),drift:hg(this._onHandleDragMove,this),ondragend:hg(this._onHandleDragEnd,this)}),r.add(i)),F2(i,n,!1),i.setStyle(a.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var u=a.get("size");nt(u)||(u=[u,u]),i.scaleX=u[0]/2,i.scaleY=u[1]/2,XE(this,"_doDispatchAxisPointer",a.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,s)}},t.prototype._moveHandleToValue=function(e,n){G2(this._axisPointerModel,!n&&this._moveAnimation,this._handle,dg(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},t.prototype._onHandleDragMove=function(e,n){var r=this._handle;if(r){this._dragging=!0;var i=this.updateHandleTransform(dg(r),[e,n],this._axisModel,this._axisPointerModel);this._payloadInfo=i,r.stopAnimation(),r.attr(dg(i)),ia(r).lastProp=null,this._doDispatchAxisPointer()}},t.prototype._doDispatchAxisPointer=function(){var e=this._handle;if(e){var n=this._payloadInfo,r=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:n.cursorPoint[0],y:n.cursorPoint[1],tooltipOption:n.tooltipOption,axesInfo:[{axisDim:r.axis.dim,axisIndex:r.componentIndex}]})}},t.prototype._onHandleDragEnd=function(){this._dragging=!1;var e=this._handle;if(e){var n=this._axisPointerModel.get("value");this._moveHandleToValue(n),this._api.dispatchAction({type:"hideTip"})}},t.prototype.clear=function(e){this._lastValue=null,this._lastStatus=null;var n=e.getZr(),r=this._group,i=this._handle;n&&r&&(this._lastGraphicKey=null,r&&n.remove(r),i&&n.remove(i),this._group=null,this._handle=null,this._payloadInfo=null),dy(this,"_doDispatchAxisPointer")},t.prototype.doClear=function(){},t.prototype.buildLabel=function(e,n,r){return r=r||0,{x:e[r],y:e[1-r],width:n[r],height:n[1-r]}},t}();function G2(t,e,n,r){nI(ia(n).lastProp,r)||(ia(n).lastProp=r,e?hn(n,r,t):(n.stopAnimation(),n.attr(r)))}function nI(t,e){if(pt(t)&&pt(e)){var n=!0;return Y(e,function(r,i){n=n&&nI(t[i],r)}),!!n}else return t===e}function V2(t,e){t[e.get(["label","show"])?"show":"hide"]()}function dg(t){return{x:t.x||0,y:t.y||0,rotation:t.rotation||0}}function F2(t,e,n){var r=e.get("z"),i=e.get("zlevel");t&&t.traverse(function(a){a.type!=="group"&&(r!=null&&(a.z=r),i!=null&&(a.zlevel=i),a.silent=n)})}const CQ=AQ;function MQ(t){var e=t.get("type"),n=t.getModel(e+"Style"),r;return e==="line"?(r=n.getLineStyle(),r.fill=null):e==="shadow"&&(r=n.getAreaStyle(),r.stroke=null),r}function PQ(t,e,n,r,i){var a=n.get("value"),o=rI(a,e.axis,e.ecModel,n.get("seriesDataIndices"),{precision:n.get(["label","precision"]),formatter:n.get(["label","formatter"])}),s=n.getModel("label"),u=tp(s.get("padding")||0),f=s.getFont(),c=Rd(o,f),d=i.position,p=c.width+u[1]+u[3],v=c.height+u[0]+u[2],y=i.align;y==="right"&&(d[0]-=p),y==="center"&&(d[0]-=p/2);var x=i.verticalAlign;x==="bottom"&&(d[1]-=v),x==="middle"&&(d[1]-=v/2),LQ(d,p,v,r);var _=s.get("backgroundColor");(!_||_==="auto")&&(_=e.get(["axisLine","lineStyle","color"])),t.label={x:d[0],y:d[1],style:ts(s,{text:o,font:f,fill:s.getTextColor(),padding:u,backgroundColor:_}),z2:10}}function LQ(t,e,n,r){var i=r.getWidth(),a=r.getHeight();t[0]=Math.min(t[0]+e,i)-e,t[1]=Math.min(t[1]+n,a)-n,t[0]=Math.max(t[0],0),t[1]=Math.max(t[1],0)}function rI(t,e,n,r,i){t=e.scale.parse(t);var a=e.scale.getLabel({value:t},{precision:i.precision}),o=i.formatter;if(o){var s={value:a1(e,{value:t}),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};Y(r,function(u){var f=n.getSeriesByIndex(u.seriesIndex),c=u.dataIndexInside,d=f&&f.getDataParams(c);d&&s.seriesData.push(d)}),ut(o)?a=o.replace("{value}",a):mt(o)&&(a=o(s))}return a}function iI(t,e,n){var r=cl();return d_(r,r,n.rotation),O0(r,r,n.position),R_([t.dataToCoord(e),(n.labelOffset||0)+(n.labelDirection||1)*(n.labelMargin||0)],r)}function DQ(t,e,n,r,i,a){var o=j3.innerTextLayout(n.rotation,0,n.labelDirection);n.labelMargin=i.get(["label","margin"]),PQ(e,r,i,a,{position:iI(r.axis,t,n),align:o.textAlign,verticalAlign:o.textVerticalAlign})}function EQ(t,e,n){return n=n||0,{x1:t[n],y1:t[1-n],x2:e[n],y2:e[1-n]}}function IQ(t,e,n){return n=n||0,{x:t[n],y:t[1-n],width:e[n],height:e[1-n]}}var RQ=function(t){ht(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.makeElOption=function(n,r,i,a,o){var s=i.axis,u=s.grid,f=a.get("type"),c=B2(u,s).getOtherAxis(s).getGlobalExtent(),d=s.toGlobalCoord(s.dataToCoord(r,!0));if(f&&f!=="none"){var p=MQ(a),v=kQ[f](s,d,c);v.style=p,n.graphicKey=v.type,n.pointer=v}var y=Cy(u.model,i);DQ(r,n,y,i,a,o)},e.prototype.getHandleTransform=function(n,r,i){var a=Cy(r.axis.grid.model,r,{labelInside:!1});a.labelMargin=i.get(["handle","margin"]);var o=iI(r.axis,n,a);return{x:o[0],y:o[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(n,r,i,a){var o=i.axis,s=o.grid,u=o.getGlobalExtent(!0),f=B2(s,o).getOtherAxis(o).getGlobalExtent(),c=o.dim==="x"?0:1,d=[n.x,n.y];d[c]+=r[c],d[c]=Math.min(u[1],d[c]),d[c]=Math.max(u[0],d[c]);var p=(f[1]+f[0])/2,v=[p,p];v[c]=d[c];var y=[{verticalAlign:"middle"},{align:"center"}];return{x:d[0],y:d[1],rotation:n.rotation,cursorPoint:v,tooltipOption:y[c]}},e}(CQ);function B2(t,e){var n={};return n[e.dim+"AxisIndex"]=e.index,t.getCartesian(n)}var kQ={line:function(t,e,n){var r=EQ([e,n[0]],[e,n[1]],z2(t));return{type:"Line",subPixelOptimize:!0,shape:r}},shadow:function(t,e,n){var r=Math.max(1,t.getBandWidth()),i=n[1]-n[0];return{type:"Rect",shape:IQ([e-r/2,n[0]],[r,i],z2(t))}}};function z2(t){return t.dim==="x"?0:1}const OQ=RQ;var NQ=function(t){ht(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.type="axisPointer",e.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},e}(Zt);const $Q=NQ;var Lr=ae(),GQ=Y;function aI(t,e,n){if(!Ct.node){var r=e.getZr();Lr(r).records||(Lr(r).records={}),VQ(r,e);var i=Lr(r).records[t]||(Lr(r).records[t]={});i.handler=n}}function VQ(t,e){if(Lr(t).initialized)return;Lr(t).initialized=!0,n("click",zt(H2,"click")),n("mousemove",zt(H2,"mousemove")),n("globalout",BQ);function n(r,i){t.on(r,function(a){var o=zQ(e);GQ(Lr(t).records,function(s){s&&i(s,a,o.dispatchAction)}),FQ(o.pendings,e)})}}function FQ(t,e){var n=t.showTip.length,r=t.hideTip.length,i;n?i=t.showTip[n-1]:r&&(i=t.hideTip[r-1]),i&&(i.dispatchAction=null,e.dispatchAction(i))}function BQ(t,e,n){t.handler("leave",null,n)}function H2(t,e,n,r){e.handler(t,n,r)}function zQ(t){var e={showTip:[],hideTip:[]},n=function(r){var i=e[r.type];i?i.push(r):(r.dispatchAction=n,t.dispatchAction(r))};return{dispatchAction:n,pendings:e}}function Ly(t,e){if(!Ct.node){var n=e.getZr(),r=(Lr(n).records||{})[t];r&&(Lr(n).records[t]=null)}}var HQ=function(t){ht(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.render=function(n,r,i){var a=r.getComponent("tooltip"),o=n.get("triggerOn")||a&&a.get("triggerOn")||"mousemove|click";aI("axisPointer",i,function(s,u,f){o!=="none"&&(s==="leave"||o.indexOf(s)>=0)&&f({type:"updateAxisPointer",currTrigger:s,x:u&&u.offsetX,y:u&&u.offsetY})})},e.prototype.remove=function(n,r){Ly("axisPointer",r)},e.prototype.dispose=function(n,r){Ly("axisPointer",r)},e.type="axisPointer",e}(pr);const YQ=HQ;function oI(t,e){var n=[],r=t.seriesIndex,i;if(r==null||!(i=e.getSeriesByIndex(r)))return{point:[]};var a=i.getData(),o=Pa(a,t);if(o==null||o<0||nt(o))return{point:[]};var s=a.getItemGraphicEl(o),u=i.coordinateSystem;if(i.getTooltipPosition)n=i.getTooltipPosition(o)||[];else if(u&&u.dataToPoint)if(t.isStacked){var f=u.getBaseAxis(),c=u.getOtherAxis(f),d=c.dim,p=f.dim,v=d==="x"||d==="radius"?1:0,y=a.mapDimension(p),x=[];x[v]=a.get(y,o),x[1-v]=a.get(a.getCalculationInfo("stackResultDimension"),o),n=u.dataToPoint(x)||[]}else n=u.dataToPoint(a.getValues(at(u.dimensions,function(w){return a.mapDimension(w)}),o))||[];else if(s){var _=s.getBoundingRect().clone();_.applyTransform(s.transform),n=[_.x+_.width/2,_.y+_.height/2]}return{point:n,el:s}}var Y2=ae();function XQ(t,e,n){var r=t.currTrigger,i=[t.x,t.y],a=t,o=t.dispatchAction||qt(n.dispatchAction,n),s=e.getComponent("axisPointer").coordSysAxesInfo;if(s){Mc(i)&&(i=oI({seriesIndex:a.seriesIndex,dataIndex:a.dataIndex},e).point);var u=Mc(i),f=a.axesInfo,c=s.axesInfo,d=r==="leave"||Mc(i),p={},v={},y={list:[],map:{}},x={showPointer:zt(WQ,v),showTooltip:zt(qQ,y)};Y(s.coordSysMap,function(w,b){var S=u||w.containPoint(i);Y(s.coordSysAxesInfo[b],function(A,L){var P=A.axis,E=jQ(f,A);if(!d&&S&&(!f||E)){var O=E&&E.value;O==null&&!u&&(O=P.pointToData(i)),O!=null&&X2(A,O,x,!1,p)}})});var _={};return Y(c,function(w,b){var S=w.linkGroup;S&&!v[b]&&Y(S.axesInfo,function(A,L){var P=v[L];if(A!==w&&P){var E=P.value;S.mapper&&(E=w.axis.scale.parse(S.mapper(E,U2(A),U2(w)))),_[w.key]=E}})}),Y(_,function(w,b){X2(c[b],w,x,!0,p)}),ZQ(v,c,p),QQ(y,i,t,o),KQ(c,o,n),p}}function X2(t,e,n,r,i){var a=t.axis;if(!(a.scale.isBlank()||!a.containData(e))){if(!t.involveSeries){n.showPointer(t,e);return}var o=UQ(e,t),s=o.payloadBatch,u=o.snapToValue;s[0]&&i.seriesIndex==null&&et(i,s[0]),!r&&t.snap&&a.containData(u)&&u!=null&&(e=u),n.showPointer(t,e,s),n.showTooltip(t,o,u)}}function UQ(t,e){var n=e.axis,r=n.dim,i=t,a=[],o=Number.MAX_VALUE,s=-1;return Y(e.seriesModels,function(u,f){var c=u.getData().mapDimensionsAll(r),d,p;if(u.getAxisTooltipData){var v=u.getAxisTooltipData(c,t,n);p=v.dataIndices,d=v.nestestValue}else{if(p=u.getData().indicesOfNearest(c[0],t,n.type==="category"?.5:null),!p.length)return;d=u.getData().get(c[0],p[0])}if(!(d==null||!isFinite(d))){var y=t-d,x=Math.abs(y);x<=o&&((x<o||y>=0&&s<0)&&(o=x,s=y,i=d,a.length=0),Y(p,function(_){a.push({seriesIndex:u.seriesIndex,dataIndexInside:_,dataIndex:u.getData().getRawIndex(_)})}))}}),{payloadBatch:a,snapToValue:i}}function WQ(t,e,n,r){t[e.key]={value:n,payloadBatch:r}}function qQ(t,e,n,r){var i=n.payloadBatch,a=e.axis,o=a.model,s=e.axisPointerModel;if(!(!e.triggerTooltip||!i.length)){var u=e.coordSys.model,f=Al(u),c=t.map[f];c||(c=t.map[f]={coordSysId:u.id,coordSysIndex:u.componentIndex,coordSysType:u.type,coordSysMainType:u.mainType,dataByAxis:[]},t.list.push(c)),c.dataByAxis.push({axisDim:a.dim,axisIndex:o.componentIndex,axisType:o.type,axisId:o.id,value:r,valueLabelOpt:{precision:s.get(["label","precision"]),formatter:s.get(["label","formatter"])},seriesDataIndices:i.slice()})}}function ZQ(t,e,n){var r=n.axesInfo=[];Y(e,function(i,a){var o=i.axisPointerModel.option,s=t[a];s?(!i.useHandle&&(o.status="show"),o.value=s.value,o.seriesDataIndices=(s.payloadBatch||[]).slice()):!i.useHandle&&(o.status="hide"),o.status==="show"&&r.push({axisDim:i.axis.dim,axisIndex:i.axis.model.componentIndex,value:o.value})})}function QQ(t,e,n,r){if(Mc(e)||!t.list.length){r({type:"hideTip"});return}var i=((t.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};r({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:n.tooltipOption,position:n.position,dataIndexInside:i.dataIndexInside,dataIndex:i.dataIndex,seriesIndex:i.seriesIndex,dataByCoordSys:t.list})}function KQ(t,e,n){var r=n.getZr(),i="axisPointerLastHighlights",a=Y2(r)[i]||{},o=Y2(r)[i]={};Y(t,function(f,c){var d=f.axisPointerModel.option;d.status==="show"&&Y(d.seriesDataIndices,function(p){var v=p.seriesIndex+" | "+p.dataIndex;o[v]=p})});var s=[],u=[];Y(a,function(f,c){!o[c]&&u.push(f)}),Y(o,function(f,c){!a[c]&&s.push(f)}),u.length&&n.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:u}),s.length&&n.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:s})}function jQ(t,e){for(var n=0;n<(t||[]).length;n++){var r=t[n];if(e.axis.dim===r.axisDim&&e.axis.model.componentIndex===r.axisIndex)return r}}function U2(t){var e=t.axis.model,n={},r=n.axisDim=t.axis.dim;return n.axisIndex=n[r+"AxisIndex"]=e.componentIndex,n.axisName=n[r+"AxisName"]=e.name,n.axisId=n[r+"AxisId"]=e.id,n}function Mc(t){return!t||t[0]==null||isNaN(t[0])||t[1]==null||isNaN(t[1])}function sI(t){J3.registerAxisPointerClass("CartesianAxisPointer",OQ),t.registerComponentModel($Q),t.registerComponentView(YQ),t.registerPreprocessor(function(e){if(e){(!e.axisPointer||e.axisPointer.length===0)&&(e.axisPointer={});var n=e.axisPointer.link;n&&!nt(n)&&(e.axisPointer.link=[n])}}),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,function(e,n){e.getComponent("axisPointer").coordSysAxesInfo=lQ(e,n)}),t.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},XQ)}function JQ(t){Nr(TQ),Nr(sI)}var W2="\0_ec_interaction_mutex";function tK(t,e,n){var r=uI(t);r[e]=n}function eK(t,e,n){var r=uI(t),i=r[e];i===n&&(r[e]=null)}function uI(t){return t[W2]||(t[W2]={})}mr({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},$e);var nK={axisPointer:1,tooltip:1,brush:1};function rK(t,e,n){var r=e.getComponentByElement(t.topTarget),i=r&&r.coordinateSystem;return r&&r!==n&&!nK.hasOwnProperty(r.mainType)&&i&&i.model!==n}function lI(t,e,n,r,i,a){t=t||0;var o=n[1]-n[0];if(i!=null&&(i=fo(i,[0,o])),a!=null&&(a=Math.max(a,i??0)),r==="all"){var s=Math.abs(e[1]-e[0]);s=fo(s,[0,o]),i=a=fo(s,[i,a]),r=0}e[0]=fo(e[0],n),e[1]=fo(e[1],n);var u=pg(e,r);e[r]+=t;var f=i||0,c=n.slice();u.sign<0?c[0]+=f:c[1]-=f,e[r]=fo(e[r],c);var d;return d=pg(e,r),i!=null&&(d.sign!==u.sign||d.span<i)&&(e[1-r]=e[r]+u.sign*i),d=pg(e,r),a!=null&&d.span>a&&(e[1-r]=e[r]+d.sign*a),e}function pg(t,e){var n=t[e]-t[1-e];return{span:Math.abs(n),sign:n>0?-1:n<0?1:e?-1:1}}function fo(t,e){return Math.min(e[1]!=null?e[1]:1/0,Math.max(e[0]!=null?e[0]:-1/0,t))}var Ra=!0,Cl=Math.min,os=Math.max,iK=Math.pow,aK=1e4,oK=6,sK=6,q2="globalPan",uK={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},lK={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},Z2={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},fK=0,cK=function(t){ht(e,t);function e(n){var r=t.call(this)||this;return r._track=[],r._covers=[],r._handlers={},r._zr=n,r.group=new ce,r._uid="brushController_"+fK++,Y(mK,function(i,a){this._handlers[a]=qt(i,this)},r),r}return e.prototype.enableBrush=function(n){return this._brushType&&this._doDisableBrush(),n.brushType&&this._doEnableBrush(n),this},e.prototype._doEnableBrush=function(n){var r=this._zr;this._enableGlobalPan||tK(r,q2,this._uid),Y(this._handlers,function(i,a){r.on(a,i)}),this._brushType=n.brushType,this._brushOption=Mt(wt(Z2),n,!0)},e.prototype._doDisableBrush=function(){var n=this._zr;eK(n,q2,this._uid),Y(this._handlers,function(r,i){n.off(i,r)}),this._brushType=this._brushOption=null},e.prototype.setPanels=function(n){if(n&&n.length){var r=this._panels={};Y(n,function(i){r[i.panelId]=wt(i)})}else this._panels=null;return this},e.prototype.mount=function(n){n=n||{},this._enableGlobalPan=n.enableGlobalPan;var r=this.group;return this._zr.add(r),r.attr({x:n.x||0,y:n.y||0,rotation:n.rotation||0,scaleX:n.scaleX||1,scaleY:n.scaleY||1}),this._transform=r.getLocalTransform(),this},e.prototype.updateCovers=function(n){n=at(n,function(p){return Mt(wt(Z2),p,!0)});var r="\0-brush-index-",i=this._covers,a=this._covers=[],o=this,s=this._creatingCover;return new Sl(i,n,f,u).add(c).update(c).remove(d).execute(),this;function u(p,v){return(p.id!=null?p.id:r+v)+"-"+p.brushType}function f(p,v){return u(p.__brushOption,v)}function c(p,v){var y=n[p];if(v!=null&&i[v]===s)a[p]=i[v];else{var x=a[p]=v!=null?(i[v].__brushOption=y,i[v]):cI(o,fI(o,y));l1(o,x)}}function d(p){i[p]!==s&&o.group.remove(i[p])}},e.prototype.unmount=function(){return this.enableBrush(!1),Dy(this),this._zr.remove(this.group),this},e.prototype.dispose=function(){this.unmount(),this.off()},e}(Yn);function fI(t,e){var n=lp[e.brushType].createCover(t,e);return n.__brushOption=e,dI(n,e),t.group.add(n),n}function cI(t,e){var n=f1(e);return n.endCreating&&(n.endCreating(t,e),dI(e,e.__brushOption)),e}function hI(t,e){var n=e.__brushOption;f1(e).updateCoverShape(t,e,n.range,n)}function dI(t,e){var n=e.z;n==null&&(n=aK),t.traverse(function(r){r.z=n,r.z2=n})}function l1(t,e){f1(e).updateCommon(t,e),hI(t,e)}function f1(t){return lp[t.__brushOption.brushType]}function c1(t,e,n){var r=t._panels;if(!r)return Ra;var i,a=t._transform;return Y(r,function(o){o.isTargetByCursor(e,n,a)&&(i=o)}),i}function pI(t,e){var n=t._panels;if(!n)return Ra;var r=e.__brushOption.panelId;return r!=null?n[r]:Ra}function Dy(t){var e=t._covers,n=e.length;return Y(e,function(r){t.group.remove(r)},t),e.length=0,!!n}function ka(t,e){var n=at(t._covers,function(r){var i=r.__brushOption,a=wt(i.range);return{brushType:i.brushType,panelId:i.panelId,range:a}});t.trigger("brush",{areas:n,isEnd:!!e.isEnd,removeOnClick:!!e.removeOnClick})}function hK(t){var e=t._track;if(!e.length)return!1;var n=e[e.length-1],r=e[0],i=n[0]-r[0],a=n[1]-r[1],o=iK(i*i+a*a,.5);return o>oK}function vI(t){var e=t.length-1;return e<0&&(e=0),[t[0],t[e]]}function gI(t,e,n,r){var i=new ce;return i.add(new ie({name:"main",style:h1(n),silent:!0,draggable:!0,cursor:"move",drift:zt(Q2,t,e,i,["n","s","w","e"]),ondragend:zt(ka,e,{isEnd:!0})})),Y(r,function(a){i.add(new ie({name:a.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:zt(Q2,t,e,i,a),ondragend:zt(ka,e,{isEnd:!0})}))}),i}function yI(t,e,n,r){var i=r.brushStyle.lineWidth||0,a=os(i,sK),o=n[0][0],s=n[1][0],u=o-i/2,f=s-i/2,c=n[0][1],d=n[1][1],p=c-a+i/2,v=d-a+i/2,y=c-o,x=d-s,_=y+i,w=x+i;Sr(t,e,"main",o,s,y,x),r.transformable&&(Sr(t,e,"w",u,f,a,w),Sr(t,e,"e",p,f,a,w),Sr(t,e,"n",u,f,_,a),Sr(t,e,"s",u,v,_,a),Sr(t,e,"nw",u,f,a,a),Sr(t,e,"ne",p,f,a,a),Sr(t,e,"sw",u,v,a,a),Sr(t,e,"se",p,v,a,a))}function Ey(t,e){var n=e.__brushOption,r=n.transformable,i=e.childAt(0);i.useStyle(h1(n)),i.attr({silent:!r,cursor:r?"move":"default"}),Y([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(a){var o=e.childOfName(a.join("")),s=a.length===1?Iy(t,a[0]):pK(t,a);o&&o.attr({silent:!r,invisible:!r,cursor:r?lK[s]+"-resize":null})})}function Sr(t,e,n,r,i,a,o){var s=e.childOfName(n);s&&s.setShape(gK(d1(t,e,[[r,i],[r+a,i+o]])))}function h1(t){return bt({strokeNoScale:!0},t.brushStyle)}function mI(t,e,n,r){var i=[Cl(t,n),Cl(e,r)],a=[os(t,n),os(e,r)];return[[i[0],a[0]],[i[1],a[1]]]}function dK(t){return I_(t.group)}function Iy(t,e){var n={w:"left",e:"right",n:"top",s:"bottom"},r={left:"w",right:"e",top:"n",bottom:"s"},i=jD(n[e],dK(t));return r[i]}function pK(t,e){var n=[Iy(t,e[0]),Iy(t,e[1])];return(n[0]==="e"||n[0]==="w")&&n.reverse(),n.join("")}function Q2(t,e,n,r,i,a){var o=n.__brushOption,s=t.toRectRange(o.range),u=_I(e,i,a);Y(r,function(f){var c=uK[f];s[c[0]][c[1]]+=u[c[0]]}),o.range=t.fromRectRange(mI(s[0][0],s[1][0],s[0][1],s[1][1])),l1(e,n),ka(e,{isEnd:!1})}function vK(t,e,n,r){var i=e.__brushOption.range,a=_I(t,n,r);Y(i,function(o){o[0]+=a[0],o[1]+=a[1]}),l1(t,e),ka(t,{isEnd:!1})}function _I(t,e,n){var r=t.group,i=r.transformCoordToLocal(e,n),a=r.transformCoordToLocal(0,0);return[i[0]-a[0],i[1]-a[1]]}function d1(t,e,n){var r=pI(t,e);return r&&r!==Ra?r.clipPath(n,t._transform):wt(n)}function gK(t){var e=Cl(t[0][0],t[1][0]),n=Cl(t[0][1],t[1][1]),r=os(t[0][0],t[1][0]),i=os(t[0][1],t[1][1]);return{x:e,y:n,width:r-e,height:i-n}}function yK(t,e,n){if(!(!t._brushType||_K(t,e.offsetX,e.offsetY))){var r=t._zr,i=t._covers,a=c1(t,e,n);if(!t._dragging)for(var o=0;o<i.length;o++){var s=i[o].__brushOption;if(a&&(a===Ra||s.panelId===a.panelId)&&lp[s.brushType].contain(i[o],n[0],n[1]))return}a&&r.setCursorStyle("crosshair")}}function Ry(t){var e=t.event;e.preventDefault&&e.preventDefault()}function ky(t,e,n){return t.childOfName("main").contain(e,n)}function xI(t,e,n,r){var i=t._creatingCover,a=t._creatingPanel,o=t._brushOption,s;if(t._track.push(n.slice()),hK(t)||i){if(a&&!i){o.brushMode==="single"&&Dy(t);var u=wt(o);u.brushType=K2(u.brushType,a),u.panelId=a===Ra?null:a.panelId,i=t._creatingCover=fI(t,u),t._covers.push(i)}if(i){var f=lp[K2(t._brushType,a)],c=i.__brushOption;c.range=f.getCreatingRange(d1(t,i,t._track)),r&&(cI(t,i),f.updateCommon(t,i)),hI(t,i),s={isEnd:r}}}else r&&o.brushMode==="single"&&o.removeOnClick&&c1(t,e,n)&&Dy(t)&&(s={isEnd:r,removeOnClick:!0});return s}function K2(t,e){return t==="auto"?e.defaultBrushType:t}var mK={mousedown:function(t){if(this._dragging)j2(this,t);else if(!t.target||!t.target.draggable){Ry(t);var e=this.group.transformCoordToLocal(t.offsetX,t.offsetY);this._creatingCover=null;var n=this._creatingPanel=c1(this,t,e);n&&(this._dragging=!0,this._track=[e.slice()])}},mousemove:function(t){var e=t.offsetX,n=t.offsetY,r=this.group.transformCoordToLocal(e,n);if(yK(this,t,r),this._dragging){Ry(t);var i=xI(this,t,r,!1);i&&ka(this,i)}},mouseup:function(t){j2(this,t)}};function j2(t,e){if(t._dragging){Ry(e);var n=e.offsetX,r=e.offsetY,i=t.group.transformCoordToLocal(n,r),a=xI(t,e,i,!0);t._dragging=!1,t._track=[],t._creatingCover=null,a&&ka(t,a)}}function _K(t,e,n){var r=t._zr;return e<0||e>r.getWidth()||n<0||n>r.getHeight()}var lp={lineX:J2(0),lineY:J2(1),rect:{createCover:function(t,e){function n(r){return r}return gI({toRectRange:n,fromRectRange:n},t,e,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(t){var e=vI(t);return mI(e[1][0],e[1][1],e[0][0],e[0][1])},updateCoverShape:function(t,e,n,r){yI(t,e,n,r)},updateCommon:Ey,contain:ky},polygon:{createCover:function(t,e){var n=new ce;return n.add(new P_({name:"main",style:h1(e),silent:!0})),n},getCreatingRange:function(t){return t},endCreating:function(t,e){e.remove(e.childAt(0)),e.add(new Fd({name:"main",draggable:!0,drift:zt(vK,t,e),ondragend:zt(ka,t,{isEnd:!0})}))},updateCoverShape:function(t,e,n,r){e.childAt(0).setShape({points:d1(t,e,n)})},updateCommon:Ey,contain:ky}};function J2(t){return{createCover:function(e,n){return gI({toRectRange:function(r){var i=[r,[0,100]];return t&&i.reverse(),i},fromRectRange:function(r){return r[t]}},e,n,[[["w"],["e"]],[["n"],["s"]]][t])},getCreatingRange:function(e){var n=vI(e),r=Cl(n[0][t],n[1][t]),i=os(n[0][t],n[1][t]);return[r,i]},updateCoverShape:function(e,n,r,i){var a,o=pI(e,n);if(o!==Ra&&o.getLinearBrushOtherExtent)a=o.getLinearBrushOtherExtent(t);else{var s=e._zr;a=[0,[s.getWidth(),s.getHeight()][1-t]]}var u=[r,a];t&&u.reverse(),yI(e,n,u,i)},updateCommon:Ey,contain:ky}}const xK=cK;function wK(t){return t=p1(t),function(e){return tE(e,t)}}function bK(t,e){return t=p1(t),function(n){var r=e??n,i=r?t.width:t.height,a=r?t.x:t.y;return[a,a+(i||0)]}}function SK(t,e,n){var r=p1(t);return function(i,a){return r.contain(a[0],a[1])&&!rK(i,e,n)}}function p1(t){return Nt.create(t)}var tT=["x","y","radius","angle","single"],TK=["cartesian2d","polar","singleAxis"];function AK(t){var e=t.get("coordinateSystem");return Ot(TK,e)>=0}function Co(t){return t+"Axis"}function CK(t,e){var n=yt(),r=[],i=yt();t.eachComponent({mainType:"dataZoom",query:e},function(c){i.get(c.uid)||s(c)});var a;do a=!1,t.eachComponent("dataZoom",o);while(a);function o(c){!i.get(c.uid)&&u(c)&&(s(c),a=!0)}function s(c){i.set(c.uid,!0),r.push(c),f(c)}function u(c){var d=!1;return c.eachTargetAxis(function(p,v){var y=n.get(p);y&&y[v]&&(d=!0)}),d}function f(c){c.eachTargetAxis(function(d,p){(n.get(d)||n.set(d,[]))[p]=!0})}return r}var vg=function(){function t(){this.indexList=[],this.indexMap=[]}return t.prototype.add=function(e){this.indexMap[e]||(this.indexList.push(e),this.indexMap[e]=!0)},t}(),MK=function(t){ht(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n._autoThrottle=!0,n._noTarget=!0,n._rangePropMode=["percent","percent"],n}return e.prototype.init=function(n,r,i){var a=eT(n);this.settledOption=a,this.mergeDefaultAndTheme(n,i),this._doInit(a)},e.prototype.mergeOption=function(n){var r=eT(n);Mt(this.option,n,!0),Mt(this.settledOption,r,!0),this._doInit(r)},e.prototype._doInit=function(n){var r=this.option;this._setDefaultThrottle(n),this._updateRangeUse(n);var i=this.settledOption;Y([["start","startValue"],["end","endValue"]],function(a,o){this._rangePropMode[o]==="value"&&(r[a[0]]=i[a[0]]=null)},this),this._resetTarget()},e.prototype._resetTarget=function(){var n=this.get("orient",!0),r=this._targetAxisInfoMap=yt(),i=this._fillSpecifiedTargetAxis(r);i?this._orient=n||this._makeAutoOrientByTargetAxis():(this._orient=n||"horizontal",this._fillAutoTargetAxisByOrient(r,this._orient)),this._noTarget=!0,r.each(function(a){a.indexList.length&&(this._noTarget=!1)},this)},e.prototype._fillSpecifiedTargetAxis=function(n){var r=!1;return Y(tT,function(i){var a=this.getReferringComponents(Co(i),Ez);if(a.specified){r=!0;var o=new vg;Y(a.models,function(s){o.add(s.componentIndex)}),n.set(i,o)}},this),r},e.prototype._fillAutoTargetAxisByOrient=function(n,r){var i=this.ecModel,a=!0;if(a){var o=r==="vertical"?"y":"x",s=i.findComponents({mainType:o+"Axis"});u(s,o)}if(a){var s=i.findComponents({mainType:"singleAxis",filter:function(c){return c.get("orient",!0)===r}});u(s,"single")}function u(f,c){var d=f[0];if(d){var p=new vg;if(p.add(d.componentIndex),n.set(c,p),a=!1,c==="x"||c==="y"){var v=d.getReferringComponents("grid",Ne).models[0];v&&Y(f,function(y){d.componentIndex!==y.componentIndex&&v===y.getReferringComponents("grid",Ne).models[0]&&p.add(y.componentIndex)})}}}a&&Y(tT,function(f){if(a){var c=i.findComponents({mainType:Co(f),filter:function(p){return p.get("type",!0)==="category"}});if(c[0]){var d=new vg;d.add(c[0].componentIndex),n.set(f,d),a=!1}}},this)},e.prototype._makeAutoOrientByTargetAxis=function(){var n;return this.eachTargetAxis(function(r){!n&&(n=r)},this),n==="y"?"vertical":"horizontal"},e.prototype._setDefaultThrottle=function(n){if(n.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var r=this.ecModel.option;this.option.throttle=r.animation&&r.animationDurationUpdate>0?100:20}},e.prototype._updateRangeUse=function(n){var r=this._rangePropMode,i=this.get("rangeMode");Y([["start","startValue"],["end","endValue"]],function(a,o){var s=n[a[0]]!=null,u=n[a[1]]!=null;s&&!u?r[o]="percent":!s&&u?r[o]="value":i?r[o]=i[o]:s&&(r[o]="percent")})},e.prototype.noTarget=function(){return this._noTarget},e.prototype.getFirstTargetAxisModel=function(){var n;return this.eachTargetAxis(function(r,i){n==null&&(n=this.ecModel.getComponent(Co(r),i))},this),n},e.prototype.eachTargetAxis=function(n,r){this._targetAxisInfoMap.each(function(i,a){Y(i.indexList,function(o){n.call(r,a,o)})})},e.prototype.getAxisProxy=function(n,r){var i=this.getAxisModel(n,r);if(i)return i.__dzAxisProxy},e.prototype.getAxisModel=function(n,r){var i=this._targetAxisInfoMap.get(n);if(i&&i.indexMap[r])return this.ecModel.getComponent(Co(n),r)},e.prototype.setRawRange=function(n){var r=this.option,i=this.settledOption;Y([["start","startValue"],["end","endValue"]],function(a){(n[a[0]]!=null||n[a[1]]!=null)&&(r[a[0]]=i[a[0]]=n[a[0]],r[a[1]]=i[a[1]]=n[a[1]])},this),this._updateRangeUse(n)},e.prototype.setCalculatedRange=function(n){var r=this.option;Y(["start","startValue","end","endValue"],function(i){r[i]=n[i]})},e.prototype.getPercentRange=function(){var n=this.findRepresentativeAxisProxy();if(n)return n.getDataPercentWindow()},e.prototype.getValueRange=function(n,r){if(n==null&&r==null){var i=this.findRepresentativeAxisProxy();if(i)return i.getDataValueWindow()}else return this.getAxisProxy(n,r).getDataValueWindow()},e.prototype.findRepresentativeAxisProxy=function(n){if(n)return n.__dzAxisProxy;for(var r,i=this._targetAxisInfoMap.keys(),a=0;a<i.length;a++)for(var o=i[a],s=this._targetAxisInfoMap.get(o),u=0;u<s.indexList.length;u++){var f=this.getAxisProxy(o,s.indexList[u]);if(f.hostedBy(this))return f;r||(r=f)}return r},e.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},e.prototype.getOrient=function(){return this._orient},e.type="dataZoom",e.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],e.defaultOption={z:4,filterMode:"filter",start:0,end:100},e}(Zt);function eT(t){var e={};return Y(["start","end","startValue","endValue","throttle"],function(n){t.hasOwnProperty(n)&&(e[n]=t[n])}),e}const PK=MK;var LK=function(t){ht(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.type="dataZoom.select",e}(PK);const DK=LK;var EK=function(t){ht(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.render=function(n,r,i,a){this.dataZoomModel=n,this.ecModel=r,this.api=i},e.type="dataZoom",e}(pr);const IK=EK;var RK=function(t){ht(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.type="dataZoom.select",e}(IK);const kK=RK;var mo=Y,nT=dz,OK=function(){function t(e,n,r,i){this._dimName=e,this._axisIndex=n,this.ecModel=i,this._dataZoomModel=r}return t.prototype.hostedBy=function(e){return this._dataZoomModel===e},t.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},t.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},t.prototype.getTargetSeriesModels=function(){var e=[];return this.ecModel.eachSeries(function(n){if(AK(n)){var r=Co(this._dimName),i=n.getReferringComponents(r,Ne).models[0];i&&this._axisIndex===i.componentIndex&&e.push(n)}},this),e},t.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},t.prototype.getMinMaxSpan=function(){return wt(this._minMaxSpan)},t.prototype.calculateDataWindow=function(e){var n=this._dataExtent,r=this.getAxisModel(),i=r.axis.scale,a=this._dataZoomModel.getRangePropMode(),o=[0,100],s=[],u=[],f;mo(["start","end"],function(p,v){var y=e[p],x=e[p+"Value"];a[v]==="percent"?(y==null&&(y=o[v]),x=i.parse(ra(y,o,n))):(f=!0,x=x==null?n[v]:i.parse(x),y=ra(x,n,o)),u[v]=x==null||isNaN(x)?n[v]:x,s[v]=y==null||isNaN(y)?o[v]:y}),nT(u),nT(s);var c=this._minMaxSpan;f?d(u,s,n,o,!1):d(s,u,o,n,!0);function d(p,v,y,x,_){var w=_?"Span":"ValueSpan";lI(0,p,y,"all",c["min"+w],c["max"+w]);for(var b=0;b<2;b++)v[b]=ra(p[b],y,x,!0),_&&(v[b]=i.parse(v[b]))}return{valueWindow:u,percentWindow:s}},t.prototype.reset=function(e){if(e===this._dataZoomModel){var n=this.getTargetSeriesModels();this._dataExtent=NK(this,this._dimName,n),this._updateMinMaxSpan();var r=this.calculateDataWindow(e.settledOption);this._valueWindow=r.valueWindow,this._percentWindow=r.percentWindow,this._setAxisModel()}},t.prototype.filterData=function(e,n){if(e!==this._dataZoomModel)return;var r=this._dimName,i=this.getTargetSeriesModels(),a=e.get("filterMode"),o=this._valueWindow;if(a==="none")return;mo(i,function(u){var f=u.getData(),c=f.mapDimensionsAll(r);if(c.length){if(a==="weakFilter"){var d=f.getStore(),p=at(c,function(v){return f.getDimensionIndex(v)},f);f.filterSelf(function(v){for(var y,x,_,w=0;w<c.length;w++){var b=d.get(p[w],v),S=!isNaN(b),A=b<o[0],L=b>o[1];if(S&&!A&&!L)return!0;S&&(_=!0),A&&(y=!0),L&&(x=!0)}return _&&y&&x})}else mo(c,function(v){if(a==="empty")u.setData(f=f.map(v,function(x){return s(x)?x:NaN}));else{var y={};y[v]=o,f.selectRange(y)}});mo(c,function(v){f.setApproximateExtent(o,v)})}});function s(u){return u>=o[0]&&u<=o[1]}},t.prototype._updateMinMaxSpan=function(){var e=this._minMaxSpan={},n=this._dataZoomModel,r=this._dataExtent;mo(["min","max"],function(i){var a=n.get(i+"Span"),o=n.get(i+"ValueSpan");o!=null&&(o=this.getAxisModel().axis.scale.parse(o)),o!=null?a=ra(r[0]+o,r,[0,100],!0):a!=null&&(o=ra(a,[0,100],r,!0)-r[0]),e[i+"Span"]=a,e[i+"ValueSpan"]=o},this)},t.prototype._setAxisModel=function(){var e=this.getAxisModel(),n=this._percentWindow,r=this._valueWindow;if(n){var i=WL(r,[0,500]);i=Math.min(i,20);var a=e.axis.scale.rawExtentInfo;n[0]!==0&&a.setDeterminedMinMax("min",+r[0].toFixed(i)),n[1]!==100&&a.setDeterminedMinMax("max",+r[1].toFixed(i)),a.freeze()}},t}();function NK(t,e,n){var r=[1/0,-1/0];mo(n,function(o){CZ(r,o.getData(),e)});var i=t.getAxisModel(),a=F3(i.axis.scale,i,r).calculate();return[a.min,a.max]}const $K=OK;var GK={getTargetSeries:function(t){function e(i){t.eachComponent("dataZoom",function(a){a.eachTargetAxis(function(o,s){var u=t.getComponent(Co(o),s);i(o,s,u,a)})})}e(function(i,a,o,s){o.__dzAxisProxy=null});var n=[];e(function(i,a,o,s){o.__dzAxisProxy||(o.__dzAxisProxy=new $K(i,a,s,t),n.push(o.__dzAxisProxy))});var r=yt();return Y(n,function(i){Y(i.getTargetSeriesModels(),function(a){r.set(a.uid,a)})}),r},overallReset:function(t,e){t.eachComponent("dataZoom",function(n){n.eachTargetAxis(function(r,i){n.getAxisProxy(r,i).reset(n)}),n.eachTargetAxis(function(r,i){n.getAxisProxy(r,i).filterData(n,e)})}),t.eachComponent("dataZoom",function(n){var r=n.findRepresentativeAxisProxy();if(r){var i=r.getDataPercentWindow(),a=r.getDataValueWindow();n.setCalculatedRange({start:i[0],end:i[1],startValue:a[0],endValue:a[1]})}})}};const VK=GK;function FK(t){t.registerAction("dataZoom",function(e,n){var r=CK(n,e);Y(r,function(i){i.setRawRange({start:e.start,end:e.end,startValue:e.startValue,endValue:e.endValue})})})}var rT=!1;function BK(t){rT||(rT=!0,t.registerProcessor(t.PRIORITY.PROCESSOR.FILTER,VK),FK(t),t.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function zK(t){t.registerComponentModel(DK),t.registerComponentView(kK),BK(t)}var Nn=function(){function t(){}return t}(),wI={};function Qs(t,e){wI[t]=e}function bI(t){return wI[t]}var HK=function(t){ht(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.optionUpdated=function(){t.prototype.optionUpdated.apply(this,arguments);var n=this.ecModel;Y(this.option.feature,function(r,i){var a=bI(i);a&&(a.getDefaultOption&&(a.defaultOption=a.getDefaultOption(n)),Mt(r,a.defaultOption))})},e.type="toolbox",e.layoutMode={type:"box",ignoreSize:!0},e.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},e}(Zt);const YK=HK;function XK(t,e,n){var r=e.getBoxLayoutParams(),i=e.get("padding"),a={width:n.getWidth(),height:n.getHeight()},o=es(r,a,i);Vo(e.get("orient"),t,e.get("itemGap"),o.width,o.height),wX(t,r,a,i)}function SI(t,e){var n=tp(e.get("padding")),r=e.getItemStyle(["color","opacity"]);return r.fill=e.get("backgroundColor"),t=new ie({shape:{x:t.x-n[3],y:t.y-n[0],width:t.width+n[1]+n[3],height:t.height+n[0]+n[2],r:e.get("borderRadius")},style:r,silent:!0,z2:-1}),t}var UK=function(t){ht(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(n,r,i,a){var o=this.group;if(o.removeAll(),!n.get("show"))return;var s=+n.get("itemSize"),u=n.get("orient")==="vertical",f=n.get("feature")||{},c=this._features||(this._features={}),d=[];Y(f,function(y,x){d.push(x)}),new Sl(this._featureNames||[],d).add(p).update(p).remove(zt(p,null)).execute(),this._featureNames=d;function p(y,x){var _=d[y],w=d[x],b=f[_],S=new _e(b,n,n.ecModel),A;if(a&&a.newTitle!=null&&a.featureName===_&&(b.title=a.newTitle),_&&!w){if(WK(_))A={onclick:S.option.onclick,featureName:_};else{var L=bI(_);if(!L)return;A=new L}c[_]=A}else if(A=c[w],!A)return;A.uid=Fl("toolbox-feature"),A.model=S,A.ecModel=r,A.api=i;var P=A instanceof Nn;if(!_&&w){P&&A.dispose&&A.dispose(r,i);return}if(!S.get("show")||P&&A.unusable){P&&A.remove&&A.remove(r,i);return}v(S,A,_),S.setIconStatus=function(E,O){var R=this.option,C=this.iconPaths;R.iconStatus=R.iconStatus||{},R.iconStatus[E]=O,C[E]&&(O==="emphasis"?jo:Jo)(C[E])},A instanceof Nn&&A.render&&A.render(S,r,i,a)}function v(y,x,_){var w=y.getModel("iconStyle"),b=y.getModel(["emphasis","iconStyle"]),S=x instanceof Nn&&x.getIcons?x.getIcons():y.get("icon"),A=y.get("title")||{},L,P;ut(S)?(L={},L[_]=S):L=S,ut(A)?(P={},P[_]=A):P=A;var E=y.iconPaths={};Y(L,function(O,R){var C=zd(O,{},{x:-s/2,y:-s/2,width:s,height:s});C.setStyle(w.getItemStyle());var N=C.ensureState("emphasis");N.style=b.getItemStyle();var D=new ze({style:{text:P[R],align:b.get("textAlign"),borderRadius:b.get("textBorderRadius"),padding:b.get("textPadding"),fill:null},ignore:!0});C.setTextContent(D),Hd({el:C,componentModel:n,itemName:R,formatterParamsExtra:{title:P[R]}}),C.__title=P[R],C.on("mouseover",function(){var G=b.getItemStyle(),X=u?n.get("right")==null&&n.get("left")!=="right"?"right":"left":n.get("bottom")==null&&n.get("top")!=="bottom"?"bottom":"top";D.setStyle({fill:b.get("textFill")||G.fill||G.stroke||"#000",backgroundColor:b.get("textBackgroundColor")}),C.setTextConfig({position:b.get("textPosition")||X}),D.ignore=!n.get("showTitle"),i.enterEmphasis(this)}).on("mouseout",function(){y.get(["iconStatus",R])!=="emphasis"&&i.leaveEmphasis(this),D.hide()}),(y.get(["iconStatus",R])==="emphasis"?jo:Jo)(C),o.add(C),C.on("click",qt(x.onclick,x,r,i,R)),E[R]=C})}XK(o,n,i),o.add(SI(o.getBoundingRect(),n)),u||o.eachChild(function(y){var x=y.__title,_=y.ensureState("emphasis"),w=_.textConfig||(_.textConfig={}),b=y.getTextContent(),S=b&&b.ensureState("emphasis");if(S&&!mt(S)&&x){var A=S.style||(S.style={}),L=Rd(x,ze.makeFont(A)),P=y.x+o.x,E=y.y+o.y+s,O=!1;E+L.height>i.getHeight()&&(w.position="top",O=!0);var R=O?-5-L.height:s+10;P+L.width/2>i.getWidth()?(w.position=["100%",R],A.align="right"):P-L.width/2<0&&(w.position=[0,R],A.align="left")}})},e.prototype.updateView=function(n,r,i,a){Y(this._features,function(o){o instanceof Nn&&o.updateView&&o.updateView(o.model,r,i,a)})},e.prototype.remove=function(n,r){Y(this._features,function(i){i instanceof Nn&&i.remove&&i.remove(n,r)}),this.group.removeAll()},e.prototype.dispose=function(n,r){Y(this._features,function(i){i instanceof Nn&&i.dispose&&i.dispose(n,r)})},e.type="toolbox",e}(pr);function WK(t){return t.indexOf("my")===0}const qK=UK;var ZK=function(t){ht(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.onclick=function(n,r){var i=this.model,a=i.get("name")||n.get("title.0.text")||"echarts",o=r.getZr().painter.getType()==="svg",s=o?"svg":i.get("type",!0)||"png",u=r.getConnectedDataURL({type:s,backgroundColor:i.get("backgroundColor",!0)||n.get("backgroundColor")||"#fff",connectedBackgroundColor:i.get("connectedBackgroundColor"),excludeComponents:i.get("excludeComponents"),pixelRatio:i.get("pixelRatio")}),f=Ct.browser;if(mt(MouseEvent)&&(f.newEdge||!f.ie&&!f.edge)){var c=document.createElement("a");c.download=a+"."+s,c.target="_blank",c.href=u;var d=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});c.dispatchEvent(d)}else if(window.navigator.msSaveOrOpenBlob||o){var p=u.split(","),v=p[0].indexOf("base64")>-1,y=o?decodeURIComponent(p[1]):p[1];v&&(y=window.atob(y));var x=a+"."+s;if(window.navigator.msSaveOrOpenBlob){for(var _=y.length,w=new Uint8Array(_);_--;)w[_]=y.charCodeAt(_);var b=new Blob([w]);window.navigator.msSaveOrOpenBlob(b,x)}else{var S=document.createElement("iframe");document.body.appendChild(S);var A=S.contentWindow,L=A.document;L.open("image/svg+xml","replace"),L.write(y),L.close(),A.focus(),L.execCommand("SaveAs",!0,x),document.body.removeChild(S)}}else{var P=i.get("lang"),E='<body style="margin:0;"><img src="'+u+'" style="max-width:100%;" title="'+(P&&P[0]||"")+'" /></body>',O=window.open();O.document.write(E),O.document.title=a}},e.getDefaultOption=function(n){var r={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:n.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:n.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return r},e}(Nn);const QK=ZK;var iT="__ec_magicType_stack__",KK=[["line","bar"],["stack"]],jK=function(t){ht(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getIcons=function(){var n=this.model,r=n.get("icon"),i={};return Y(n.get("type"),function(a){r[a]&&(i[a]=r[a])}),i},e.getDefaultOption=function(n){var r={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:n.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return r},e.prototype.onclick=function(n,r,i){var a=this.model,o=a.get(["seriesIndex",i]);if(aT[i]){var s={series:[]},u=function(d){var p=d.subType,v=d.id,y=aT[i](p,v,d,a);y&&(bt(y,d.option),s.series.push(y));var x=d.coordinateSystem;if(x&&x.type==="cartesian2d"&&(i==="line"||i==="bar")){var _=x.getAxesByScale("ordinal")[0];if(_){var w=_.dim,b=w+"Axis",S=d.getReferringComponents(b,Ne).models[0],A=S.componentIndex;s[b]=s[b]||[];for(var L=0;L<=A;L++)s[b][A]=s[b][A]||{};s[b][A].boundaryGap=i==="bar"}}};Y(KK,function(d){Ot(d,i)>=0&&Y(d,function(p){a.setIconStatus(p,"normal")})}),a.setIconStatus(i,"emphasis"),n.eachComponent({mainType:"series",query:o==null?null:{seriesIndex:o}},u);var f,c=i;i==="stack"&&(f=Mt({stack:a.option.title.tiled,tiled:a.option.title.stack},a.option.title),a.get(["iconStatus",i])!=="emphasis"&&(c="tiled")),r.dispatchAction({type:"changeMagicType",currentType:c,newOption:s,newTitle:f,featureName:"magicType"})}},e}(Nn),aT={line:function(t,e,n,r){if(t==="bar")return Mt({id:e,type:"line",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},r.get(["option","line"])||{},!0)},bar:function(t,e,n,r){if(t==="line")return Mt({id:e,type:"bar",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},r.get(["option","bar"])||{},!0)},stack:function(t,e,n,r){var i=n.get("stack")===iT;if(t==="line"||t==="bar")return r.setIconStatus("stack",i?"normal":"emphasis"),Mt({id:e,stack:i?"":iT},r.get(["option","stack"])||{},!0)}};mr({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(t,e){e.mergeOption(t.newOption)});const JK=jK;var fp=new Array(60).join("-"),ss="	";function tj(t){var e={},n=[],r=[];return t.eachRawSeries(function(i){var a=i.coordinateSystem;if(a&&(a.type==="cartesian2d"||a.type==="polar")){var o=a.getBaseAxis();if(o.type==="category"){var s=o.dim+"_"+o.index;e[s]||(e[s]={categoryAxis:o,valueAxis:a.getOtherAxis(o),series:[]},r.push({axisDim:o.dim,axisIndex:o.index})),e[s].series.push(i)}else n.push(i)}else n.push(i)}),{seriesGroupByCategoryAxis:e,other:n,meta:r}}function ej(t){var e=[];return Y(t,function(n,r){var i=n.categoryAxis,a=n.valueAxis,o=a.dim,s=[" "].concat(at(n.series,function(v){return v.name})),u=[i.model.getCategories()];Y(n.series,function(v){var y=v.getRawData();u.push(v.getRawData().mapArray(y.mapDimension(o),function(x){return x}))});for(var f=[s.join(ss)],c=0;c<u[0].length;c++){for(var d=[],p=0;p<u.length;p++)d.push(u[p][c]);f.push(d.join(ss))}e.push(f.join(`
`))}),e.join(`

`+fp+`

`)}function nj(t){return at(t,function(e){var n=e.getRawData(),r=[e.name],i=[];return n.each(n.dimensions,function(){for(var a=arguments.length,o=arguments[a-1],s=n.getName(o),u=0;u<a-1;u++)i[u]=arguments[u];r.push((s?s+ss:"")+i.join(ss))}),r.join(`
`)}).join(`

`+fp+`

`)}function rj(t){var e=tj(t);return{value:pe([ej(e.seriesGroupByCategoryAxis),nj(e.other)],function(n){return!!n.replace(/[\n\t\s]/g,"")}).join(`

`+fp+`

`),meta:e.meta}}function Yh(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function ij(t){var e=t.slice(0,t.indexOf(`
`));if(e.indexOf(ss)>=0)return!0}var Oy=new RegExp("["+ss+"]+","g");function aj(t){for(var e=t.split(/\n+/g),n=Yh(e.shift()).split(Oy),r=[],i=at(n,function(u){return{name:u,data:[]}}),a=0;a<e.length;a++){var o=Yh(e[a]).split(Oy);r.push(o.shift());for(var s=0;s<o.length;s++)i[s]&&(i[s].data[a]=o[s])}return{series:i,categories:r}}function oj(t){for(var e=t.split(/\n+/g),n=Yh(e.shift()),r=[],i=0;i<e.length;i++){var a=Yh(e[i]);if(a){var o=a.split(Oy),s="",u=void 0,f=!1;isNaN(o[0])?(f=!0,s=o[0],o=o.slice(1),r[i]={name:s,value:[]},u=r[i].value):u=r[i]=[];for(var c=0;c<o.length;c++)u.push(+o[c]);u.length===1&&(f?r[i].value=u[0]:r[i]=u[0])}}return{name:n,data:r}}function sj(t,e){var n=t.split(new RegExp(`
*`+fp+`
*`,"g")),r={series:[]};return Y(n,function(i,a){if(ij(i)){var o=aj(i),s=e[a],u=s.axisDim+"Axis";s&&(r[u]=r[u]||[],r[u][s.axisIndex]={data:o.categories},r.series=r.series.concat(o.series))}else{var o=oj(i);r.series.push(o)}}),r}var uj=function(t){ht(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.onclick=function(n,r){setTimeout(function(){r.dispatchAction({type:"hideTip"})});var i=r.getDom(),a=this.model;this._dom&&i.removeChild(this._dom);var o=document.createElement("div");o.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",o.style.backgroundColor=a.get("backgroundColor")||"#fff";var s=document.createElement("h4"),u=a.get("lang")||[];s.innerHTML=u[0]||a.get("title"),s.style.cssText="margin:10px 20px",s.style.color=a.get("textColor");var f=document.createElement("div"),c=document.createElement("textarea");f.style.cssText="overflow:auto";var d=a.get("optionToContent"),p=a.get("contentToOption"),v=rj(n);if(mt(d)){var y=d(r.getOption());ut(y)?f.innerHTML=y:ll(y)&&f.appendChild(y)}else{c.readOnly=a.get("readOnly");var x=c.style;x.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",x.color=a.get("textColor"),x.borderColor=a.get("textareaBorderColor"),x.backgroundColor=a.get("textareaColor"),c.value=v.value,f.appendChild(c)}var _=v.meta,w=document.createElement("div");w.style.cssText="position:absolute;bottom:5px;left:0;right:0";var b="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",S=document.createElement("div"),A=document.createElement("div");b+=";background-color:"+a.get("buttonColor"),b+=";color:"+a.get("buttonTextColor");var L=this;function P(){i.removeChild(o),L._dom=null}k0(S,"click",P),k0(A,"click",function(){if(p==null&&d!=null||p!=null&&d==null){P();return}var E;try{mt(p)?E=p(f,r.getOption()):E=sj(c.value,_)}catch(O){throw P(),new Error("Data view format error "+O)}E&&r.dispatchAction({type:"changeDataView",newOption:E}),P()}),S.innerHTML=u[1],A.innerHTML=u[2],A.style.cssText=S.style.cssText=b,!a.get("readOnly")&&w.appendChild(A),w.appendChild(S),o.appendChild(s),o.appendChild(f),o.appendChild(w),f.style.height=i.clientHeight-80+"px",i.appendChild(o),this._dom=o},e.prototype.remove=function(n,r){this._dom&&r.getDom().removeChild(this._dom)},e.prototype.dispose=function(n,r){this.remove(n,r)},e.getDefaultOption=function(n){var r={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:n.getLocaleModel().get(["toolbox","dataView","title"]),lang:n.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};return r},e}(Nn);function lj(t,e){return at(t,function(n,r){var i=e&&e[r];if(pt(i)&&!nt(i)){var a=pt(n)&&!nt(n);a||(n={value:n});var o=i.name!=null&&n.name==null;return n=bt(n,i),o&&delete n.name,n}else return n})}mr({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(t,e){var n=[];Y(t.newOption.series,function(r){var i=e.getSeriesByName(r.name)[0];if(!i)n.push(et({type:"scatter"},r));else{var a=i.get("data");n.push({name:r.name,data:lj(r.data,a)})}}),e.mergeOption(bt({series:n},t.newOption))});const fj=uj;var TI=Y,AI=ae();function cj(t,e){var n=v1(t);TI(e,function(r,i){for(var a=n.length-1;a>=0;a--){var o=n[a];if(o[i])break}if(a<0){var s=t.queryComponents({mainType:"dataZoom",subType:"select",id:i})[0];if(s){var u=s.getPercentRange();n[0][i]={dataZoomId:i,start:u[0],end:u[1]}}}}),n.push(e)}function hj(t){var e=v1(t),n=e[e.length-1];e.length>1&&e.pop();var r={};return TI(n,function(i,a){for(var o=e.length-1;o>=0;o--)if(i=e[o][a],i){r[a]=i;break}}),r}function dj(t){AI(t).snapshots=null}function pj(t){return v1(t).length}function v1(t){var e=AI(t);return e.snapshots||(e.snapshots=[{}]),e.snapshots}var vj=function(t){ht(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.onclick=function(n,r){dj(n),r.dispatchAction({type:"restore",from:this.uid})},e.getDefaultOption=function(n){var r={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:n.getLocaleModel().get(["toolbox","restore","title"])};return r},e}(Nn);mr({type:"restore",event:"restore",update:"prepareAndUpdate"},function(t,e){e.resetOption("recreate")});const gj=vj;var yj=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],mj=function(){function t(e,n,r){var i=this;this._targetInfoList=[];var a=oT(n,e);Y(_j,function(o,s){(!r||!r.include||Ot(r.include,s)>=0)&&o(a,i._targetInfoList)})}return t.prototype.setOutputRanges=function(e,n){return this.matchOutputRanges(e,n,function(r,i,a){if((r.coordRanges||(r.coordRanges=[])).push(i),!r.coordRange){r.coordRange=i;var o=gg[r.brushType](0,a,i);r.__rangeOffset={offset:fT[r.brushType](o.values,r.range,[1,1]),xyMinMax:o.xyMinMax}}}),e},t.prototype.matchOutputRanges=function(e,n,r){Y(e,function(i){var a=this.findTargetInfo(i,n);a&&a!==!0&&Y(a.coordSyses,function(o){var s=gg[i.brushType](1,o,i.range,!0);r(i,s.values,o,n)})},this)},t.prototype.setInputRanges=function(e,n){Y(e,function(r){var i=this.findTargetInfo(r,n);if(r.range=r.range||[],i&&i!==!0){r.panelId=i.panelId;var a=gg[r.brushType](0,i.coordSys,r.coordRange),o=r.__rangeOffset;r.range=o?fT[r.brushType](a.values,o.offset,xj(a.xyMinMax,o.xyMinMax)):a.values}},this)},t.prototype.makePanelOpts=function(e,n){return at(this._targetInfoList,function(r){var i=r.getPanelRect();return{panelId:r.panelId,defaultBrushType:n?n(r):null,clipPath:wK(i),isTargetByCursor:SK(i,e,r.coordSysModel),getLinearBrushOtherExtent:bK(i)}})},t.prototype.controlSeries=function(e,n,r){var i=this.findTargetInfo(e,r);return i===!0||i&&Ot(i.coordSyses,n.coordinateSystem)>=0},t.prototype.findTargetInfo=function(e,n){for(var r=this._targetInfoList,i=oT(n,e),a=0;a<r.length;a++){var o=r[a],s=e.panelId;if(s){if(o.panelId===s)return o}else for(var u=0;u<sT.length;u++)if(sT[u](i,o))return o}return!0},t}();function Ny(t){return t[0]>t[1]&&t.reverse(),t}function oT(t,e){return Iu(t,e,{includeMainTypes:yj})}var _j={grid:function(t,e){var n=t.xAxisModels,r=t.yAxisModels,i=t.gridModels,a=yt(),o={},s={};!n&&!r&&!i||(Y(n,function(u){var f=u.axis.grid.model;a.set(f.id,f),o[f.id]=!0}),Y(r,function(u){var f=u.axis.grid.model;a.set(f.id,f),s[f.id]=!0}),Y(i,function(u){a.set(u.id,u),o[u.id]=!0,s[u.id]=!0}),a.each(function(u){var f=u.coordinateSystem,c=[];Y(f.getCartesians(),function(d,p){(Ot(n,d.getAxis("x").model)>=0||Ot(r,d.getAxis("y").model)>=0)&&c.push(d)}),e.push({panelId:"grid--"+u.id,gridModel:u,coordSysModel:u,coordSys:c[0],coordSyses:c,getPanelRect:uT.grid,xAxisDeclared:o[u.id],yAxisDeclared:s[u.id]})}))},geo:function(t,e){Y(t.geoModels,function(n){var r=n.coordinateSystem;e.push({panelId:"geo--"+n.id,geoModel:n,coordSysModel:n,coordSys:r,coordSyses:[r],getPanelRect:uT.geo})})}},sT=[function(t,e){var n=t.xAxisModel,r=t.yAxisModel,i=t.gridModel;return!i&&n&&(i=n.axis.grid.model),!i&&r&&(i=r.axis.grid.model),i&&i===e.gridModel},function(t,e){var n=t.geoModel;return n&&n===e.geoModel}],uT={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var t=this.coordSys,e=t.getBoundingRect().clone();return e.applyTransform(I_(t)),e}},gg={lineX:zt(lT,0),lineY:zt(lT,1),rect:function(t,e,n,r){var i=t?e.pointToData([n[0][0],n[1][0]],r):e.dataToPoint([n[0][0],n[1][0]],r),a=t?e.pointToData([n[0][1],n[1][1]],r):e.dataToPoint([n[0][1],n[1][1]],r),o=[Ny([i[0],a[0]]),Ny([i[1],a[1]])];return{values:o,xyMinMax:o}},polygon:function(t,e,n,r){var i=[[1/0,-1/0],[1/0,-1/0]],a=at(n,function(o){var s=t?e.pointToData(o,r):e.dataToPoint(o,r);return i[0][0]=Math.min(i[0][0],s[0]),i[1][0]=Math.min(i[1][0],s[1]),i[0][1]=Math.max(i[0][1],s[0]),i[1][1]=Math.max(i[1][1],s[1]),s});return{values:a,xyMinMax:i}}};function lT(t,e,n,r){var i=n.getAxis(["x","y"][t]),a=Ny(at([0,1],function(s){return e?i.coordToData(i.toLocalCoord(r[s]),!0):i.toGlobalCoord(i.dataToCoord(r[s]))})),o=[];return o[t]=a,o[1-t]=[NaN,NaN],{values:a,xyMinMax:o}}var fT={lineX:zt(cT,0),lineY:zt(cT,1),rect:function(t,e,n){return[[t[0][0]-n[0]*e[0][0],t[0][1]-n[0]*e[0][1]],[t[1][0]-n[1]*e[1][0],t[1][1]-n[1]*e[1][1]]]},polygon:function(t,e,n){return at(t,function(r,i){return[r[0]-n[0]*e[i][0],r[1]-n[1]*e[i][1]]})}};function cT(t,e,n,r){return[e[0]-r[t]*n[0],e[1]-r[t]*n[1]]}function xj(t,e){var n=hT(t),r=hT(e),i=[n[0]/r[0],n[1]/r[1]];return isNaN(i[0])&&(i[0]=1),isNaN(i[1])&&(i[1]=1),i}function hT(t){return t?[t[0][1]-t[0][0],t[1][1]-t[1][0]]:[NaN,NaN]}const CI=mj;var $y=Y,wj=Mz("toolbox-dataZoom_"),bj=function(t){ht(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(n,r,i,a){this._brushController||(this._brushController=new xK(i.getZr()),this._brushController.on("brush",qt(this._onBrush,this)).mount()),Aj(n,r,this,a,i),Tj(n,r)},e.prototype.onclick=function(n,r,i){Sj[i].call(this)},e.prototype.remove=function(n,r){this._brushController&&this._brushController.unmount()},e.prototype.dispose=function(n,r){this._brushController&&this._brushController.dispose()},e.prototype._onBrush=function(n){var r=n.areas;if(!n.isEnd||!r.length)return;var i={},a=this.ecModel;this._brushController.updateCovers([]);var o=new CI(g1(this.model),a,{include:["grid"]});o.matchOutputRanges(r,a,function(f,c,d){if(d.type==="cartesian2d"){var p=f.brushType;p==="rect"?(s("x",d,c[0]),s("y",d,c[1])):s({lineX:"x",lineY:"y"}[p],d,c)}}),cj(a,i),this._dispatchZoomAction(i);function s(f,c,d){var p=c.getAxis(f),v=p.model,y=u(f,v,a),x=y.findRepresentativeAxisProxy(v).getMinMaxSpan();(x.minValueSpan!=null||x.maxValueSpan!=null)&&(d=lI(0,d.slice(),p.scale.getExtent(),0,x.minValueSpan,x.maxValueSpan)),y&&(i[y.id]={dataZoomId:y.id,startValue:d[0],endValue:d[1]})}function u(f,c,d){var p;return d.eachComponent({mainType:"dataZoom",subType:"select"},function(v){var y=v.getAxisModel(f,c.componentIndex);y&&(p=v)}),p}},e.prototype._dispatchZoomAction=function(n){var r=[];$y(n,function(i,a){r.push(wt(i))}),r.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:r})},e.getDefaultOption=function(n){var r={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:n.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}};return r},e}(Nn),Sj={zoom:function(){var t=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:t})},back:function(){this._dispatchZoomAction(hj(this.ecModel))}};function g1(t){var e={xAxisIndex:t.get("xAxisIndex",!0),yAxisIndex:t.get("yAxisIndex",!0),xAxisId:t.get("xAxisId",!0),yAxisId:t.get("yAxisId",!0)};return e.xAxisIndex==null&&e.xAxisId==null&&(e.xAxisIndex="all"),e.yAxisIndex==null&&e.yAxisId==null&&(e.yAxisIndex="all"),e}function Tj(t,e){t.setIconStatus("back",pj(e)>1?"emphasis":"normal")}function Aj(t,e,n,r,i){var a=n._isZoomActive;r&&r.type==="takeGlobalCursor"&&(a=r.key==="dataZoomSelect"?r.dataZoomSelectActive:!1),n._isZoomActive=a,t.setIconStatus("zoom",a?"emphasis":"normal");var o=new CI(g1(t),e,{include:["grid"]}),s=o.makePanelOpts(i,function(u){return u.xAxisDeclared&&!u.yAxisDeclared?"lineX":!u.xAxisDeclared&&u.yAxisDeclared?"lineY":"rect"});n._brushController.setPanels(s).enableBrush(a&&s.length?{brushType:"auto",brushStyle:t.getModel("brushStyle").getItemStyle()}:!1)}DX("dataZoom",function(t){var e=t.getComponent("toolbox",0),n=["feature","dataZoom"];if(!e||e.get(n)==null)return;var r=e.getModel(n),i=[],a=g1(r),o=Iu(t,a);$y(o.xAxisModels,function(u){return s(u,"xAxis","xAxisIndex")}),$y(o.yAxisModels,function(u){return s(u,"yAxis","yAxisIndex")});function s(u,f,c){var d=u.componentIndex,p={type:"select",$fromToolbox:!0,filterMode:r.get("filterMode",!0)||"filter",id:wj+f+d};p[c]=d,i.push(p)}return i});const Cj=bj;function Mj(t){t.registerComponentModel(YK),t.registerComponentView(qK),Qs("saveAsImage",QK),Qs("magicType",JK),Qs("dataView",fj),Qs("dataZoom",Cj),Qs("restore",gj),Nr(zK)}var Pj=function(t){ht(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.type="tooltip",e.dependencies=["axisPointer"],e.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},e}(Zt);const Lj=Pj;function MI(t){var e=t.get("confine");return e!=null?!!e:t.get("renderMode")==="richText"}function PI(t){if(Ct.domSupported){for(var e=document.documentElement.style,n=0,r=t.length;n<r;n++)if(t[n]in e)return t[n]}}var LI=PI(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Dj=PI(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function DI(t,e){if(!t)return e;e=gE(e,!0);var n=t.indexOf(e);return t=n===-1?e:"-"+t.slice(0,n)+"-"+e,t.toLowerCase()}function Ej(t,e){var n=t.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(t);return n?e?n[e]:n:null}var Ij=DI(Dj,"transition"),y1=DI(LI,"transform"),Rj="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(Ct.transform3dSupported?"will-change:transform;":"");function kj(t){return t=t==="left"?"right":t==="right"?"left":t==="top"?"bottom":"top",t}function Oj(t,e,n){if(!ut(n)||n==="inside")return"";var r=t.get("backgroundColor"),i=t.get("borderWidth");e=Ea(e);var a=kj(n),o=Math.max(Math.round(i)*1.5,6),s="",u=y1+":",f;Ot(["left","right"],a)>-1?(s+="top:50%",u+="translateY(-50%) rotate("+(f=a==="left"?-225:-45)+"deg)"):(s+="left:50%",u+="translateX(-50%) rotate("+(f=a==="top"?225:45)+"deg)");var c=f*Math.PI/180,d=o+i,p=d*Math.abs(Math.cos(c))+d*Math.abs(Math.sin(c)),v=Math.round(((p-Math.SQRT2*i)/2+Math.SQRT2*i-(p-d)/2)*100)/100;s+=";"+a+":-"+v+"px";var y=e+" solid "+i+"px;",x=["position:absolute;width:"+o+"px;height:"+o+"px;z-index:-1;",s+";"+u+";","border-bottom:"+y,"border-right:"+y,"background-color:"+r+";"];return'<div style="'+x.join("")+'"></div>'}function Nj(t,e){var n="cubic-bezier(0.23,1,0.32,1)",r=" "+t/2+"s "+n,i="opacity"+r+",visibility"+r;return e||(r=" "+t+"s "+n,i+=Ct.transformSupported?","+y1+r:",left"+r+",top"+r),Ij+":"+i}function dT(t,e,n){var r=t.toFixed(0)+"px",i=e.toFixed(0)+"px";if(!Ct.transformSupported)return n?"top:"+i+";left:"+r+";":[["top",i],["left",r]];var a=Ct.transform3dSupported,o="translate"+(a?"3d":"")+"("+r+","+i+(a?",0":"")+")";return n?"top:0;left:0;"+y1+":"+o+";":[["top",0],["left",0],[LI,o]]}function $j(t){var e=[],n=t.get("fontSize"),r=t.getTextColor();r&&e.push("color:"+r),e.push("font:"+t.getFont()),n&&e.push("line-height:"+Math.round(n*3/2)+"px");var i=t.get("textShadowColor"),a=t.get("textShadowBlur")||0,o=t.get("textShadowOffsetX")||0,s=t.get("textShadowOffsetY")||0;return i&&a&&e.push("text-shadow:"+o+"px "+s+"px "+a+"px "+i),Y(["decoration","align"],function(u){var f=t.get(u);f&&e.push("text-"+u+":"+f)}),e.join(";")}function Gj(t,e,n){var r=[],i=t.get("transitionDuration"),a=t.get("backgroundColor"),o=t.get("shadowBlur"),s=t.get("shadowColor"),u=t.get("shadowOffsetX"),f=t.get("shadowOffsetY"),c=t.getModel("textStyle"),d=HE(t,"html"),p=u+"px "+f+"px "+o+"px "+s;return r.push("box-shadow:"+p),e&&i&&r.push(Nj(i,n)),a&&r.push("background-color:"+a),Y(["width","color","radius"],function(v){var y="border-"+v,x=gE(y),_=t.get(x);_!=null&&r.push(y+":"+_+(v==="color"?"":"px"))}),r.push($j(c)),d!=null&&r.push("padding:"+tp(d).join("px ")+"px"),r.join(";")+";"}function pT(t,e,n,r,i){var a=e&&e.painter;if(n){var o=a&&a.getViewportRoot();o&&JF(t,o,document.body,r,i)}else{t[0]=r,t[1]=i;var s=a&&a.getViewportRootOffset();s&&(t[0]+=s.offsetLeft,t[1]+=s.offsetTop)}t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}var Vj=function(){function t(e,n,r){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,Ct.wxa)return null;var i=document.createElement("div");i.domBelongToZr=!0,this.el=i;var a=this._zr=n.getZr(),o=this._appendToBody=r&&r.appendToBody;pT(this._styleCoord,a,o,n.getWidth()/2,n.getHeight()/2),o?document.body.appendChild(i):e.appendChild(i),this._container=e;var s=this;i.onmouseenter=function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0},i.onmousemove=function(u){if(u=u||window.event,!s._enterable){var f=a.handler,c=a.painter.getViewportRoot();xn(c,u,!0),f.dispatch("mousemove",u)}},i.onmouseleave=function(){s._inContent=!1,s._enterable&&s._show&&s.hideLater(s._hideDelay)}}return t.prototype.update=function(e){var n=this._container,r=Ej(n,"position"),i=n.style;i.position!=="absolute"&&r!=="absolute"&&(i.position="relative");var a=e.get("alwaysShowContent");a&&this._moveIfResized(),this._alwaysShowContent=a,this.el.className=e.get("className")||""},t.prototype.show=function(e,n){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var r=this.el,i=r.style,a=this._styleCoord;r.innerHTML?i.cssText=Rj+Gj(e,!this._firstShow,this._longHide)+dT(a[0],a[1],!0)+("border-color:"+Ea(n)+";")+(e.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):i.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},t.prototype.setContent=function(e,n,r,i,a){var o=this.el;if(e==null){o.innerHTML="";return}var s="";if(ut(a)&&r.get("trigger")==="item"&&!MI(r)&&(s=Oj(r,i,a)),ut(e))o.innerHTML=e+s;else if(e){o.innerHTML="",nt(e)||(e=[e]);for(var u=0;u<e.length;u++)ll(e[u])&&e[u].parentNode!==o&&o.appendChild(e[u]);if(s&&o.childNodes.length){var f=document.createElement("div");f.innerHTML=s,o.appendChild(f)}}},t.prototype.setEnterable=function(e){this._enterable=e},t.prototype.getSize=function(){var e=this.el;return[e.offsetWidth,e.offsetHeight]},t.prototype.moveTo=function(e,n){var r=this._styleCoord;if(pT(r,this._zr,this._appendToBody,e,n),r[0]!=null&&r[1]!=null){var i=this.el.style,a=dT(r[0],r[1]);Y(a,function(o){i[o[0]]=o[1]})}},t.prototype._moveIfResized=function(){var e=this._styleCoord[2],n=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),n*this._zr.getHeight())},t.prototype.hide=function(){var e=this,n=this.el.style;n.visibility="hidden",n.opacity="0",Ct.transform3dSupported&&(n.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return e._longHide=!0},500)},t.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(qt(this.hide,this),e)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},t}();const Fj=Vj;var Bj=function(){function t(e){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=e.getZr(),gT(this._styleCoord,this._zr,e.getWidth()/2,e.getHeight()/2)}return t.prototype.update=function(e){var n=e.get("alwaysShowContent");n&&this._moveIfResized(),this._alwaysShowContent=n},t.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},t.prototype.setContent=function(e,n,r,i,a){var o=this;pt(e)&&Qe(""),this.el&&this._zr.remove(this.el);var s=r.getModel("textStyle");this.el=new ze({style:{rich:n.richTextStyles,text:e,lineHeight:22,borderWidth:1,borderColor:i,textShadowColor:s.get("textShadowColor"),fill:r.get(["textStyle","color"]),padding:HE(r,"richText"),verticalAlign:"top",align:"left"},z:r.get("z")}),Y(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(f){o.el.style[f]=r.get(f)}),Y(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(f){o.el.style[f]=s.get(f)||0}),this._zr.add(this.el);var u=this;this.el.on("mouseover",function(){u._enterable&&(clearTimeout(u._hideTimeout),u._show=!0),u._inContent=!0}),this.el.on("mouseout",function(){u._enterable&&u._show&&u.hideLater(u._hideDelay),u._inContent=!1})},t.prototype.setEnterable=function(e){this._enterable=e},t.prototype.getSize=function(){var e=this.el,n=this.el.getBoundingRect(),r=vT(e.style);return[n.width+r.left+r.right,n.height+r.top+r.bottom]},t.prototype.moveTo=function(e,n){var r=this.el;if(r){var i=this._styleCoord;gT(i,this._zr,e,n),e=i[0],n=i[1];var a=r.style,o=ti(a.borderWidth||0),s=vT(a);r.x=e+o+s.left,r.y=n+o+s.top,r.markRedraw()}},t.prototype._moveIfResized=function(){var e=this._styleCoord[2],n=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),n*this._zr.getHeight())},t.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},t.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(qt(this.hide,this),e)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.dispose=function(){this._zr.remove(this.el)},t}();function ti(t){return Math.max(0,t)}function vT(t){var e=ti(t.shadowBlur||0),n=ti(t.shadowOffsetX||0),r=ti(t.shadowOffsetY||0);return{left:ti(e-n),right:ti(e+n),top:ti(e-r),bottom:ti(e+r)}}function gT(t,e,n,r){t[0]=n,t[1]=r,t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}const zj=Bj;var Hj=new ie({shape:{x:-1,y:-1,width:2,height:2}}),Yj=function(t){ht(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.init=function(n,r){if(!(Ct.node||!r.getDom())){var i=n.getComponent("tooltip"),a=this._renderMode=Rz(i.get("renderMode"));this._tooltipContent=a==="richText"?new zj(r):new Fj(r.getDom(),r,{appendToBody:i.get("appendToBody",!0)})}},e.prototype.render=function(n,r,i){if(!(Ct.node||!i.getDom())){this.group.removeAll(),this._tooltipModel=n,this._ecModel=r,this._api=i;var a=this._tooltipContent;a.update(n),a.setEnterable(n.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&n.get("transitionDuration")?XE(this,"_updatePosition",50,"fixRate"):dy(this,"_updatePosition")}},e.prototype._initGlobalListener=function(){var n=this._tooltipModel,r=n.get("triggerOn");aI("itemTooltip",this._api,qt(function(i,a,o){r!=="none"&&(r.indexOf(i)>=0?this._tryShow(a,o):i==="leave"&&this._hide(o))},this))},e.prototype._keepShow=function(){var n=this._tooltipModel,r=this._ecModel,i=this._api,a=n.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&a!=="none"&&a!=="click"){var o=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!i.isDisposed()&&o.manuallyShowTip(n,r,i,{x:o._lastX,y:o._lastY,dataByCoordSys:o._lastDataByCoordSys})})}},e.prototype.manuallyShowTip=function(n,r,i,a){if(!(a.from===this.uid||Ct.node||!i.getDom())){var o=yT(a,i);this._ticket="";var s=a.dataByCoordSys,u=qj(a,r,i);if(u){var f=u.el.getBoundingRect().clone();f.applyTransform(u.el.transform),this._tryShow({offsetX:f.x+f.width/2,offsetY:f.y+f.height/2,target:u.el,position:a.position,positionDefault:"bottom"},o)}else if(a.tooltip&&a.x!=null&&a.y!=null){var c=Hj;c.x=a.x,c.y=a.y,c.update(),Ut(c).tooltipConfig={name:null,option:a.tooltip},this._tryShow({offsetX:a.x,offsetY:a.y,target:c},o)}else if(s)this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,dataByCoordSys:s,tooltipOption:a.tooltipOption},o);else if(a.seriesIndex!=null){if(this._manuallyAxisShowTip(n,r,i,a))return;var d=oI(a,r),p=d.point[0],v=d.point[1];p!=null&&v!=null&&this._tryShow({offsetX:p,offsetY:v,target:d.el,position:a.position,positionDefault:"bottom"},o)}else a.x!=null&&a.y!=null&&(i.dispatchAction({type:"updateAxisPointer",x:a.x,y:a.y}),this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,target:i.getZr().findHover(a.x,a.y).target},o))}},e.prototype.manuallyHideTip=function(n,r,i,a){var o=this._tooltipContent;this._tooltipModel&&o.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,a.from!==this.uid&&this._hide(yT(a,i))},e.prototype._manuallyAxisShowTip=function(n,r,i,a){var o=a.seriesIndex,s=a.dataIndex,u=r.getComponent("axisPointer").coordSysAxesInfo;if(!(o==null||s==null||u==null)){var f=r.getSeriesByIndex(o);if(f){var c=f.getData(),d=Ks([c.getItemModel(s),f,(f.coordinateSystem||{}).model],this._tooltipModel);if(d.get("trigger")==="axis")return i.dispatchAction({type:"updateAxisPointer",seriesIndex:o,dataIndex:s,position:a.position}),!0}}},e.prototype._tryShow=function(n,r){var i=n.target,a=this._tooltipModel;if(a){this._lastX=n.offsetX,this._lastY=n.offsetY;var o=n.dataByCoordSys;if(o&&o.length)this._showAxisTooltip(o,n);else if(i){this._lastDataByCoordSys=null;var s,u;wu(i,function(f){if(Ut(f).dataIndex!=null)return s=f,!0;if(Ut(f).tooltipConfig!=null)return u=f,!0},!0),s?this._showSeriesItemTooltip(n,s,r):u?this._showComponentItemTooltip(n,u,r):this._hide(r)}else this._lastDataByCoordSys=null,this._hide(r)}},e.prototype._showOrMove=function(n,r){var i=n.get("showDelay");r=qt(r,this),clearTimeout(this._showTimout),i>0?this._showTimout=setTimeout(r,i):r()},e.prototype._showAxisTooltip=function(n,r){var i=this._ecModel,a=this._tooltipModel,o=[r.offsetX,r.offsetY],s=Ks([r.tooltipOption],a),u=this._renderMode,f=[],c=xl("section",{blocks:[],noHeader:!0}),d=[],p=new Qv;Y(n,function(b){Y(b.dataByAxis,function(S){var A=i.getComponent(S.axisDim+"Axis",S.axisIndex),L=S.value;if(!(!A||L==null)){var P=rI(L,A.axis,i,S.seriesDataIndices,S.valueLabelOpt),E=xl("section",{header:P,noHeader:!ar(P),sortBlocks:!0,blocks:[]});c.blocks.push(E),Y(S.seriesDataIndices,function(O){var R=i.getSeriesByIndex(O.seriesIndex),C=O.dataIndexInside,N=R.getDataParams(C);if(!(N.dataIndex<0)){N.axisDim=S.axisDim,N.axisIndex=S.axisIndex,N.axisType=S.axisType,N.axisId=S.axisId,N.axisValue=a1(A.axis,{value:L}),N.axisValueLabel=P,N.marker=p.makeTooltipMarker("item",Ea(N.color),u);var D=DS(R.formatTooltip(C,!0,null)),G=D.frag;if(G){var X=Ks([R],a).get("valueFormatter");E.blocks.push(X?et({valueFormatter:X},G):G)}D.text&&d.push(D.text),f.push(N)}})}})}),c.blocks.reverse(),d.reverse();var v=r.position,y=s.get("order"),x=OS(c,p,u,y,i.get("useUTC"),s.get("textStyle"));x&&d.unshift(x);var _=u==="richText"?`

`:"<br/>",w=d.join(_);this._showOrMove(s,function(){this._updateContentNotChangedOnAxis(n,f)?this._updatePosition(s,v,o[0],o[1],this._tooltipContent,f):this._showTooltipContent(s,w,f,Math.random()+"",o[0],o[1],v,null,p)})},e.prototype._showSeriesItemTooltip=function(n,r,i){var a=this._ecModel,o=Ut(r),s=o.seriesIndex,u=a.getSeriesByIndex(s),f=o.dataModel||u,c=o.dataIndex,d=o.dataType,p=f.getData(d),v=this._renderMode,y=n.positionDefault,x=Ks([p.getItemModel(c),f,u&&(u.coordinateSystem||{}).model],this._tooltipModel,y?{position:y}:null),_=x.get("trigger");if(!(_!=null&&_!=="item")){var w=f.getDataParams(c,d),b=new Qv;w.marker=b.makeTooltipMarker("item",Ea(w.color),v);var S=DS(f.formatTooltip(c,!1,d)),A=x.get("order"),L=x.get("valueFormatter"),P=S.frag,E=P?OS(L?et({valueFormatter:L},P):P,b,v,A,a.get("useUTC"),x.get("textStyle")):S.text,O="item_"+f.name+"_"+c;this._showOrMove(x,function(){this._showTooltipContent(x,E,w,O,n.offsetX,n.offsetY,n.position,n.target,b)}),i({type:"showTip",dataIndexInside:c,dataIndex:p.getRawIndex(c),seriesIndex:s,from:this.uid})}},e.prototype._showComponentItemTooltip=function(n,r,i){var a=Ut(r),o=a.tooltipConfig,s=o.option||{};if(ut(s)){var u=s;s={content:u,formatter:u}}var f=[s],c=this._ecModel.getComponent(a.componentMainType,a.componentIndex);c&&f.push(c),f.push({formatter:s.content});var d=n.positionDefault,p=Ks(f,this._tooltipModel,d?{position:d}:null),v=p.get("content"),y=Math.random()+"",x=new Qv;this._showOrMove(p,function(){var _=wt(p.get("formatterParams")||{});this._showTooltipContent(p,v,_,y,n.offsetX,n.offsetY,n.position,r,x)}),i({type:"showTip",from:this.uid})},e.prototype._showTooltipContent=function(n,r,i,a,o,s,u,f,c){if(this._ticket="",!(!n.get("showContent")||!n.get("show"))){var d=this._tooltipContent;d.setEnterable(n.get("enterable"));var p=n.get("formatter");u=u||n.get("position");var v=r,y=this._getNearestPoint([o,s],i,n.get("trigger"),n.get("borderColor")),x=y.color;if(p)if(ut(p)){var _=n.ecModel.get("useUTC"),w=nt(i)?i[0]:i,b=w&&w.axisType&&w.axisType.indexOf("time")>=0;v=p,b&&(v=Zd(w.axisValue,v,_)),v=yE(v,i,!0)}else if(mt(p)){var S=qt(function(A,L){A===this._ticket&&(d.setContent(L,c,n,x,u),this._updatePosition(n,u,o,s,d,i,f))},this);this._ticket=a,v=p(i,a,S)}else v=p;d.setContent(v,c,n,x,u),d.show(n,x),this._updatePosition(n,u,o,s,d,i,f)}},e.prototype._getNearestPoint=function(n,r,i,a){if(i==="axis"||nt(r))return{color:a||(this._renderMode==="html"?"#fff":"none")};if(!nt(r))return{color:a||r.color||r.borderColor}},e.prototype._updatePosition=function(n,r,i,a,o,s,u){var f=this._api.getWidth(),c=this._api.getHeight();r=r||n.get("position");var d=o.getSize(),p=n.get("align"),v=n.get("verticalAlign"),y=u&&u.getBoundingRect().clone();if(u&&y.applyTransform(u.transform),mt(r)&&(r=r([i,a],s,o.el,y,{viewSize:[f,c],contentSize:d.slice()})),nt(r))i=ke(r[0],f),a=ke(r[1],c);else if(pt(r)){var x=r;x.width=d[0],x.height=d[1];var _=es(x,{width:f,height:c});i=_.x,a=_.y,p=null,v=null}else if(ut(r)&&u){var w=Wj(r,y,d,n.get("borderWidth"));i=w[0],a=w[1]}else{var w=Xj(i,a,o,f,c,p?null:20,v?null:20);i=w[0],a=w[1]}if(p&&(i-=mT(p)?d[0]/2:p==="right"?d[0]:0),v&&(a-=mT(v)?d[1]/2:v==="bottom"?d[1]:0),MI(n)){var w=Uj(i,a,o,f,c);i=w[0],a=w[1]}o.moveTo(i,a)},e.prototype._updateContentNotChangedOnAxis=function(n,r){var i=this._lastDataByCoordSys,a=this._cbParamsList,o=!!i&&i.length===n.length;return o&&Y(i,function(s,u){var f=s.dataByAxis||[],c=n[u]||{},d=c.dataByAxis||[];o=o&&f.length===d.length,o&&Y(f,function(p,v){var y=d[v]||{},x=p.seriesDataIndices||[],_=y.seriesDataIndices||[];o=o&&p.value===y.value&&p.axisType===y.axisType&&p.axisId===y.axisId&&x.length===_.length,o&&Y(x,function(w,b){var S=_[b];o=o&&w.seriesIndex===S.seriesIndex&&w.dataIndex===S.dataIndex}),a&&Y(p.seriesDataIndices,function(w){var b=w.seriesIndex,S=r[b],A=a[b];S&&A&&A.data!==S.data&&(o=!1)})})}),this._lastDataByCoordSys=n,this._cbParamsList=r,!!o},e.prototype._hide=function(n){this._lastDataByCoordSys=null,n({type:"hideTip",from:this.uid})},e.prototype.dispose=function(n,r){Ct.node||!r.getDom()||(dy(this,"_updatePosition"),this._tooltipContent.dispose(),Ly("itemTooltip",r))},e.type="tooltip",e}(pr);function Ks(t,e,n){var r=e.ecModel,i;n?(i=new _e(n,r,r),i=new _e(e.option,i,r)):i=e;for(var a=t.length-1;a>=0;a--){var o=t[a];o&&(o instanceof _e&&(o=o.get("tooltip",!0)),ut(o)&&(o={formatter:o}),o&&(i=new _e(o,i,r)))}return i}function yT(t,e){return t.dispatchAction||qt(e.dispatchAction,e)}function Xj(t,e,n,r,i,a,o){var s=n.getSize(),u=s[0],f=s[1];return a!=null&&(t+u+a+2>r?t-=u+a:t+=a),o!=null&&(e+f+o>i?e-=f+o:e+=o),[t,e]}function Uj(t,e,n,r,i){var a=n.getSize(),o=a[0],s=a[1];return t=Math.min(t+o,r)-o,e=Math.min(e+s,i)-s,t=Math.max(t,0),e=Math.max(e,0),[t,e]}function Wj(t,e,n,r){var i=n[0],a=n[1],o=Math.ceil(Math.SQRT2*r)+8,s=0,u=0,f=e.width,c=e.height;switch(t){case"inside":s=e.x+f/2-i/2,u=e.y+c/2-a/2;break;case"top":s=e.x+f/2-i/2,u=e.y-a-o;break;case"bottom":s=e.x+f/2-i/2,u=e.y+c+o;break;case"left":s=e.x-i-o,u=e.y+c/2-a/2;break;case"right":s=e.x+f+o,u=e.y+c/2-a/2}return[s,u]}function mT(t){return t==="center"||t==="middle"}function qj(t,e,n){var r=x_(t).queryOptionMap,i=r.keys()[0];if(!(!i||i==="series")){var a=Vl(e,i,r.get(i),{useDefault:!1,enableAll:!1,enableNone:!1}),o=a.models[0];if(o){var s=n.getViewOfComponentModel(o),u;if(s.group.traverse(function(f){var c=Ut(f).tooltipConfig;if(c&&c.name===t.name)return u=f,!0}),u)return{componentMainType:i,componentIndex:o.componentIndex,el:u}}}}const Zj=Yj;function Qj(t){Nr(sI),t.registerComponentModel(Lj),t.registerComponentView(Zj),t.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},$e),t.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},$e)}function m1(t,e){var n=t.mapDimensionsAll("defaultedLabel"),r=n.length;if(r===1){var i=rs(t,e,n[0]);return i!=null?i+"":null}else if(r){for(var a=[],o=0;o<n.length;o++)a.push(rs(t,e,n[o]));return a.join(" ")}}function EI(t,e){var n=t.mapDimensionsAll("defaultedLabel");if(!nt(e))return e+"";for(var r=[],i=0;i<n.length;i++){var a=t.getDimensionIndex(n[i]);a>=0&&r.push(e[a])}return r.join(" ")}var Kj=function(t){ht(e,t);function e(n,r,i,a){var o=t.call(this)||this;return o.updateData(n,r,i,a),o}return e.prototype._createSymbol=function(n,r,i,a,o){this.removeAll();var s=is(n,-1,-1,2,2,null,o);s.attr({z2:100,culling:!0,scaleX:a[0]/2,scaleY:a[1]/2}),s.drift=jj,this._symbolType=n,this.add(s)},e.prototype.stopSymbolAnimation=function(n){this.childAt(0).stopAnimation(null,n)},e.prototype.getSymbolType=function(){return this._symbolType},e.prototype.getSymbolPath=function(){return this.childAt(0)},e.prototype.highlight=function(){jo(this.childAt(0))},e.prototype.downplay=function(){Jo(this.childAt(0))},e.prototype.setZ=function(n,r){var i=this.childAt(0);i.zlevel=n,i.z=r},e.prototype.setDraggable=function(n,r){var i=this.childAt(0);i.draggable=n,i.cursor=!r&&n?"move":i.cursor},e.prototype.updateData=function(n,r,i,a){this.silent=!1;var o=n.getItemVisual(r,"symbol")||"circle",s=n.hostModel,u=e.getSymbolSize(n,r),f=o!==this._symbolType,c=a&&a.disableAnimation;if(f){var d=n.getItemVisual(r,"symbolKeepAspect");this._createSymbol(o,n,r,u,d)}else{var p=this.childAt(0);p.silent=!1;var v={scaleX:u[0]/2,scaleY:u[1]/2};c?p.attr(v):hn(p,v,s,r),qD(p)}if(this._updateCommon(n,r,u,i,a),f){var p=this.childAt(0);if(!c){var v={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:p.style.opacity}};p.scaleX=p.scaleY=0,p.style.opacity=0,dr(p,v,s,r)}}c&&this.childAt(0).stopAnimation("leave")},e.prototype._updateCommon=function(n,r,i,a,o){var s=this.childAt(0),u=n.hostModel,f,c,d,p,v,y,x,_,w;if(a&&(f=a.emphasisItemStyle,c=a.blurItemStyle,d=a.selectItemStyle,p=a.focus,v=a.blurScope,x=a.labelStatesModels,_=a.hoverScale,w=a.cursorStyle,y=a.emphasisDisabled),!a||n.hasItemOption){var b=a&&a.itemModel?a.itemModel:n.getItemModel(r),S=b.getModel("emphasis");f=S.getModel("itemStyle").getItemStyle(),d=b.getModel(["select","itemStyle"]).getItemStyle(),c=b.getModel(["blur","itemStyle"]).getItemStyle(),p=S.get("focus"),v=S.get("blurScope"),y=S.get("disabled"),x=Wd(b),_=S.getShallow("scale"),w=b.getShallow("cursor")}var A=n.getItemVisual(r,"symbolRotate");s.attr("rotation",(A||0)*Math.PI/180||0);var L=JE(n.getItemVisual(r,"symbolOffset"),i);L&&(s.x=L[0],s.y=L[1]),w&&s.attr("cursor",w);var P=n.getItemVisual(r,"style"),E=P.fill;if(s instanceof za){var O=s.style;s.useStyle(et({image:O.image,x:O.x,y:O.y,width:O.width,height:O.height},P))}else s.__isEmptyBrush?s.useStyle(et({},P)):s.useStyle(P),s.style.decal=null,s.setColor(E,o&&o.symbolInnerColor),s.style.strokeNoScale=!0;var R=n.getItemVisual(r,"liftZ"),C=this._z2;R!=null?C==null&&(this._z2=s.z2,s.z2+=R):C!=null&&(s.z2=C,this._z2=null);var N=o&&o.useNameLabel;Ud(s,x,{labelFetcher:u,labelDataIndex:r,defaultText:D,inheritColor:E,defaultOpacity:P.opacity});function D(H){return N?n.getName(H):m1(n,H)}this._sizeX=i[0]/2,this._sizeY=i[1]/2;var G=s.ensureState("emphasis");G.style=f,s.ensureState("select").style=d,s.ensureState("blur").style=c;var X=_==null||_===!0?Math.max(1.1,3/this._sizeY):isFinite(_)&&_>0?+_:1;G.scaleX=this._sizeX*X,G.scaleY=this._sizeY*X,this.setSymbolScale(1),Ih(this,p,v,y)},e.prototype.setSymbolScale=function(n){this.scaleX=this.scaleY=n},e.prototype.fadeOut=function(n,r,i){var a=this.childAt(0),o=Ut(this).dataIndex,s=i&&i.animation;if(this.silent=a.silent=!0,i&&i.fadeLabel){var u=a.getTextContent();u&&kh(u,{style:{opacity:0}},r,{dataIndex:o,removeOpt:s,cb:function(){a.removeTextContent()}})}else a.removeTextContent();kh(a,{style:{opacity:0},scaleX:0,scaleY:0},r,{dataIndex:o,cb:n,removeOpt:s})},e.getSymbolSize=function(n,r){return PW(n.getItemVisual(r,"symbolSize"))},e}(ce);function jj(t,e){this.parent.drift(t,e)}const _1=Kj;function yg(t,e,n,r){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(r.isIgnore&&r.isIgnore(n))&&!(r.clipShape&&!r.clipShape.contain(e[0],e[1]))&&t.getItemVisual(n,"symbol")!=="none"}function _T(t){return t!=null&&!pt(t)&&(t={isIgnore:t}),t||{}}function xT(t){var e=t.hostModel,n=e.getModel("emphasis");return{emphasisItemStyle:n.getModel("itemStyle").getItemStyle(),blurItemStyle:e.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:e.getModel(["select","itemStyle"]).getItemStyle(),focus:n.get("focus"),blurScope:n.get("blurScope"),emphasisDisabled:n.get("disabled"),hoverScale:n.get("scale"),labelStatesModels:Wd(e),cursorStyle:e.get("cursor")}}var Jj=function(){function t(e){this.group=new ce,this._SymbolCtor=e||_1}return t.prototype.updateData=function(e,n){this._progressiveEls=null,n=_T(n);var r=this.group,i=e.hostModel,a=this._data,o=this._SymbolCtor,s=n.disableAnimation,u=xT(e),f={disableAnimation:s},c=n.getSymbolPoint||function(d){return e.getItemLayout(d)};a||r.removeAll(),e.diff(a).add(function(d){var p=c(d);if(yg(e,p,d,n)){var v=new o(e,d,u,f);v.setPosition(p),e.setItemGraphicEl(d,v),r.add(v)}}).update(function(d,p){var v=a.getItemGraphicEl(p),y=c(d);if(!yg(e,y,d,n)){r.remove(v);return}var x=e.getItemVisual(d,"symbol")||"circle",_=v&&v.getSymbolType&&v.getSymbolType();if(!v||_&&_!==x)r.remove(v),v=new o(e,d,u,f),v.setPosition(y);else{v.updateData(e,d,u,f);var w={x:y[0],y:y[1]};s?v.attr(w):hn(v,w,i)}r.add(v),e.setItemGraphicEl(d,v)}).remove(function(d){var p=a.getItemGraphicEl(d);p&&p.fadeOut(function(){r.remove(p)},i)}).execute(),this._getSymbolPoint=c,this._data=e},t.prototype.updateLayout=function(){var e=this,n=this._data;n&&n.eachItemGraphicEl(function(r,i){var a=e._getSymbolPoint(i);r.setPosition(a),r.markRedraw()})},t.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=xT(e),this._data=null,this.group.removeAll()},t.prototype.incrementalUpdate=function(e,n,r){this._progressiveEls=[],r=_T(r);function i(u){u.isGroup||(u.incremental=!0,u.ensureState("emphasis").hoverLayer=!0)}for(var a=e.start;a<e.end;a++){var o=n.getItemLayout(a);if(yg(n,o,a,r)){var s=new this._SymbolCtor(n,a,this._seriesScope);s.traverse(i),s.setPosition(o),this.group.add(s),n.setItemGraphicEl(a,s),this._progressiveEls.push(s)}}},t.prototype.eachRendered=function(e){Yd(this._progressiveEls||this.group,e)},t.prototype.remove=function(e){var n=this.group,r=this._data;r&&e?r.eachItemGraphicEl(function(i){i.fadeOut(function(){n.remove(i)},r.hostModel)}):n.removeAll()},t}();const tJ=Jj;function x1(t,e){return t.type===e}var eJ=function(t,e){if(e==="all")return{type:"all",title:t.getLocaleModel().get(["legend","selector","all"])};if(e==="inverse")return{type:"inverse",title:t.getLocaleModel().get(["legend","selector","inverse"])}},nJ=function(t){ht(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.layoutMode={type:"box",ignoreSize:!0},n}return e.prototype.init=function(n,r,i){this.mergeDefaultAndTheme(n,i),n.selected=n.selected||{},this._updateSelector(n)},e.prototype.mergeOption=function(n,r){t.prototype.mergeOption.call(this,n,r),this._updateSelector(n)},e.prototype._updateSelector=function(n){var r=n.selector,i=this.ecModel;r===!0&&(r=n.selector=["all","inverse"]),nt(r)&&Y(r,function(a,o){ut(a)&&(a={type:a}),r[o]=Mt(a,eJ(i,a.type))})},e.prototype.optionUpdated=function(){this._updateData(this.ecModel);var n=this._data;if(n[0]&&this.get("selectedMode")==="single"){for(var r=!1,i=0;i<n.length;i++){var a=n[i].get("name");if(this.isSelected(a)){this.select(a),r=!0;break}}!r&&this.select(n[0].get("name"))}},e.prototype._updateData=function(n){var r=[],i=[];n.eachRawSeries(function(u){var f=u.name;i.push(f);var c;if(u.legendVisualProvider){var d=u.legendVisualProvider,p=d.getAllNames();n.isSeriesFiltered(u)||(i=i.concat(p)),p.length?r=r.concat(p):c=!0}else c=!0;c&&__(u)&&r.push(u.name)}),this._availableNames=i;var a=this.get("data")||r,o=yt(),s=at(a,function(u){return(ut(u)||Qt(u))&&(u={name:u}),o.get(u.name)?null:(o.set(u.name,!0),new _e(u,this,this.ecModel))},this);this._data=pe(s,function(u){return!!u})},e.prototype.getData=function(){return this._data},e.prototype.select=function(n){var r=this.option.selected,i=this.get("selectedMode");if(i==="single"){var a=this._data;Y(a,function(o){r[o.get("name")]=!1})}r[n]=!0},e.prototype.unSelect=function(n){this.get("selectedMode")!=="single"&&(this.option.selected[n]=!1)},e.prototype.toggleSelected=function(n){var r=this.option.selected;r.hasOwnProperty(n)||(r[n]=!0),this[r[n]?"unSelect":"select"](n)},e.prototype.allSelect=function(){var n=this._data,r=this.option.selected;Y(n,function(i){r[i.get("name",!0)]=!0})},e.prototype.inverseSelect=function(){var n=this._data,r=this.option.selected;Y(n,function(i){var a=i.get("name",!0);r.hasOwnProperty(a)||(r[a]=!0),r[a]=!r[a]})},e.prototype.isSelected=function(n){var r=this.option.selected;return!(r.hasOwnProperty(n)&&!r[n])&&Ot(this._availableNames,n)>=0},e.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},e.type="legend.plain",e.dependencies=["series"],e.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},e}(Zt);const Gy=nJ;var co=zt,Vy=Y,Qf=ce,rJ=function(t){ht(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.newlineDisabled=!1,n}return e.prototype.init=function(){this.group.add(this._contentGroup=new Qf),this.group.add(this._selectorGroup=new Qf),this._isFirstRender=!0},e.prototype.getContentGroup=function(){return this._contentGroup},e.prototype.getSelectorGroup=function(){return this._selectorGroup},e.prototype.render=function(n,r,i){var a=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!n.get("show",!0)){var o=n.get("align"),s=n.get("orient");(!o||o==="auto")&&(o=n.get("left")==="right"&&s==="vertical"?"right":"left");var u=n.get("selector",!0),f=n.get("selectorPosition",!0);u&&(!f||f==="auto")&&(f=s==="horizontal"?"end":"start"),this.renderInner(o,n,r,i,u,s,f);var c=n.getBoxLayoutParams(),d={width:i.getWidth(),height:i.getHeight()},p=n.get("padding"),v=es(c,d,p),y=this.layoutInner(n,o,v,a,u,f),x=es(bt({width:y.width,height:y.height},c),d,p);this.group.x=x.x-y.x,this.group.y=x.y-y.y,this.group.markRedraw(),this.group.add(this._backgroundEl=SI(y,n))}},e.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},e.prototype.renderInner=function(n,r,i,a,o,s,u){var f=this.getContentGroup(),c=yt(),d=r.get("selectedMode"),p=[];i.eachRawSeries(function(v){!v.get("legendHoverLink")&&p.push(v.id)}),Vy(r.getData(),function(v,y){var x=v.get("name");if(!this.newlineDisabled&&(x===""||x===`
`)){var _=new Qf;_.newline=!0,f.add(_);return}var w=i.getSeriesByName(x)[0];if(!c.get(x))if(w){var b=w.getData(),S=b.getVisual("legendLineStyle")||{},A=b.getVisual("legendIcon"),L=b.getVisual("style"),P=this._createItem(w,x,y,v,r,n,S,L,A,d,a);P.on("click",co(wT,x,null,a,p)).on("mouseover",co(Fy,w.name,null,a,p)).on("mouseout",co(By,w.name,null,a,p)),c.set(x,!0)}else i.eachRawSeries(function(E){if(!c.get(x)&&E.legendVisualProvider){var O=E.legendVisualProvider;if(!O.containName(x))return;var R=O.indexOfName(x),C=O.getItemVisual(R,"style"),N=O.getItemVisual(R,"legendIcon"),D=Dr(C.fill);D&&D[3]===0&&(D[3]=.2,C=et(et({},C),{fill:Ed(D,"rgba")}));var G=this._createItem(E,x,y,v,r,n,{},C,N,d,a);G.on("click",co(wT,null,x,a,p)).on("mouseover",co(Fy,null,x,a,p)).on("mouseout",co(By,null,x,a,p)),c.set(x,!0)}},this)},this),o&&this._createSelector(o,r,a,s,u)},e.prototype._createSelector=function(n,r,i,a,o){var s=this.getSelectorGroup();Vy(n,function(f){var c=f.type,d=new ze({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){i.dispatchAction({type:c==="all"?"legendAllSelect":"legendInverseSelect"})}});s.add(d);var p=r.getModel("selectorLabel"),v=r.getModel(["emphasis","selectorLabel"]);Ud(d,{normal:p,emphasis:v},{defaultText:f.title}),J0(d)})},e.prototype._createItem=function(n,r,i,a,o,s,u,f,c,d,p){var v=n.visualDrawType,y=o.get("itemWidth"),x=o.get("itemHeight"),_=o.isSelected(r),w=a.get("symbolRotate"),b=a.get("symbolKeepAspect"),S=a.get("icon");c=S||c||"roundRect";var A=iJ(c,a,u,f,v,_,p),L=new Qf,P=a.getModel("textStyle");if(mt(n.getLegendIcon)&&(!S||S==="inherit"))L.add(n.getLegendIcon({itemWidth:y,itemHeight:x,icon:c,iconRotate:w,itemStyle:A.itemStyle,lineStyle:A.lineStyle,symbolKeepAspect:b}));else{var E=S==="inherit"&&n.getData().getVisual("symbol")?w==="inherit"?n.getData().getVisual("symbolRotate"):w:0;L.add(aJ({itemWidth:y,itemHeight:x,icon:c,iconRotate:E,itemStyle:A.itemStyle,lineStyle:A.lineStyle,symbolKeepAspect:b}))}var O=s==="left"?y+5:-5,R=s,C=o.get("formatter"),N=r;ut(C)&&C?N=C.replace("{name}",r??""):mt(C)&&(N=C(r));var D=a.get("inactiveColor");L.add(new ze({style:ts(P,{text:N,x:O,y:x/2,fill:_?P.getTextColor():D,align:R,verticalAlign:"middle"})}));var G=new ie({shape:L.getBoundingRect(),invisible:!0}),X=a.getModel("tooltip");return X.get("show")&&Hd({el:G,componentModel:o,itemName:r,itemTooltipOption:X.option}),L.add(G),L.eachChild(function(H){H.silent=!0}),G.silent=!d,this.getContentGroup().add(L),J0(L),L.__legendDataIndex=i,L},e.prototype.layoutInner=function(n,r,i,a,o,s){var u=this.getContentGroup(),f=this.getSelectorGroup();Vo(n.get("orient"),u,n.get("itemGap"),i.width,i.height);var c=u.getBoundingRect(),d=[-c.x,-c.y];if(f.markRedraw(),u.markRedraw(),o){Vo("horizontal",f,n.get("selectorItemGap",!0));var p=f.getBoundingRect(),v=[-p.x,-p.y],y=n.get("selectorButtonGap",!0),x=n.getOrient().index,_=x===0?"width":"height",w=x===0?"height":"width",b=x===0?"y":"x";s==="end"?v[x]+=c[_]+y:d[x]+=p[_]+y,v[1-x]+=c[w]/2-p[w]/2,f.x=v[0],f.y=v[1],u.x=d[0],u.y=d[1];var S={x:0,y:0};return S[_]=c[_]+y+p[_],S[w]=Math.max(c[w],p[w]),S[b]=Math.min(0,p[b]+v[1-x]),S}else return u.x=d[0],u.y=d[1],this.group.getBoundingRect()},e.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},e.type="legend.plain",e}(pr);function iJ(t,e,n,r,i,a,o){function s(_,w){_.lineWidth==="auto"&&(_.lineWidth=w.lineWidth>0?2:0),Vy(_,function(b,S){_[S]==="inherit"&&(_[S]=w[S])})}var u=e.getModel("itemStyle"),f=u.getItemStyle(),c=t.lastIndexOf("empty",0)===0?"fill":"stroke",d=u.getShallow("decal");f.decal=!d||d==="inherit"?r.decal:my(d,o),f.fill==="inherit"&&(f.fill=r[i]),f.stroke==="inherit"&&(f.stroke=r[c]),f.opacity==="inherit"&&(f.opacity=(i==="fill"?r:n).opacity),s(f,r);var p=e.getModel("lineStyle"),v=p.getLineStyle();if(s(v,n),f.fill==="auto"&&(f.fill=r.fill),f.stroke==="auto"&&(f.stroke=r.fill),v.stroke==="auto"&&(v.stroke=r.fill),!a){var y=e.get("inactiveBorderWidth"),x=f[c];f.lineWidth=y==="auto"?r.lineWidth>0&&x?2:0:f.lineWidth,f.fill=e.get("inactiveColor"),f.stroke=e.get("inactiveBorderColor"),v.stroke=p.get("inactiveColor"),v.lineWidth=p.get("inactiveWidth")}return{itemStyle:f,lineStyle:v}}function aJ(t){var e=t.icon||"roundRect",n=is(e,0,0,t.itemWidth,t.itemHeight,t.itemStyle.fill,t.symbolKeepAspect);return n.setStyle(t.itemStyle),n.rotation=(t.iconRotate||0)*Math.PI/180,n.setOrigin([t.itemWidth/2,t.itemHeight/2]),e.indexOf("empty")>-1&&(n.style.stroke=n.style.fill,n.style.fill="#fff",n.style.lineWidth=2),n}function wT(t,e,n,r){By(t,e,n,r),n.dispatchAction({type:"legendToggleSelect",name:t??e}),Fy(t,e,n,r)}function II(t){for(var e=t.getZr().storage.getDisplayList(),n,r=0,i=e.length;r<i&&!(n=e[r].states.emphasis);)r++;return n&&n.hoverLayer}function Fy(t,e,n,r){II(n)||n.dispatchAction({type:"highlight",seriesName:t,name:e,excludeSeriesId:r})}function By(t,e,n,r){II(n)||n.dispatchAction({type:"downplay",seriesName:t,name:e,excludeSeriesId:r})}const RI=rJ;function oJ(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.filterSeries(function(n){for(var r=0;r<e.length;r++)if(!e[r].isSelected(n.name))return!1;return!0})}function js(t,e,n){var r={},i=t==="toggleSelected",a;return n.eachComponent("legend",function(o){i&&a!=null?o[a?"select":"unSelect"](e.name):t==="allSelect"||t==="inverseSelect"?o[t]():(o[t](e.name),a=o.isSelected(e.name));var s=o.getData();Y(s,function(u){var f=u.get("name");if(!(f===`
`||f==="")){var c=o.isSelected(f);r.hasOwnProperty(f)?r[f]=r[f]&&c:r[f]=c}})}),t==="allSelect"||t==="inverseSelect"?{selected:r}:{name:e.name,selected:r}}function sJ(t){t.registerAction("legendToggleSelect","legendselectchanged",zt(js,"toggleSelected")),t.registerAction("legendAllSelect","legendselectall",zt(js,"allSelect")),t.registerAction("legendInverseSelect","legendinverseselect",zt(js,"inverseSelect")),t.registerAction("legendSelect","legendselected",zt(js,"select")),t.registerAction("legendUnSelect","legendunselected",zt(js,"unSelect"))}function kI(t){t.registerComponentModel(Gy),t.registerComponentView(RI),t.registerProcessor(t.PRIORITY.PROCESSOR.SERIES_FILTER,oJ),t.registerSubTypeDefaulter("legend",function(){return"plain"}),sJ(t)}var uJ=function(t){ht(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.setScrollDataIndex=function(n){this.option.scrollDataIndex=n},e.prototype.init=function(n,r,i){var a=ep(n);t.prototype.init.call(this,n,r,i),bT(this,n,a)},e.prototype.mergeOption=function(n,r){t.prototype.mergeOption.call(this,n,r),bT(this,this.option,n)},e.type="legend.scroll",e.defaultOption=iE(Gy.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),e}(Gy);function bT(t,e,n){var r=t.getOrient(),i=[1,1];i[r.index]=0,ns(e,n,{type:"box",ignoreSize:!!i})}const lJ=uJ;var ST=ce,mg=["width","height"],_g=["x","y"],fJ=function(t){ht(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.newlineDisabled=!0,n._currentIndex=0,n}return e.prototype.init=function(){t.prototype.init.call(this),this.group.add(this._containerGroup=new ST),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new ST)},e.prototype.resetInner=function(){t.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},e.prototype.renderInner=function(n,r,i,a,o,s,u){var f=this;t.prototype.renderInner.call(this,n,r,i,a,o,s,u);var c=this._controllerGroup,d=r.get("pageIconSize",!0),p=nt(d)?d:[d,d];y("pagePrev",0);var v=r.getModel("pageTextStyle");c.add(new ze({name:"pageText",style:{text:"xx/xx",fill:v.getTextColor(),font:v.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),y("pageNext",1);function y(x,_){var w=x+"DataIndex",b=zd(r.get("pageIcons",!0)[r.getOrient().name][_],{onclick:qt(f._pageGo,f,w,r,a)},{x:-p[0]/2,y:-p[1]/2,width:p[0],height:p[1]});b.name=x,c.add(b)}},e.prototype.layoutInner=function(n,r,i,a,o,s){var u=this.getSelectorGroup(),f=n.getOrient().index,c=mg[f],d=_g[f],p=mg[1-f],v=_g[1-f];o&&Vo("horizontal",u,n.get("selectorItemGap",!0));var y=n.get("selectorButtonGap",!0),x=u.getBoundingRect(),_=[-x.x,-x.y],w=wt(i);o&&(w[c]=i[c]-x[c]-y);var b=this._layoutContentAndController(n,a,w,f,c,p,v,d);if(o){if(s==="end")_[f]+=b[c]+y;else{var S=x[c]+y;_[f]-=S,b[d]-=S}b[c]+=x[c]+y,_[1-f]+=b[v]+b[p]/2-x[p]/2,b[p]=Math.max(b[p],x[p]),b[v]=Math.min(b[v],x[v]+_[1-f]),u.x=_[0],u.y=_[1],u.markRedraw()}return b},e.prototype._layoutContentAndController=function(n,r,i,a,o,s,u,f){var c=this.getContentGroup(),d=this._containerGroup,p=this._controllerGroup;Vo(n.get("orient"),c,n.get("itemGap"),a?i.width:null,a?null:i.height),Vo("horizontal",p,n.get("pageButtonItemGap",!0));var v=c.getBoundingRect(),y=p.getBoundingRect(),x=this._showController=v[o]>i[o],_=[-v.x,-v.y];r||(_[a]=c[f]);var w=[0,0],b=[-y.x,-y.y],S=Vt(n.get("pageButtonGap",!0),n.get("itemGap",!0));if(x){var A=n.get("pageButtonPosition",!0);A==="end"?b[a]+=i[o]-y[o]:w[a]+=y[o]+S}b[1-a]+=v[s]/2-y[s]/2,c.setPosition(_),d.setPosition(w),p.setPosition(b);var L={x:0,y:0};if(L[o]=x?i[o]:v[o],L[s]=Math.max(v[s],y[s]),L[u]=Math.min(0,y[u]+b[1-a]),d.__rectSize=i[o],x){var P={x:0,y:0};P[o]=Math.max(i[o]-y[o]-S,0),P[s]=L[s],d.setClipPath(new ie({shape:P})),d.__rectSize=P[o]}else p.eachChild(function(O){O.attr({invisible:!0,silent:!0})});var E=this._getPageInfo(n);return E.pageIndex!=null&&hn(c,{x:E.contentPosition[0],y:E.contentPosition[1]},x?n:null),this._updatePageInfoView(n,E),L},e.prototype._pageGo=function(n,r,i){var a=this._getPageInfo(r)[n];a!=null&&i.dispatchAction({type:"legendScroll",scrollDataIndex:a,legendId:r.id})},e.prototype._updatePageInfoView=function(n,r){var i=this._controllerGroup;Y(["pagePrev","pageNext"],function(c){var d=c+"DataIndex",p=r[d]!=null,v=i.childOfName(c);v&&(v.setStyle("fill",p?n.get("pageIconColor",!0):n.get("pageIconInactiveColor",!0)),v.cursor=p?"pointer":"default")});var a=i.childOfName("pageText"),o=n.get("pageFormatter"),s=r.pageIndex,u=s!=null?s+1:0,f=r.pageCount;a&&o&&a.setStyle("text",ut(o)?o.replace("{current}",u==null?"":u+"").replace("{total}",f==null?"":f+""):o({current:u,total:f}))},e.prototype._getPageInfo=function(n){var r=n.get("scrollDataIndex",!0),i=this.getContentGroup(),a=this._containerGroup.__rectSize,o=n.getOrient().index,s=mg[o],u=_g[o],f=this._findTargetItemIndex(r),c=i.children(),d=c[f],p=c.length,v=p?1:0,y={contentPosition:[i.x,i.y],pageCount:v,pageIndex:v-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!d)return y;var x=A(d);y.contentPosition[o]=-x.s;for(var _=f+1,w=x,b=x,S=null;_<=p;++_)S=A(c[_]),(!S&&b.e>w.s+a||S&&!L(S,w.s))&&(b.i>w.i?w=b:w=S,w&&(y.pageNextDataIndex==null&&(y.pageNextDataIndex=w.i),++y.pageCount)),b=S;for(var _=f-1,w=x,b=x,S=null;_>=-1;--_)S=A(c[_]),(!S||!L(b,S.s))&&w.i<b.i&&(b=w,y.pagePrevDataIndex==null&&(y.pagePrevDataIndex=w.i),++y.pageCount,++y.pageIndex),w=S;return y;function A(P){if(P){var E=P.getBoundingRect(),O=E[u]+P[u];return{s:O,e:O+E[s],i:P.__legendDataIndex}}}function L(P,E){return P.e>=E&&P.s<=E+a}},e.prototype._findTargetItemIndex=function(n){if(!this._showController)return 0;var r,i=this.getContentGroup(),a;return i.eachChild(function(o,s){var u=o.__legendDataIndex;a==null&&u!=null&&(a=s),u===n&&(r=s)}),r??a},e.type="legend.scroll",e}(RI);const cJ=fJ;function hJ(t){t.registerAction("legendScroll","legendscroll",function(e,n){var r=e.scrollDataIndex;r!=null&&n.eachComponent({mainType:"legend",subType:"scroll",query:e},function(i){i.setScrollDataIndex(r)})})}function dJ(t){Nr(kI),t.registerComponentModel(lJ),t.registerComponentView(cJ),hJ(t)}function pJ(t){Nr(kI),Nr(dJ)}var vJ=function(t){ht(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.hasSymbolVisual=!0,n}return e.prototype.getInitialData=function(n){return e1(null,this,{useEncodeDefaulter:!0})},e.prototype.getLegendIcon=function(n){var r=new ce,i=is("line",0,n.itemHeight/2,n.itemWidth,0,n.lineStyle.stroke,!1);r.add(i),i.setStyle(n.lineStyle);var a=this.getData().getVisual("symbol"),o=this.getData().getVisual("symbolRotate"),s=a==="none"?"circle":a,u=n.itemHeight*.8,f=is(s,(n.itemWidth-u)/2,(n.itemHeight-u)/2,u,u,n.itemStyle.fill);r.add(f),f.setStyle(n.itemStyle);var c=n.iconRotate==="inherit"?o:n.iconRotate||0;return f.rotation=c*Math.PI/180,f.setOrigin([n.itemWidth/2,n.itemHeight/2]),s.indexOf("empty")>-1&&(f.style.stroke=f.style.fill,f.style.fill="#fff",f.style.lineWidth=2),r},e.type="series.line",e.dependencies=["grid","polar"],e.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},e}(Ia);const gJ=vJ;function OI(t,e,n){var r=t.getBaseAxis(),i=t.getOtherAxis(r),a=yJ(i,n),o=r.dim,s=i.dim,u=e.mapDimension(s),f=e.mapDimension(o),c=s==="x"||s==="radius"?1:0,d=at(t.dimensions,function(y){return e.mapDimension(y)}),p=!1,v=e.getCalculationInfo("stackResultDimension");return as(e,d[0])&&(p=!0,d[0]=v),as(e,d[1])&&(p=!0,d[1]=v),{dataDimsForPoint:d,valueStart:a,valueAxisDim:s,baseAxisDim:o,stacked:!!p,valueDim:u,baseDim:f,baseDataOffset:c,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function yJ(t,e){var n=0,r=t.scale.getExtent();return e==="start"?n=r[0]:e==="end"?n=r[1]:Qt(e)&&!isNaN(e)?n=e:r[0]>0?n=r[0]:r[1]<0&&(n=r[1]),n}function NI(t,e,n,r){var i=NaN;t.stacked&&(i=n.get(n.getCalculationInfo("stackedOverDimension"),r)),isNaN(i)&&(i=t.valueStart);var a=t.baseDataOffset,o=[];return o[a]=n.get(t.baseDim,r),o[1-a]=i,e.dataToPoint(o)}function mJ(t,e){var n=[];return e.diff(t).add(function(r){n.push({cmd:"+",idx:r})}).update(function(r,i){n.push({cmd:"=",idx:i,idx1:r})}).remove(function(r){n.push({cmd:"-",idx:r})}).execute(),n}function _J(t,e,n,r,i,a,o,s){for(var u=mJ(t,e),f=[],c=[],d=[],p=[],v=[],y=[],x=[],_=OI(i,e,o),w=t.getLayout("points")||[],b=e.getLayout("points")||[],S=0;S<u.length;S++){var A=u[S],L=!0,P=void 0,E=void 0;switch(A.cmd){case"=":P=A.idx*2,E=A.idx1*2;var O=w[P],R=w[P+1],C=b[E],N=b[E+1];(isNaN(O)||isNaN(R))&&(O=C,R=N),f.push(O,R),c.push(C,N),d.push(n[P],n[P+1]),p.push(r[E],r[E+1]),x.push(e.getRawIndex(A.idx1));break;case"+":var D=A.idx,G=_.dataDimsForPoint,X=i.dataToPoint([e.get(G[0],D),e.get(G[1],D)]);E=D*2,f.push(X[0],X[1]),c.push(b[E],b[E+1]);var H=NI(_,i,e,D);d.push(H[0],H[1]),p.push(r[E],r[E+1]),x.push(e.getRawIndex(D));break;case"-":L=!1}L&&(v.push(A),y.push(y.length))}y.sort(function(I,k){return x[I]-x[k]});for(var W=f.length,K=Pr(W),Q=Pr(W),l=Pr(W),h=Pr(W),g=[],S=0;S<y.length;S++){var m=y[S],T=S*2,M=m*2;K[T]=f[M],K[T+1]=f[M+1],Q[T]=c[M],Q[T+1]=c[M+1],l[T]=d[M],l[T+1]=d[M+1],h[T]=p[M],h[T+1]=p[M+1],g[S]=v[m]}return{current:K,next:Q,stackedOnCurrent:l,stackedOnNext:h,status:g}}var Qr=Math.min,Kr=Math.max;function pa(t,e){return isNaN(t)||isNaN(e)}function zy(t,e,n,r,i,a,o,s,u){for(var f,c,d,p,v,y,x=n,_=0;_<r;_++){var w=e[x*2],b=e[x*2+1];if(x>=i||x<0)break;if(pa(w,b)){if(u){x+=a;continue}break}if(x===n)t[a>0?"moveTo":"lineTo"](w,b),d=w,p=b;else{var S=w-f,A=b-c;if(S*S+A*A<.5){x+=a;continue}if(o>0){for(var L=x+a,P=e[L*2],E=e[L*2+1];P===w&&E===b&&_<r;)_++,L+=a,x+=a,P=e[L*2],E=e[L*2+1],w=e[x*2],b=e[x*2+1],S=w-f,A=b-c;var O=_+1;if(u)for(;pa(P,E)&&O<r;)O++,L+=a,P=e[L*2],E=e[L*2+1];var R=.5,C=0,N=0,D=void 0,G=void 0;if(O>=r||pa(P,E))v=w,y=b;else{C=P-f,N=E-c;var X=w-f,H=P-w,W=b-c,K=E-b,Q=void 0,l=void 0;if(s==="x"){Q=Math.abs(X),l=Math.abs(H);var h=C>0?1:-1;v=w-h*Q*o,y=b,D=w+h*l*o,G=b}else if(s==="y"){Q=Math.abs(W),l=Math.abs(K);var g=N>0?1:-1;v=w,y=b-g*Q*o,D=w,G=b+g*l*o}else Q=Math.sqrt(X*X+W*W),l=Math.sqrt(H*H+K*K),R=l/(l+Q),v=w-C*o*(1-R),y=b-N*o*(1-R),D=w+C*o*R,G=b+N*o*R,D=Qr(D,Kr(P,w)),G=Qr(G,Kr(E,b)),D=Kr(D,Qr(P,w)),G=Kr(G,Qr(E,b)),C=D-w,N=G-b,v=w-C*Q/l,y=b-N*Q/l,v=Qr(v,Kr(f,w)),y=Qr(y,Kr(c,b)),v=Kr(v,Qr(f,w)),y=Kr(y,Qr(c,b)),C=w-v,N=b-y,D=w+C*l/Q,G=b+N*l/Q}t.bezierCurveTo(d,p,v,y,w,b),d=D,p=G}else t.lineTo(w,b)}f=w,c=b,x+=a}return _}var $I=function(){function t(){this.smooth=0,this.smoothConstraint=!0}return t}(),xJ=function(t){ht(e,t);function e(n){var r=t.call(this,n)||this;return r.type="ec-polyline",r}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new $I},e.prototype.buildPath=function(n,r){var i=r.points,a=0,o=i.length/2;if(r.connectNulls){for(;o>0&&pa(i[o*2-2],i[o*2-1]);o--);for(;a<o&&pa(i[a*2],i[a*2+1]);a++);}for(;a<o;)a+=zy(n,i,a,o,o,1,r.smooth,r.smoothMonotone,r.connectNulls)+1},e.prototype.getPointOn=function(n,r){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var i=this.path,a=i.data,o=xi.CMD,s,u,f=r==="x",c=[],d=0;d<a.length;){var p=a[d++],v=void 0,y=void 0,x=void 0,_=void 0,w=void 0,b=void 0,S=void 0;switch(p){case o.M:s=a[d++],u=a[d++];break;case o.L:if(v=a[d++],y=a[d++],S=f?(n-s)/(v-s):(n-u)/(y-u),S<=1&&S>=0){var A=f?(y-u)*S+u:(v-s)*S+s;return f?[n,A]:[A,n]}s=v,u=y;break;case o.C:v=a[d++],y=a[d++],x=a[d++],_=a[d++],w=a[d++],b=a[d++];var L=f?Ah(s,v,x,w,n,c):Ah(u,y,_,b,n,c);if(L>0)for(var P=0;P<L;P++){var E=c[P];if(E<=1&&E>=0){var A=f?le(u,y,_,b,E):le(s,v,x,w,E);return f?[n,A]:[A,n]}}s=w,u=b;break}}},e}(Rt),wJ=function(t){ht(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}($I),bJ=function(t){ht(e,t);function e(n){var r=t.call(this,n)||this;return r.type="ec-polygon",r}return e.prototype.getDefaultShape=function(){return new wJ},e.prototype.buildPath=function(n,r){var i=r.points,a=r.stackedOnPoints,o=0,s=i.length/2,u=r.smoothMonotone;if(r.connectNulls){for(;s>0&&pa(i[s*2-2],i[s*2-1]);s--);for(;o<s&&pa(i[o*2],i[o*2+1]);o++);}for(;o<s;){var f=zy(n,i,o,s,s,1,r.smooth,u,r.connectNulls);zy(n,a,o+f-1,f,s,-1,r.stackedOnSmooth,u,r.connectNulls),o+=f+1,n.closePath()}},e}(Rt);function GI(t,e,n,r,i){var a=t.getArea(),o=a.x,s=a.y,u=a.width,f=a.height,c=n.get(["lineStyle","width"])||2;o-=c/2,s-=c/2,u+=c,f+=c,o=Math.floor(o),u=Math.round(u);var d=new ie({shape:{x:o,y:s,width:u,height:f}});if(e){var p=t.getBaseAxis(),v=p.isHorizontal(),y=p.inverse;v?(y&&(d.shape.x+=u),d.shape.width=0):(y||(d.shape.y+=f),d.shape.height=0);var x=mt(i)?function(_){i(_,d)}:null;dr(d,{shape:{width:u,height:f,x:o,y:s}},n,null,r,x)}return d}function VI(t,e,n){var r=t.getArea(),i=oe(r.r0,1),a=oe(r.r,1),o=new La({shape:{cx:oe(t.cx,1),cy:oe(t.cy,1),r0:i,r:a,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}});if(e){var s=t.getBaseAxis().dim==="angle";s?o.shape.endAngle=r.startAngle:o.shape.r=i,dr(o,{shape:{endAngle:r.endAngle,r:a}},n)}return o}function SJ(t,e,n,r,i){if(t){if(t.type==="polar")return VI(t,e,n);if(t.type==="cartesian2d")return GI(t,e,n,r,i)}else return null;return null}function TT(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return;return!0}}function AT(t){for(var e=1/0,n=1/0,r=-1/0,i=-1/0,a=0;a<t.length;){var o=t[a++],s=t[a++];isNaN(o)||(e=Math.min(o,e),r=Math.max(o,r)),isNaN(s)||(n=Math.min(s,n),i=Math.max(s,i))}return[[e,n],[r,i]]}function CT(t,e){var n=AT(t),r=n[0],i=n[1],a=AT(e),o=a[0],s=a[1];return Math.max(Math.abs(r[0]-o[0]),Math.abs(r[1]-o[1]),Math.abs(i[0]-s[0]),Math.abs(i[1]-s[1]))}function MT(t){return Qt(t)?t:t?.5:0}function TJ(t,e,n){if(!n.valueDim)return[];for(var r=e.count(),i=Pr(r*2),a=0;a<r;a++){var o=NI(n,t,e,a);i[a*2]=o[0],i[a*2+1]=o[1]}return i}function jr(t,e,n,r){var i=e.getBaseAxis(),a=i.dim==="x"||i.dim==="radius"?0:1,o=[],s=0,u=[],f=[],c=[],d=[];if(r){for(s=0;s<t.length;s+=2)!isNaN(t[s])&&!isNaN(t[s+1])&&d.push(t[s],t[s+1]);t=d}for(s=0;s<t.length-2;s+=2)switch(c[0]=t[s+2],c[1]=t[s+3],f[0]=t[s],f[1]=t[s+1],o.push(f[0],f[1]),n){case"end":u[a]=c[a],u[1-a]=f[1-a],o.push(u[0],u[1]);break;case"middle":var p=(f[a]+c[a])/2,v=[];u[a]=v[a]=p,u[1-a]=f[1-a],v[1-a]=c[1-a],o.push(u[0],u[1]),o.push(v[0],v[1]);break;default:u[a]=f[a],u[1-a]=c[1-a],o.push(u[0],u[1])}return o.push(t[s++],t[s++]),o}function AJ(t,e){var n=[],r=t.length,i,a;function o(c,d,p){var v=c.coord,y=(p-v)/(d.coord-v),x=OB(y,[c.color,d.color]);return{coord:p,color:x}}for(var s=0;s<r;s++){var u=t[s],f=u.coord;if(f<0)i=u;else if(f>e){a?n.push(o(a,u,e)):i&&n.push(o(i,u,0),o(i,u,e));break}else i&&(n.push(o(i,u,0)),i=null),n.push(u),a=u}return n}function CJ(t,e,n){var r=t.getVisual("visualMeta");if(!(!r||!r.length||!t.count())&&e.type==="cartesian2d"){for(var i,a,o=r.length-1;o>=0;o--){var s=t.getDimensionInfo(r[o].dimension);if(i=s&&s.coordDim,i==="x"||i==="y"){a=r[o];break}}if(a){var u=e.getAxis(i),f=at(a.stops,function(S){return{coord:u.toGlobalCoord(u.dataToCoord(S.value)),color:S.color}}),c=f.length,d=a.outerColors.slice();c&&f[0].coord>f[c-1].coord&&(f.reverse(),d.reverse());var p=AJ(f,i==="x"?n.getWidth():n.getHeight()),v=p.length;if(!v&&c)return f[0].coord<0?d[1]?d[1]:f[c-1].color:d[0]?d[0]:f[0].color;var y=10,x=p[0].coord-y,_=p[v-1].coord+y,w=_-x;if(w<.001)return"transparent";Y(p,function(S){S.offset=(S.coord-x)/w}),p.push({offset:v?p[v-1].offset:.5,color:d[1]||"transparent"}),p.unshift({offset:v?p[0].offset:.5,color:d[0]||"transparent"});var b=new UD(0,0,0,0,p,!0);return b[i]=x,b[i+"2"]=_,b}}}function MJ(t,e,n){var r=t.get("showAllSymbol"),i=r==="auto";if(!(r&&!i)){var a=n.getAxesByScale("ordinal")[0];if(a&&!(i&&PJ(a,e))){var o=e.mapDimension(a.dim),s={};return Y(a.getViewLabels(),function(u){var f=a.scale.getRawOrdinalNumber(u.tickValue);s[f]=1}),function(u){return!s.hasOwnProperty(e.get(o,u))}}}}function PJ(t,e){var n=t.getExtent(),r=Math.abs(n[1]-n[0])/t.scale.count();isNaN(r)&&(r=0);for(var i=e.count(),a=Math.max(1,Math.round(i/5)),o=0;o<i;o+=a)if(_1.getSymbolSize(e,o)[t.isHorizontal()?1:0]*1.5>r)return!1;return!0}function LJ(t,e){return isNaN(t)||isNaN(e)}function DJ(t){for(var e=t.length/2;e>0&&LJ(t[e*2-2],t[e*2-1]);e--);return e-1}function PT(t,e){return[t[e*2],t[e*2+1]]}function EJ(t,e,n){for(var r=t.length/2,i=n==="x"?0:1,a,o,s=0,u=-1,f=0;f<r;f++)if(o=t[f*2+i],!(isNaN(o)||isNaN(t[f*2+1-i]))){if(f===0){a=o;continue}if(a<=e&&o>=e||a>=e&&o<=e){u=f;break}s=f,a=o}return{range:[s,u],t:(e-a)/(o-a)}}function FI(t){if(t.get(["endLabel","show"]))return!0;for(var e=0;e<hr.length;e++)if(t.get([hr[e],"endLabel","show"]))return!0;return!1}function xg(t,e,n,r){if(x1(e,"cartesian2d")){var i=r.getModel("endLabel"),a=i.get("valueAnimation"),o=r.getData(),s={lastFrameIndex:0},u=FI(r)?function(v,y){t._endLabelOnDuring(v,y,o,s,a,i,e)}:null,f=e.getBaseAxis().isHorizontal(),c=GI(e,n,r,function(){var v=t._endLabel;v&&n&&s.originalX!=null&&v.attr({x:s.originalX,y:s.originalY})},u);if(!r.get("clip",!0)){var d=c.shape,p=Math.max(d.width,d.height);f?(d.y-=p,d.height+=p*2):(d.x-=p,d.width+=p*2)}return u&&u(1,c),c}else return VI(e,n,r)}function IJ(t,e){var n=e.getBaseAxis(),r=n.isHorizontal(),i=n.inverse,a=r?i?"right":"left":"center",o=r?"middle":i?"top":"bottom";return{normal:{align:t.get("align")||a,verticalAlign:t.get("verticalAlign")||o}}}var RJ=function(t){ht(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.init=function(){var n=new ce,r=new tJ;this.group.add(r.group),this._symbolDraw=r,this._lineGroup=n},e.prototype.render=function(n,r,i){var a=this,o=n.coordinateSystem,s=this.group,u=n.getData(),f=n.getModel("lineStyle"),c=n.getModel("areaStyle"),d=u.getLayout("points")||[],p=o.type==="polar",v=this._coordSys,y=this._symbolDraw,x=this._polyline,_=this._polygon,w=this._lineGroup,b=!r.ssr&&n.isAnimationEnabled(),S=!c.isEmpty(),A=c.get("origin"),L=OI(o,u,A),P=S&&TJ(o,u,L),E=n.get("showSymbol"),O=n.get("connectNulls"),R=E&&!p&&MJ(n,u,o),C=this._data;C&&C.eachItemGraphicEl(function(k,V){k.__temp&&(s.remove(k),C.setItemGraphicEl(V,null))}),E||y.remove(),s.add(w);var N=p?!1:n.get("step"),D;o&&o.getArea&&n.get("clip",!0)&&(D=o.getArea(),D.width!=null?(D.x-=.1,D.y-=.1,D.width+=.2,D.height+=.2):D.r0&&(D.r0-=.5,D.r+=.5)),this._clipShapeForSymbol=D;var G=CJ(u,o,i)||u.getVisual("style")[u.getVisual("drawType")];if(!(x&&v.type===o.type&&N===this._step))E&&y.updateData(u,{isIgnore:R,clipShape:D,disableAnimation:!0,getSymbolPoint:function(k){return[d[k*2],d[k*2+1]]}}),b&&this._initSymbolLabelAnimation(u,o,D),N&&(d=jr(d,o,N,O),P&&(P=jr(P,o,N,O))),x=this._newPolyline(d),S?_=this._newPolygon(d,P):_&&(w.remove(_),_=this._polygon=null),p||this._initOrUpdateEndLabel(n,o,Ea(G)),w.setClipPath(xg(this,o,!0,n));else{S&&!_?_=this._newPolygon(d,P):_&&!S&&(w.remove(_),_=this._polygon=null),p||this._initOrUpdateEndLabel(n,o,Ea(G));var X=w.getClipPath();if(X){var H=xg(this,o,!1,n);dr(X,{shape:H.shape},n)}else w.setClipPath(xg(this,o,!0,n));E&&y.updateData(u,{isIgnore:R,clipShape:D,disableAnimation:!0,getSymbolPoint:function(k){return[d[k*2],d[k*2+1]]}}),(!TT(this._stackedOnPoints,P)||!TT(this._points,d))&&(b?this._doUpdateAnimation(u,P,o,i,N,A,O):(N&&(d=jr(d,o,N,O),P&&(P=jr(P,o,N,O))),x.setShape({points:d}),_&&_.setShape({points:d,stackedOnPoints:P})))}var W=n.getModel("emphasis"),K=W.get("focus"),Q=W.get("blurScope"),l=W.get("disabled");if(x.useStyle(bt(f.getLineStyle(),{fill:"none",stroke:G,lineJoin:"bevel"})),ty(x,n,"lineStyle"),x.style.lineWidth>0&&n.get(["emphasis","lineStyle","width"])==="bolder"){var h=x.getState("emphasis").style;h.lineWidth=+x.style.lineWidth+1}Ut(x).seriesIndex=n.seriesIndex,Ih(x,K,Q,l);var g=MT(n.get("smooth")),m=n.get("smoothMonotone");if(x.setShape({smooth:g,smoothMonotone:m,connectNulls:O}),_){var T=u.getCalculationInfo("stackedOnSeries"),M=0;_.useStyle(bt(c.getAreaStyle(),{fill:G,opacity:.7,lineJoin:"bevel",decal:u.getVisual("style").decal})),T&&(M=MT(T.get("smooth"))),_.setShape({smooth:g,stackedOnSmooth:M,smoothMonotone:m,connectNulls:O}),ty(_,n,"areaStyle"),Ut(_).seriesIndex=n.seriesIndex,Ih(_,K,Q,l)}var I=function(k){a._changePolyState(k)};u.eachItemGraphicEl(function(k){k&&(k.onHoverStateChange=I)}),this._polyline.onHoverStateChange=I,this._data=u,this._coordSys=o,this._stackedOnPoints=P,this._points=d,this._step=N,this._valueOrigin=A,n.get("triggerLineEvent")&&(this.packEventData(n,x),_&&this.packEventData(n,_))},e.prototype.packEventData=function(n,r){Ut(r).eventData={componentType:"series",componentSubType:"line",componentIndex:n.componentIndex,seriesIndex:n.seriesIndex,seriesName:n.name,seriesType:"line"}},e.prototype.highlight=function(n,r,i,a){var o=n.getData(),s=Pa(o,a);if(this._changePolyState("emphasis"),!(s instanceof Array)&&s!=null&&s>=0){var u=o.getLayout("points"),f=o.getItemGraphicEl(s);if(!f){var c=u[s*2],d=u[s*2+1];if(isNaN(c)||isNaN(d)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(c,d))return;var p=n.get("zlevel")||0,v=n.get("z")||0;f=new _1(o,s),f.x=c,f.y=d,f.setZ(p,v);var y=f.getSymbolPath().getTextContent();y&&(y.zlevel=p,y.z=v,y.z2=this._polyline.z2+1),f.__temp=!0,o.setItemGraphicEl(s,f),f.stopSymbolAnimation(!0),this.group.add(f)}f.highlight()}else Ir.prototype.highlight.call(this,n,r,i,a)},e.prototype.downplay=function(n,r,i,a){var o=n.getData(),s=Pa(o,a);if(this._changePolyState("normal"),s!=null&&s>=0){var u=o.getItemGraphicEl(s);u&&(u.__temp?(o.setItemGraphicEl(s,null),this.group.remove(u)):u.downplay())}else Ir.prototype.downplay.call(this,n,r,i,a)},e.prototype._changePolyState=function(n){var r=this._polygon;zb(this._polyline,n),r&&zb(r,n)},e.prototype._newPolyline=function(n){var r=this._polyline;return r&&this._lineGroup.remove(r),r=new xJ({shape:{points:n},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(r),this._polyline=r,r},e.prototype._newPolygon=function(n,r){var i=this._polygon;return i&&this._lineGroup.remove(i),i=new bJ({shape:{points:n,stackedOnPoints:r},segmentIgnoreThreshold:2}),this._lineGroup.add(i),this._polygon=i,i},e.prototype._initSymbolLabelAnimation=function(n,r,i){var a,o,s=r.getBaseAxis(),u=s.inverse;r.type==="cartesian2d"?(a=s.isHorizontal(),o=!1):r.type==="polar"&&(a=s.dim==="angle",o=!0);var f=n.hostModel,c=f.get("animationDuration");mt(c)&&(c=c(null));var d=f.get("animationDelay")||0,p=mt(d)?d(null):d;n.eachItemGraphicEl(function(v,y){var x=v;if(x){var _=[v.x,v.y],w=void 0,b=void 0,S=void 0;if(i)if(o){var A=i,L=r.pointToCoord(_);a?(w=A.startAngle,b=A.endAngle,S=-L[1]/180*Math.PI):(w=A.r0,b=A.r,S=L[0])}else{var P=i;a?(w=P.x,b=P.x+P.width,S=v.x):(w=P.y+P.height,b=P.y,S=v.y)}var E=b===w?0:(S-w)/(b-w);u&&(E=1-E);var O=mt(d)?d(y):c*E+p,R=x.getSymbolPath(),C=R.getTextContent();x.attr({scaleX:0,scaleY:0}),x.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:O}),C&&C.animateFrom({style:{opacity:0}},{duration:300,delay:O}),R.disableLabelAnimation=!0}})},e.prototype._initOrUpdateEndLabel=function(n,r,i){var a=n.getModel("endLabel");if(FI(n)){var o=n.getData(),s=this._polyline,u=o.getLayout("points");if(!u){s.removeTextContent(),this._endLabel=null;return}var f=this._endLabel;f||(f=this._endLabel=new ze({z2:200}),f.ignoreClip=!0,s.setTextContent(this._endLabel),s.disableLabelAnimation=!0);var c=DJ(u);c>=0&&(Ud(s,Wd(n,"endLabel"),{inheritColor:i,labelFetcher:n,labelDataIndex:c,defaultText:function(d,p,v){return v!=null?EI(o,v):m1(o,d)},enableTextSetter:!0},IJ(a,r)),s.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},e.prototype._endLabelOnDuring=function(n,r,i,a,o,s,u){var f=this._endLabel,c=this._polyline;if(f){n<1&&a.originalX==null&&(a.originalX=f.x,a.originalY=f.y);var d=i.getLayout("points"),p=i.hostModel,v=p.get("connectNulls"),y=s.get("precision"),x=s.get("distance")||0,_=u.getBaseAxis(),w=_.isHorizontal(),b=_.inverse,S=r.shape,A=b?w?S.x:S.y+S.height:w?S.x+S.width:S.y,L=(w?x:0)*(b?-1:1),P=(w?0:-x)*(b?-1:1),E=w?"x":"y",O=EJ(d,A,E),R=O.range,C=R[1]-R[0],N=void 0;if(C>=1){if(C>1&&!v){var D=PT(d,R[0]);f.attr({x:D[0]+L,y:D[1]+P}),o&&(N=p.getRawValue(R[0]))}else{var D=c.getPointOn(A,E);D&&f.attr({x:D[0]+L,y:D[1]+P});var G=p.getRawValue(R[0]),X=p.getRawValue(R[1]);o&&(N=kz(i,y,G,X,O.t))}a.lastFrameIndex=R[0]}else{var H=n===1||a.lastFrameIndex>0?R[0]:0,D=PT(d,H);o&&(N=p.getRawValue(H)),f.attr({x:D[0]+L,y:D[1]+P})}o&&qd(f).setLabelText(N)}},e.prototype._doUpdateAnimation=function(n,r,i,a,o,s,u){var f=this._polyline,c=this._polygon,d=n.hostModel,p=_J(this._data,n,this._stackedOnPoints,r,this._coordSys,i,this._valueOrigin),v=p.current,y=p.stackedOnCurrent,x=p.next,_=p.stackedOnNext;if(o&&(v=jr(p.current,i,o,u),y=jr(p.stackedOnCurrent,i,o,u),x=jr(p.next,i,o,u),_=jr(p.stackedOnNext,i,o,u)),CT(v,x)>3e3||c&&CT(y,_)>3e3){f.stopAnimation(),f.setShape({points:x}),c&&(c.stopAnimation(),c.setShape({points:x,stackedOnPoints:_}));return}f.shape.__points=p.current,f.shape.points=v;var w={shape:{points:x}};p.current!==v&&(w.shape.__points=p.next),f.stopAnimation(),hn(f,w,d),c&&(c.setShape({points:v,stackedOnPoints:y}),c.stopAnimation(),hn(c,{shape:{stackedOnPoints:_}},d),f.shape.points!==c.shape.points&&(c.shape.points=f.shape.points));for(var b=[],S=p.status,A=0;A<S.length;A++){var L=S[A].cmd;if(L==="="){var P=n.getItemGraphicEl(S[A].idx1);P&&b.push({el:P,ptIdx:A})}}f.animators&&f.animators.length&&f.animators[0].during(function(){c&&c.dirtyShape();for(var E=f.shape.__points,O=0;O<b.length;O++){var R=b[O].el,C=b[O].ptIdx*2;R.x=E[C],R.y=E[C+1],R.markRedraw()}})},e.prototype.remove=function(n){var r=this.group,i=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),i&&i.eachItemGraphicEl(function(a,o){a.__temp&&(r.remove(a),i.setItemGraphicEl(o,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},e.type="line",e}(Ir);const kJ=RJ;function OJ(t,e){return{seriesType:t,plan:W_(),reset:function(n){var r=n.getData(),i=n.coordinateSystem,a=n.pipelineContext,o=e||a.large;if(i){var s=at(i.dimensions,function(v){return r.mapDimension(v)}).slice(0,2),u=s.length,f=r.getCalculationInfo("stackResultDimension");as(r,s[0])&&(s[0]=f),as(r,s[1])&&(s[1]=f);var c=r.getStore(),d=r.getDimensionIndex(s[0]),p=r.getDimensionIndex(s[1]);return u&&{progress:function(v,y){for(var x=v.end-v.start,_=o&&Pr(x*u),w=[],b=[],S=v.start,A=0;S<v.end;S++){var L=void 0;if(u===1){var P=c.get(d,S);L=i.dataToPoint(P,null,b)}else w[0]=c.get(d,S),w[1]=c.get(p,S),L=i.dataToPoint(w,null,b);o?(_[A++]=L[0],_[A++]=L[1]):y.setItemLayout(S,L.slice())}o&&y.setLayout("points",_)}}}}}}var NJ={average:function(t){for(var e=0,n=0,r=0;r<t.length;r++)isNaN(t[r])||(e+=t[r],n++);return n===0?NaN:e/n},sum:function(t){for(var e=0,n=0;n<t.length;n++)e+=t[n]||0;return e},max:function(t){for(var e=-1/0,n=0;n<t.length;n++)t[n]>e&&(e=t[n]);return isFinite(e)?e:NaN},min:function(t){for(var e=1/0,n=0;n<t.length;n++)t[n]<e&&(e=t[n]);return isFinite(e)?e:NaN},nearest:function(t){return t[0]}},$J=function(t){return Math.round(t.length/2)};function BI(t){return{seriesType:t,reset:function(e,n,r){var i=e.getData(),a=e.get("sampling"),o=e.coordinateSystem,s=i.count();if(s>10&&o.type==="cartesian2d"&&a){var u=o.getBaseAxis(),f=o.getOtherAxis(u),c=u.getExtent(),d=r.getDevicePixelRatio(),p=Math.abs(c[1]-c[0])*(d||1),v=Math.round(s/p);if(isFinite(v)&&v>1){a==="lttb"&&e.setData(i.lttbDownSample(i.mapDimension(f.dim),1/v));var y=void 0;ut(a)?y=NJ[a]:mt(a)&&(y=a),y&&e.setData(i.downSample(i.mapDimension(f.dim),1/v,y,$J))}}}}}function GJ(t){t.registerChartView(kJ),t.registerSeriesModel(gJ),t.registerLayout(OJ("line",!0)),t.registerVisual({seriesType:"line",reset:function(e){var n=e.getData(),r=e.getModel("lineStyle").getLineStyle();r&&!r.stroke&&(r.stroke=n.getVisual("style").fill),n.setVisual("legendLineStyle",r)}}),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,BI("line"))}var zI=function(t){ht(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.getInitialData=function(n,r){return e1(null,this,{useEncodeDefaulter:!0})},e.prototype.getMarkerPosition=function(n,r,i){var a=this.coordinateSystem;if(a&&a.clampData){var o=a.clampData(n),s=a.dataToPoint(o);if(i)Y(a.getAxes(),function(p,v){if(p.type==="category"&&r!=null){var y=p.getTicksCoords(),x=o[v],_=r[v]==="x1"||r[v]==="y1";if(_&&(x+=1),y.length<2)return;if(y.length===2){s[v]=p.toGlobalCoord(p.getExtent()[_?1:0]);return}for(var w=void 0,b=void 0,S=1,A=0;A<y.length;A++){var L=y[A].coord,P=A===y.length-1?y[A-1].tickValue+S:y[A].tickValue;if(P===x){b=L;break}else if(P<x)w=L;else if(w!=null&&P>x){b=(L+w)/2;break}A===1&&(S=P-y[0].tickValue)}b==null&&(w?w&&(b=y[y.length-1].coord):b=y[0].coord),s[v]=p.toGlobalCoord(b)}});else{var u=this.getData(),f=u.getLayout("offset"),c=u.getLayout("size"),d=a.getBaseAxis().isHorizontal()?0:1;s[d]+=f+c/2}return s}return[NaN,NaN]},e.type="series.__base_bar__",e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},e}(Ia);Ia.registerClass(zI);const LT=zI;var VJ=function(t){ht(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.getInitialData=function(){return e1(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},e.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},e.prototype.getProgressiveThreshold=function(){var n=this.get("progressiveThreshold"),r=this.get("largeThreshold");return r>n&&(n=r),n},e.prototype.brushSelector=function(n,r,i){return i.rect(r.getItemLayout(n))},e.type="series.bar",e.dependencies=["grid","polar"],e.defaultOption=iE(LT.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),e}(LT);const FJ=VJ;var BJ=function(){function t(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return t}(),zJ=function(t){ht(e,t);function e(n){var r=t.call(this,n)||this;return r.type="sausage",r}return e.prototype.getDefaultShape=function(){return new BJ},e.prototype.buildPath=function(n,r){var i=r.cx,a=r.cy,o=Math.max(r.r0||0,0),s=Math.max(r.r,0),u=(s-o)*.5,f=o+u,c=r.startAngle,d=r.endAngle,p=r.clockwise,v=Math.PI*2,y=p?d-c<v:c-d<v;y||(c=d-(p?v:-v));var x=Math.cos(c),_=Math.sin(c),w=Math.cos(d),b=Math.sin(d);y?(n.moveTo(x*o+i,_*o+a),n.arc(x*f+i,_*f+a,u,-Math.PI+c,c,!p)):n.moveTo(x*s+i,_*s+a),n.arc(i,a,s,c,d,!p),n.arc(w*f+i,b*f+a,u,d-Math.PI*2,d-Math.PI,!p),o!==0&&n.arc(i,a,o,d,c,p)},e}(Rt);const DT=zJ;function HJ(t,e){e=e||{};var n=e.isRoundCap;return function(r,i,a){var o=i.position;if(!o||o instanceof Array)return Lh(r,i,a);var s=t(o),u=i.distance!=null?i.distance:5,f=this.shape,c=f.cx,d=f.cy,p=f.r,v=f.r0,y=(p+v)/2,x=f.startAngle,_=f.endAngle,w=(x+_)/2,b=n?Math.abs(p-v)/2:0,S=Math.cos,A=Math.sin,L=c+p*S(x),P=d+p*A(x),E="left",O="top";switch(s){case"startArc":L=c+(v-u)*S(w),P=d+(v-u)*A(w),E="center",O="top";break;case"insideStartArc":L=c+(v+u)*S(w),P=d+(v+u)*A(w),E="center",O="bottom";break;case"startAngle":L=c+y*S(x)+Kf(x,u+b,!1),P=d+y*A(x)+jf(x,u+b,!1),E="right",O="middle";break;case"insideStartAngle":L=c+y*S(x)+Kf(x,-u+b,!1),P=d+y*A(x)+jf(x,-u+b,!1),E="left",O="middle";break;case"middle":L=c+y*S(w),P=d+y*A(w),E="center",O="middle";break;case"endArc":L=c+(p+u)*S(w),P=d+(p+u)*A(w),E="center",O="bottom";break;case"insideEndArc":L=c+(p-u)*S(w),P=d+(p-u)*A(w),E="center",O="top";break;case"endAngle":L=c+y*S(_)+Kf(_,u+b,!0),P=d+y*A(_)+jf(_,u+b,!0),E="left",O="middle";break;case"insideEndAngle":L=c+y*S(_)+Kf(_,-u+b,!0),P=d+y*A(_)+jf(_,-u+b,!0),E="right",O="middle";break;default:return Lh(r,i,a)}return r=r||{},r.x=L,r.y=P,r.align=E,r.verticalAlign=O,r}}function YJ(t,e,n,r){if(Qt(r)){t.setTextConfig({rotation:r});return}else if(nt(e)){t.setTextConfig({rotation:0});return}var i=t.shape,a=i.clockwise?i.startAngle:i.endAngle,o=i.clockwise?i.endAngle:i.startAngle,s=(a+o)/2,u,f=n(e);switch(f){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":u=s;break;case"startAngle":case"insideStartAngle":u=a;break;case"endAngle":case"insideEndAngle":u=o;break;default:t.setTextConfig({rotation:0});return}var c=Math.PI*1.5-u;f==="middle"&&c>Math.PI/2&&c<Math.PI*1.5&&(c-=Math.PI),t.setTextConfig({rotation:c})}function Kf(t,e,n){return e*Math.sin(t)*(n?-1:1)}function jf(t,e,n){return e*Math.cos(t)*(n?1:-1)}function XJ(t,e,n){var r=t.get("borderRadius");if(r==null)return n?{cornerRadius:0}:null;nt(r)||(r=[r,r,r,r]);var i=Math.abs(e.r||0-e.r0||0);return{cornerRadius:at(r,function(a){return _i(a,i)})}}var wg=Math.max,bg=Math.min;function UJ(t,e){var n=t.getArea&&t.getArea();if(x1(t,"cartesian2d")){var r=t.getBaseAxis();if(r.type!=="category"||!r.onBand){var i=e.getLayout("bandWidth");r.isHorizontal()?(n.x-=i,n.width+=i*2):(n.y-=i,n.height+=i*2)}}return n}var WJ=function(t){ht(e,t);function e(){var n=t.call(this)||this;return n.type=e.type,n._isFirstFrame=!0,n}return e.prototype.render=function(n,r,i,a){this._model=n,this._removeOnRenderedListener(i),this._updateDrawMode(n);var o=n.get("coordinateSystem");(o==="cartesian2d"||o==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(n,r,i):this._renderNormal(n,r,i,a))},e.prototype.incrementalPrepareRender=function(n){this._clear(),this._updateDrawMode(n),this._updateLargeClip(n)},e.prototype.incrementalRender=function(n,r){this._progressiveEls=[],this._incrementalRenderLarge(n,r)},e.prototype.eachRendered=function(n){Yd(this._progressiveEls||this.group,n)},e.prototype._updateDrawMode=function(n){var r=n.pipelineContext.large;(this._isLargeDraw==null||r!==this._isLargeDraw)&&(this._isLargeDraw=r,this._clear())},e.prototype._renderNormal=function(n,r,i,a){var o=this.group,s=n.getData(),u=this._data,f=n.coordinateSystem,c=f.getBaseAxis(),d;f.type==="cartesian2d"?d=c.isHorizontal():f.type==="polar"&&(d=c.dim==="angle");var p=n.isAnimationEnabled()?n:null,v=qJ(n,f);v&&this._enableRealtimeSort(v,s,i);var y=n.get("clip",!0)||v,x=UJ(f,s);o.removeClipPath();var _=n.get("roundCap",!0),w=n.get("showBackground",!0),b=n.getModel("backgroundStyle"),S=b.get("borderRadius")||0,A=[],L=this._backgroundEls,P=a&&a.isInitSort,E=a&&a.type==="changeAxisOrder";function O(N){var D=Jf[f.type](s,N),G=ett(f,d,D);return G.useStyle(b.getItemStyle()),f.type==="cartesian2d"?G.setShape("r",S):G.setShape("cornerRadius",S),A[N]=G,G}s.diff(u).add(function(N){var D=s.getItemModel(N),G=Jf[f.type](s,N,D);if(w&&O(N),!(!s.hasValue(N)||!OT[f.type](G))){var X=!1;y&&(X=ET[f.type](x,G));var H=IT[f.type](n,s,N,G,d,p,c.model,!1,_);v&&(H.forceLabelAnimation=!0),NT(H,s,N,D,G,n,d,f.type==="polar"),P?H.attr({shape:G}):v?RT(v,p,H,G,N,d,!1,!1):dr(H,{shape:G},n,N),s.setItemGraphicEl(N,H),o.add(H),H.ignore=X}}).update(function(N,D){var G=s.getItemModel(N),X=Jf[f.type](s,N,G);if(w){var H=void 0;L.length===0?H=O(D):(H=L[D],H.useStyle(b.getItemStyle()),f.type==="cartesian2d"?H.setShape("r",S):H.setShape("cornerRadius",S),A[N]=H);var W=Jf[f.type](s,N),K=YI(d,W,f);hn(H,{shape:K},p,N)}var Q=u.getItemGraphicEl(D);if(!s.hasValue(N)||!OT[f.type](X)){o.remove(Q);return}var l=!1;if(y&&(l=ET[f.type](x,X),l&&o.remove(Q)),Q?qD(Q):Q=IT[f.type](n,s,N,X,d,p,c.model,!!Q,_),v&&(Q.forceLabelAnimation=!0),E){var h=Q.getTextContent();if(h){var g=qd(h);g.prevValue!=null&&(g.prevValue=g.value)}}else NT(Q,s,N,G,X,n,d,f.type==="polar");P?Q.attr({shape:X}):v?RT(v,p,Q,X,N,d,!0,E):hn(Q,{shape:X},n,N,null),s.setItemGraphicEl(N,Q),Q.ignore=l,o.add(Q)}).remove(function(N){var D=u.getItemGraphicEl(N);D&&iy(D,n,N)}).execute();var R=this._backgroundGroup||(this._backgroundGroup=new ce);R.removeAll();for(var C=0;C<A.length;++C)R.add(A[C]);o.add(R),this._backgroundEls=A,this._data=s},e.prototype._renderLarge=function(n,r,i){this._clear(),GT(n,this.group),this._updateLargeClip(n)},e.prototype._incrementalRenderLarge=function(n,r){this._removeBackground(),GT(r,this.group,this._progressiveEls,!0)},e.prototype._updateLargeClip=function(n){var r=n.get("clip",!0)&&SJ(n.coordinateSystem,!1,n),i=this.group;r?i.setClipPath(r):i.removeClipPath()},e.prototype._enableRealtimeSort=function(n,r,i){var a=this;if(r.count()){var o=n.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(r,n,i),this._isFirstFrame=!1;else{var s=function(u){var f=r.getItemGraphicEl(u),c=f&&f.shape;return c&&Math.abs(o.isHorizontal()?c.height:c.width)||0};this._onRendered=function(){a._updateSortWithinSameData(r,s,o,i)},i.getZr().on("rendered",this._onRendered)}}},e.prototype._dataSort=function(n,r,i){var a=[];return n.each(n.mapDimension(r.dim),function(o,s){var u=i(s);u=u??NaN,a.push({dataIndex:s,mappedValue:u,ordinalNumber:o})}),a.sort(function(o,s){return s.mappedValue-o.mappedValue}),{ordinalNumbers:at(a,function(o){return o.ordinalNumber})}},e.prototype._isOrderChangedWithinSameData=function(n,r,i){for(var a=i.scale,o=n.mapDimension(i.dim),s=Number.MAX_VALUE,u=0,f=a.getOrdinalMeta().categories.length;u<f;++u){var c=n.rawIndexOf(o,a.getRawOrdinalNumber(u)),d=c<0?Number.MIN_VALUE:r(n.indexOfRawIndex(c));if(d>s)return!0;s=d}return!1},e.prototype._isOrderDifferentInView=function(n,r){for(var i=r.scale,a=i.getExtent(),o=Math.max(0,a[0]),s=Math.min(a[1],i.getOrdinalMeta().categories.length-1);o<=s;++o)if(n.ordinalNumbers[o]!==i.getRawOrdinalNumber(o))return!0},e.prototype._updateSortWithinSameData=function(n,r,i,a){if(this._isOrderChangedWithinSameData(n,r,i)){var o=this._dataSort(n,i,r);this._isOrderDifferentInView(o,i)&&(this._removeOnRenderedListener(a),a.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",axisId:i.index,sortInfo:o}))}},e.prototype._dispatchInitSort=function(n,r,i){var a=r.baseAxis,o=this._dataSort(n,a,function(s){return n.get(n.mapDimension(r.otherAxis.dim),s)});i.dispatchAction({type:"changeAxisOrder",componentType:a.dim+"Axis",isInitSort:!0,axisId:a.index,sortInfo:o})},e.prototype.remove=function(n,r){this._clear(this._model),this._removeOnRenderedListener(r)},e.prototype.dispose=function(n,r){this._removeOnRenderedListener(r)},e.prototype._removeOnRenderedListener=function(n){this._onRendered&&(n.getZr().off("rendered",this._onRendered),this._onRendered=null)},e.prototype._clear=function(n){var r=this.group,i=this._data;n&&n.isAnimationEnabled()&&i&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],i.eachItemGraphicEl(function(a){iy(a,n,Ut(a).dataIndex)})):r.removeAll(),this._data=null,this._isFirstFrame=!0},e.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},e.type="bar",e}(Ir),ET={cartesian2d:function(t,e){var n=e.width<0?-1:1,r=e.height<0?-1:1;n<0&&(e.x+=e.width,e.width=-e.width),r<0&&(e.y+=e.height,e.height=-e.height);var i=t.x+t.width,a=t.y+t.height,o=wg(e.x,t.x),s=bg(e.x+e.width,i),u=wg(e.y,t.y),f=bg(e.y+e.height,a),c=s<o,d=f<u;return e.x=c&&o>i?s:o,e.y=d&&u>a?f:u,e.width=c?0:s-o,e.height=d?0:f-u,n<0&&(e.x+=e.width,e.width=-e.width),r<0&&(e.y+=e.height,e.height=-e.height),c||d},polar:function(t,e){var n=e.r0<=e.r?1:-1;if(n<0){var r=e.r;e.r=e.r0,e.r0=r}var i=bg(e.r,t.r),a=wg(e.r0,t.r0);e.r=i,e.r0=a;var o=i-a<0;if(n<0){var r=e.r;e.r=e.r0,e.r0=r}return o}},IT={cartesian2d:function(t,e,n,r,i,a,o,s,u){var f=new ie({shape:et({},r),z2:1});if(f.__dataIndex=n,f.name="item",a){var c=f.shape,d=i?"height":"width";c[d]=0}return f},polar:function(t,e,n,r,i,a,o,s,u){var f=!i&&u?DT:La,c=new f({shape:r,z2:1});c.name="item";var d=HI(i);if(c.calculateTextPosition=HJ(d,{isRoundCap:f===DT}),a){var p=c.shape,v=i?"r":"endAngle",y={};p[v]=i?r.r0:r.startAngle,y[v]=r[v],(s?hn:dr)(c,{shape:y},a)}return c}};function qJ(t,e){var n=t.get("realtimeSort",!0),r=e.getBaseAxis();if(n&&r.type==="category"&&e.type==="cartesian2d")return{baseAxis:r,otherAxis:e.getOtherAxis(r)}}function RT(t,e,n,r,i,a,o,s){var u,f;a?(f={x:r.x,width:r.width},u={y:r.y,height:r.height}):(f={y:r.y,height:r.height},u={x:r.x,width:r.width}),s||(o?hn:dr)(n,{shape:u},e,i,null);var c=e?t.baseAxis.model:null;(o?hn:dr)(n,{shape:f},c,i)}function kT(t,e){for(var n=0;n<e.length;n++)if(!isFinite(t[e[n]]))return!0;return!1}var ZJ=["x","y","width","height"],QJ=["cx","cy","r","startAngle","endAngle"],OT={cartesian2d:function(t){return!kT(t,ZJ)},polar:function(t){return!kT(t,QJ)}},Jf={cartesian2d:function(t,e,n){var r=t.getItemLayout(e),i=n?jJ(n,r):0,a=r.width>0?1:-1,o=r.height>0?1:-1;return{x:r.x+a*i/2,y:r.y+o*i/2,width:r.width-a*i,height:r.height-o*i}},polar:function(t,e,n){var r=t.getItemLayout(e);return{cx:r.cx,cy:r.cy,r0:r.r0,r:r.r,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}}};function KJ(t){return t.startAngle!=null&&t.endAngle!=null&&t.startAngle===t.endAngle}function HI(t){return function(e){var n=e?"Arc":"Angle";return function(r){switch(r){case"start":case"insideStart":case"end":case"insideEnd":return r+n;default:return r}}}(t)}function NT(t,e,n,r,i,a,o,s){var u=e.getItemVisual(n,"style");if(s){if(!a.get("roundCap")){var c=t.shape,d=XJ(r.getModel("itemStyle"),c,!0);et(c,d),t.setShape(c)}}else{var f=r.get(["itemStyle","borderRadius"])||0;t.setShape("r",f)}t.useStyle(u);var p=r.getShallow("cursor");p&&t.attr("cursor",p);var v=s?o?i.r>=i.r0?"endArc":"startArc":i.endAngle>=i.startAngle?"endAngle":"startAngle":o?i.height>=0?"bottom":"top":i.width>=0?"right":"left",y=Wd(r);Ud(t,y,{labelFetcher:a,labelDataIndex:n,defaultText:m1(a.getData(),n),inheritColor:u.fill,defaultOpacity:u.opacity,defaultOutsidePosition:v});var x=t.getTextContent();if(s&&x){var _=r.get(["label","position"]);t.textConfig.inside=_==="middle"?!0:null,YJ(t,_==="outside"?v:_,HI(o),r.get(["label","rotate"]))}JY(x,y,a.getRawValue(n),function(b){return EI(e,b)});var w=r.getModel(["emphasis"]);Ih(t,w.get("focus"),w.get("blurScope"),w.get("disabled")),ty(t,r),KJ(i)&&(t.style.fill="none",t.style.stroke="none",Y(t.states,function(b){b.style&&(b.style.fill=b.style.stroke="none")}))}function jJ(t,e){var n=t.get(["itemStyle","borderColor"]);if(!n||n==="none")return 0;var r=t.get(["itemStyle","borderWidth"])||0,i=isNaN(e.width)?Number.MAX_VALUE:Math.abs(e.width),a=isNaN(e.height)?Number.MAX_VALUE:Math.abs(e.height);return Math.min(r,i,a)}var JJ=function(){function t(){}return t}(),$T=function(t){ht(e,t);function e(n){var r=t.call(this,n)||this;return r.type="largeBar",r}return e.prototype.getDefaultShape=function(){return new JJ},e.prototype.buildPath=function(n,r){for(var i=r.points,a=this.baseDimIdx,o=1-this.baseDimIdx,s=[],u=[],f=this.barWidth,c=0;c<i.length;c+=3)u[a]=f,u[o]=i[c+2],s[a]=i[c+a],s[o]=i[c+o],n.rect(s[0],s[1],u[0],u[1])},e}(Rt);function GT(t,e,n,r){var i=t.getData(),a=i.getLayout("valueAxisHorizontal")?1:0,o=i.getLayout("largeDataIndices"),s=i.getLayout("size"),u=t.getModel("backgroundStyle"),f=i.getLayout("largeBackgroundPoints");if(f){var c=new $T({shape:{points:f},incremental:!!r,silent:!0,z2:0});c.baseDimIdx=a,c.largeDataIndices=o,c.barWidth=s,c.useStyle(u.getItemStyle()),e.add(c),n&&n.push(c)}var d=new $T({shape:{points:i.getLayout("largePoints")},incremental:!!r,ignoreCoarsePointer:!0,z2:1});d.baseDimIdx=a,d.largeDataIndices=o,d.barWidth=s,e.add(d),d.useStyle(i.getVisual("style")),Ut(d).seriesIndex=t.seriesIndex,t.get("silent")||(d.on("mousedown",VT),d.on("mousemove",VT)),n&&n.push(d)}var VT=Z_(function(t){var e=this,n=ttt(e,t.offsetX,t.offsetY);Ut(e).dataIndex=n>=0?n:null},30,!1);function ttt(t,e,n){for(var r=t.baseDimIdx,i=1-r,a=t.shape.points,o=t.largeDataIndices,s=[],u=[],f=t.barWidth,c=0,d=a.length/3;c<d;c++){var p=c*3;if(u[r]=f,u[i]=a[p+2],s[r]=a[p+r],s[i]=a[p+i],u[i]<0&&(s[i]+=u[i],u[i]=-u[i]),e>=s[0]&&e<=s[0]+u[0]&&n>=s[1]&&n<=s[1]+u[1])return o[c]}return-1}function YI(t,e,n){if(x1(n,"cartesian2d")){var r=e,i=n.getArea();return{x:t?r.x:i.x,y:t?i.y:r.y,width:t?r.width:i.width,height:t?i.height:r.height}}else{var i=n.getArea(),a=e;return{cx:i.cx,cy:i.cy,r0:t?i.r0:a.r0,r:t?i.r:a.r,startAngle:t?a.startAngle:0,endAngle:t?a.endAngle:Math.PI*2}}}function ett(t,e,n){var r=t.type==="polar"?La:ie;return new r({shape:YI(e,n,t),silent:!0,z2:0})}const ntt=WJ;function rtt(t){t.registerChartView(ntt),t.registerSeriesModel(FJ),t.registerLayout(t.PRIORITY.VISUAL.LAYOUT,zt(nZ,"bar")),t.registerLayout(t.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,rZ("bar")),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,BI("bar")),t.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(e,n){var r=e.componentType||"series";n.eachComponent({mainType:r,query:e},function(i){e.sortInfo&&i.axis.setCategorySortInfo(e.sortInfo)})})}var Jn=xi.CMD;function Mo(t,e){return Math.abs(t-e)<1e-5}function Hy(t){var e=t.data,n=t.len(),r=[],i,a=0,o=0,s=0,u=0;function f(G,X){i&&i.length>2&&r.push(i),i=[G,X]}function c(G,X,H,W){Mo(G,H)&&Mo(X,W)||i.push(G,X,H,W,H,W)}function d(G,X,H,W,K,Q){var l=Math.abs(X-G),h=Math.tan(l/4)*4/3,g=X<G?-1:1,m=Math.cos(G),T=Math.sin(G),M=Math.cos(X),I=Math.sin(X),k=m*K+H,V=T*Q+W,$=M*K+H,F=I*Q+W,z=K*h*g,U=Q*h*g;i.push(k-z*T,V+U*m,$+z*I,F-U*M,$,F)}for(var p,v,y,x,_=0;_<n;){var w=e[_++],b=_===1;switch(b&&(a=e[_],o=e[_+1],s=a,u=o,(w===Jn.L||w===Jn.C||w===Jn.Q)&&(i=[s,u])),w){case Jn.M:a=s=e[_++],o=u=e[_++],f(s,u);break;case Jn.L:p=e[_++],v=e[_++],c(a,o,p,v),a=p,o=v;break;case Jn.C:i.push(e[_++],e[_++],e[_++],e[_++],a=e[_++],o=e[_++]);break;case Jn.Q:p=e[_++],v=e[_++],y=e[_++],x=e[_++],i.push(a+2/3*(p-a),o+2/3*(v-o),y+2/3*(p-y),x+2/3*(v-x),y,x),a=y,o=x;break;case Jn.A:var S=e[_++],A=e[_++],L=e[_++],P=e[_++],E=e[_++],O=e[_++]+E;_+=1;var R=!e[_++];p=Math.cos(E)*L+S,v=Math.sin(E)*P+A,b?(s=p,u=v,f(s,u)):c(a,o,p,v),a=Math.cos(O)*L+S,o=Math.sin(O)*P+A;for(var C=(R?-1:1)*Math.PI/2,N=E;R?N>O:N<O;N+=C){var D=R?Math.max(N+C,O):Math.min(N+C,O);d(N,D,S,A,L,P)}break;case Jn.R:s=a=e[_++],u=o=e[_++],p=s+e[_++],v=u+e[_++],f(p,u),c(p,u,p,v),c(p,v,s,v),c(s,v,s,u),c(s,u,p,u);break;case Jn.Z:i&&c(a,o,s,u),a=s,o=u;break}}return i&&i.length>2&&r.push(i),r}function Yy(t,e,n,r,i,a,o,s,u,f){if(Mo(t,n)&&Mo(e,r)&&Mo(i,o)&&Mo(a,s)){u.push(o,s);return}var c=2/f,d=c*c,p=o-t,v=s-e,y=Math.sqrt(p*p+v*v);p/=y,v/=y;var x=n-t,_=r-e,w=i-o,b=a-s,S=x*x+_*_,A=w*w+b*b;if(S<d&&A<d){u.push(o,s);return}var L=p*x+v*_,P=-p*w-v*b,E=S-L*L,O=A-P*P;if(E<d&&L>=0&&O<d&&P>=0){u.push(o,s);return}var R=[],C=[];mi(t,n,i,o,.5,R),mi(e,r,a,s,.5,C),Yy(R[0],C[0],R[1],C[1],R[2],C[2],R[3],C[3],u,f),Yy(R[4],C[4],R[5],C[5],R[6],C[6],R[7],C[7],u,f)}function itt(t,e){var n=Hy(t),r=[];e=e||1;for(var i=0;i<n.length;i++){var a=n[i],o=[],s=a[0],u=a[1];o.push(s,u);for(var f=2;f<a.length;){var c=a[f++],d=a[f++],p=a[f++],v=a[f++],y=a[f++],x=a[f++];Yy(s,u,c,d,p,v,y,x,o,e),s=y,u=x}r.push(o)}return r}function XI(t,e,n){var r=t[e],i=t[1-e],a=Math.abs(r/i),o=Math.ceil(Math.sqrt(a*n)),s=Math.floor(n/o);s===0&&(s=1,o=n);for(var u=[],f=0;f<o;f++)u.push(s);var c=o*s,d=n-c;if(d>0)for(var f=0;f<d;f++)u[f%o]+=1;return u}function FT(t,e,n){for(var r=t.r0,i=t.r,a=t.startAngle,o=t.endAngle,s=Math.abs(o-a),u=s*i,f=i-r,c=u>Math.abs(f),d=XI([u,f],c?0:1,e),p=(c?s:f)/d.length,v=0;v<d.length;v++)for(var y=(c?f:s)/d[v],x=0;x<d[v];x++){var _={};c?(_.startAngle=a+p*v,_.endAngle=a+p*(v+1),_.r0=r+y*x,_.r=r+y*(x+1)):(_.startAngle=a+y*x,_.endAngle=a+y*(x+1),_.r0=r+p*v,_.r=r+p*(v+1)),_.clockwise=t.clockwise,_.cx=t.cx,_.cy=t.cy,n.push(_)}}function att(t,e,n){for(var r=t.width,i=t.height,a=r>i,o=XI([r,i],a?0:1,e),s=a?"width":"height",u=a?"height":"width",f=a?"x":"y",c=a?"y":"x",d=t[s]/o.length,p=0;p<o.length;p++)for(var v=t[u]/o[p],y=0;y<o[p];y++){var x={};x[f]=p*d,x[c]=y*v,x[s]=d,x[u]=v,x.x+=t.x,x.y+=t.y,n.push(x)}}function BT(t,e,n,r){return t*r-n*e}function ott(t,e,n,r,i,a,o,s){var u=n-t,f=r-e,c=o-i,d=s-a,p=BT(c,d,u,f);if(Math.abs(p)<1e-6)return null;var v=t-i,y=e-a,x=BT(v,y,c,d)/p;return x<0||x>1?null:new kt(x*u+t,x*f+e)}function stt(t,e,n){var r=new kt;kt.sub(r,n,e),r.normalize();var i=new kt;kt.sub(i,t,e);var a=i.dot(r);return a}function ho(t,e){var n=t[t.length-1];n&&n[0]===e[0]&&n[1]===e[1]||t.push(e)}function utt(t,e,n){for(var r=t.length,i=[],a=0;a<r;a++){var o=t[a],s=t[(a+1)%r],u=ott(o[0],o[1],s[0],s[1],e.x,e.y,n.x,n.y);u&&i.push({projPt:stt(u,e,n),pt:u,idx:a})}if(i.length<2)return[{points:t},{points:t}];i.sort(function(_,w){return _.projPt-w.projPt});var f=i[0],c=i[i.length-1];if(c.idx<f.idx){var d=f;f=c,c=d}for(var p=[f.pt.x,f.pt.y],v=[c.pt.x,c.pt.y],y=[p],x=[v],a=f.idx+1;a<=c.idx;a++)ho(y,t[a].slice());ho(y,v),ho(y,p);for(var a=c.idx+1;a<=f.idx+r;a++)ho(x,t[a%r].slice());return ho(x,p),ho(x,v),[{points:y},{points:x}]}function zT(t){var e=t.points,n=[],r=[];uD(e,n,r);var i=new Nt(n[0],n[1],r[0]-n[0],r[1]-n[1]),a=i.width,o=i.height,s=i.x,u=i.y,f=new kt,c=new kt;return a>o?(f.x=c.x=s+a/2,f.y=u,c.y=u+o):(f.y=c.y=u+o/2,f.x=s,c.x=s+a),utt(e,f,c)}function Xh(t,e,n,r){if(n===1)r.push(e);else{var i=Math.floor(n/2),a=t(e);Xh(t,a[0],i,r),Xh(t,a[1],n-i,r)}return r}function ltt(t,e){for(var n=[],r=0;r<e;r++)n.push(C_(t));return n}function ftt(t,e){e.setStyle(t.style),e.z=t.z,e.z2=t.z2,e.zlevel=t.zlevel}function ctt(t){for(var e=[],n=0;n<t.length;)e.push([t[n++],t[n++]]);return e}function htt(t,e){var n=[],r=t.shape,i;switch(t.type){case"rect":att(r,e,n),i=ie;break;case"sector":FT(r,e,n),i=La;break;case"circle":FT({r0:0,r:r.r,startAngle:0,endAngle:Math.PI*2,cx:r.cx,cy:r.cy},e,n),i=La;break;default:var a=t.getComputedTransform(),o=a?Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1],a[2]*a[2]+a[3]*a[3])):1,s=at(itt(t.getUpdatedPathProxy(),o),function(w){return ctt(w)}),u=s.length;if(u===0)Xh(zT,{points:s[0]},e,n);else if(u===e)for(var f=0;f<u;f++)n.push({points:s[f]});else{var c=0,d=at(s,function(w){var b=[],S=[];uD(w,b,S);var A=(S[1]-b[1])*(S[0]-b[0]);return c+=A,{poly:w,area:A}});d.sort(function(w,b){return b.area-w.area});for(var p=e,f=0;f<u;f++){var v=d[f];if(p<=0)break;var y=f===u-1?p:Math.ceil(v.area/c*e);y<0||(Xh(zT,{points:v.poly},y,n),p-=y)}}i=Fd;break}if(!i)return ltt(t,e);for(var x=[],f=0;f<n.length;f++){var _=new i;_.setShape(n[f]),ftt(t,_),x.push(_)}return x}function dtt(t,e){var n=t.length,r=e.length;if(n===r)return[t,e];for(var i=[],a=[],o=n<r?t:e,s=Math.min(n,r),u=Math.abs(r-n)/6,f=(s-2)/6,c=Math.ceil(u/f)+1,d=[o[0],o[1]],p=u,v=2;v<s;){var y=o[v-2],x=o[v-1],_=o[v++],w=o[v++],b=o[v++],S=o[v++],A=o[v++],L=o[v++];if(p<=0){d.push(_,w,b,S,A,L);continue}for(var P=Math.min(p,c-1)+1,E=1;E<=P;E++){var O=E/P;mi(y,_,b,A,O,i),mi(x,w,S,L,O,a),y=i[3],x=a[3],d.push(i[1],a[1],i[2],a[2],y,x),_=i[5],w=a[5],b=i[6],S=a[6]}p-=P-1}return o===t?[d,e]:[t,d]}function HT(t,e){for(var n=t.length,r=t[n-2],i=t[n-1],a=[],o=0;o<e.length;)a[o++]=r,a[o++]=i;return a}function ptt(t,e){for(var n,r,i,a=[],o=[],s=0;s<Math.max(t.length,e.length);s++){var u=t[s],f=e[s],c=void 0,d=void 0;u?f?(n=dtt(u,f),c=n[0],d=n[1],r=c,i=d):(d=HT(i||u,u),c=u):(c=HT(r||f,f),d=f),a.push(c),o.push(d)}return[a,o]}function YT(t){for(var e=0,n=0,r=0,i=t.length,a=0,o=i-2;a<i;o=a,a+=2){var s=t[o],u=t[o+1],f=t[a],c=t[a+1],d=s*c-f*u;e+=d,n+=(s+f)*d,r+=(u+c)*d}return e===0?[t[0]||0,t[1]||0]:[n/e/3,r/e/3,e]}function vtt(t,e,n,r){for(var i=(t.length-2)/6,a=1/0,o=0,s=t.length,u=s-2,f=0;f<i;f++){for(var c=f*6,d=0,p=0;p<s;p+=2){var v=p===0?c:(c+p-2)%u+2,y=t[v]-n[0],x=t[v+1]-n[1],_=e[p]-r[0],w=e[p+1]-r[1],b=_-y,S=w-x;d+=b*b+S*S}d<a&&(a=d,o=f)}return o}function gtt(t){for(var e=[],n=t.length,r=0;r<n;r+=2)e[r]=t[n-r-2],e[r+1]=t[n-r-1];return e}function ytt(t,e,n,r){for(var i=[],a,o=0;o<t.length;o++){var s=t[o],u=e[o],f=YT(s),c=YT(u);a==null&&(a=f[2]<0!=c[2]<0);var d=[],p=[],v=0,y=1/0,x=[],_=s.length;a&&(s=gtt(s));for(var w=vtt(s,u,f,c)*6,b=_-2,S=0;S<b;S+=2){var A=(w+S)%b+2;d[S+2]=s[A]-f[0],d[S+3]=s[A+1]-f[1]}if(d[0]=s[w]-f[0],d[1]=s[w+1]-f[1],n>0)for(var L=r/n,P=-r/2;P<=r/2;P+=L){for(var E=Math.sin(P),O=Math.cos(P),R=0,S=0;S<s.length;S+=2){var C=d[S],N=d[S+1],D=u[S]-c[0],G=u[S+1]-c[1],X=D*O-G*E,H=D*E+G*O;x[S]=X,x[S+1]=H;var W=X-C,K=H-N;R+=W*W+K*K}if(R<y){y=R,v=P;for(var Q=0;Q<x.length;Q++)p[Q]=x[Q]}}else for(var l=0;l<_;l+=2)p[l]=u[l]-c[0],p[l+1]=u[l+1]-c[1];i.push({from:d,to:p,fromCp:f,toCp:c,rotation:-v})}return i}function Uh(t){return t.__isCombineMorphing}var UI="__mOriginal_";function Wh(t,e,n){var r=UI+e,i=t[r]||t[e];t[r]||(t[r]=t[e]);var a=n.replace,o=n.after,s=n.before;t[e]=function(){var u=arguments,f;return s&&s.apply(this,u),a?f=a.apply(this,u):f=i.apply(this,u),o&&o.apply(this,u),f}}function zu(t,e){var n=UI+e;t[n]&&(t[e]=t[n],t[n]=null)}function XT(t,e){for(var n=0;n<t.length;n++)for(var r=t[n],i=0;i<r.length;){var a=r[i],o=r[i+1];r[i++]=e[0]*a+e[2]*o+e[4],r[i++]=e[1]*a+e[3]*o+e[5]}}function WI(t,e){var n=t.getUpdatedPathProxy(),r=e.getUpdatedPathProxy(),i=ptt(Hy(n),Hy(r)),a=i[0],o=i[1],s=t.getComputedTransform(),u=e.getComputedTransform();function f(){this.transform=null}s&&XT(a,s),u&&XT(o,u),Wh(e,"updateTransform",{replace:f}),e.transform=null;var c=ytt(a,o,10,Math.PI),d=[];Wh(e,"buildPath",{replace:function(p){for(var v=e.__morphT,y=1-v,x=[],_=0;_<c.length;_++){var w=c[_],b=w.from,S=w.to,A=w.rotation*v,L=w.fromCp,P=w.toCp,E=Math.sin(A),O=Math.cos(A);qF(x,L,P,v);for(var R=0;R<b.length;R+=2){var C=b[R],N=b[R+1],D=S[R],G=S[R+1],X=C*y+D*v,H=N*y+G*v;d[R]=X*O-H*E+x[0],d[R+1]=X*E+H*O+x[1]}var W=d[0],K=d[1];p.moveTo(W,K);for(var R=2;R<b.length;){var D=d[R++],G=d[R++],Q=d[R++],l=d[R++],h=d[R++],g=d[R++];W===D&&K===G&&Q===h&&l===g?p.lineTo(h,g):p.bezierCurveTo(D,G,Q,l,h,g),W=h,K=g}}}})}function w1(t,e,n){if(!t||!e)return e;var r=n.done,i=n.during;WI(t,e),e.__morphT=0;function a(){zu(e,"buildPath"),zu(e,"updateTransform"),e.__morphT=-1,e.createPathProxy(),e.dirtyShape()}return e.animateTo({__morphT:1},bt({during:function(o){e.dirtyShape(),i&&i(o)},done:function(){a(),r&&r()}},n)),e}function mtt(t,e,n,r,i,a){var o=16;t=i===n?0:Math.round(32767*(t-n)/(i-n)),e=a===r?0:Math.round(32767*(e-r)/(a-r));for(var s=0,u,f=(1<<o)/2;f>0;f/=2){var c=0,d=0;(t&f)>0&&(c=1),(e&f)>0&&(d=1),s+=f*f*(3*c^d),d===0&&(c===1&&(t=f-1-t,e=f-1-e),u=t,t=e,e=u)}return s}function qh(t){var e=1/0,n=1/0,r=-1/0,i=-1/0,a=at(t,function(s){var u=s.getBoundingRect(),f=s.getComputedTransform(),c=u.x+u.width/2+(f?f[4]:0),d=u.y+u.height/2+(f?f[5]:0);return e=Math.min(c,e),n=Math.min(d,n),r=Math.max(c,r),i=Math.max(d,i),[c,d]}),o=at(a,function(s,u){return{cp:s,z:mtt(s[0],s[1],e,n,r,i),path:t[u]}});return o.sort(function(s,u){return s.z-u.z}).map(function(s){return s.path})}function qI(t){return htt(t.path,t.count)}function Xy(){return{fromIndividuals:[],toIndividuals:[],count:0}}function _tt(t,e,n){var r=[];function i(L){for(var P=0;P<L.length;P++){var E=L[P];Uh(E)?i(E.childrenRef()):E instanceof Rt&&r.push(E)}}i(t);var a=r.length;if(!a)return Xy();var o=n.dividePath||qI,s=o({path:e,count:a});if(s.length!==a)return console.error("Invalid morphing: unmatched splitted path"),Xy();r=qh(r),s=qh(s);for(var u=n.done,f=n.during,c=n.individualDelay,d=new Id,p=0;p<a;p++){var v=r[p],y=s[p];y.parent=e,y.copyTransform(d),c||WI(v,y)}e.__isCombineMorphing=!0,e.childrenRef=function(){return s};function x(L){for(var P=0;P<s.length;P++)s[P].addSelfToZr(L)}Wh(e,"addSelfToZr",{after:function(L){x(L)}}),Wh(e,"removeSelfFromZr",{after:function(L){for(var P=0;P<s.length;P++)s[P].removeSelfFromZr(L)}});function _(){e.__isCombineMorphing=!1,e.__morphT=-1,e.childrenRef=null,zu(e,"addSelfToZr"),zu(e,"removeSelfFromZr")}var w=s.length;if(c)for(var b=w,S=function(){b--,b===0&&(_(),u&&u())},p=0;p<w;p++){var A=c?bt({delay:(n.delay||0)+c(p,w,r[p],s[p]),done:S},n):n;w1(r[p],s[p],A)}else e.__morphT=0,e.animateTo({__morphT:1},bt({during:function(L){for(var P=0;P<w;P++){var E=s[P];E.__morphT=e.__morphT,E.dirtyShape()}f&&f(L)},done:function(){_();for(var L=0;L<t.length;L++)zu(t[L],"updateTransform");u&&u()}},n));return e.__zr&&x(e.__zr),{fromIndividuals:r,toIndividuals:s,count:w}}function xtt(t,e,n){var r=e.length,i=[],a=n.dividePath||qI;function o(v){for(var y=0;y<v.length;y++){var x=v[y];Uh(x)?o(x.childrenRef()):x instanceof Rt&&i.push(x)}}if(Uh(t)){o(t.childrenRef());var s=i.length;if(s<r)for(var u=0,f=s;f<r;f++)i.push(C_(i[u++%s]));i.length=r}else{i=a({path:t,count:r});for(var c=t.getComputedTransform(),f=0;f<i.length;f++)i[f].setLocalTransform(c);if(i.length!==r)return console.error("Invalid morphing: unmatched splitted path"),Xy()}i=qh(i),e=qh(e);for(var d=n.individualDelay,f=0;f<r;f++){var p=d?bt({delay:(n.delay||0)+d(f,r,i[f],e[f])},n):n;w1(i[f],e[f],p)}return{fromIndividuals:i,toIndividuals:e,count:e.length}}function UT(t){return nt(t[0])}function WT(t,e){for(var n=[],r=t.length,i=0;i<r;i++)n.push({one:t[i],many:[]});for(var i=0;i<e.length;i++){var a=e[i].length,o=void 0;for(o=0;o<a;o++)n[o%r].many.push(e[i][o])}for(var s=0,i=r-1;i>=0;i--)if(!n[i].many.length){var u=n[s].many;if(u.length<=1)if(s)s=0;else return n;var a=u.length,f=Math.ceil(a/2);n[i].many=u.slice(f,a),n[s].many=u.slice(0,f),s++}return n}var wtt={clone:function(t){for(var e=[],n=1-Math.pow(1-t.path.style.opacity,1/t.count),r=0;r<t.count;r++){var i=C_(t.path);i.setStyle("opacity",n),e.push(i)}return e},split:null};function Sg(t,e,n,r,i,a){if(!t.length||!e.length)return;var o=Bd("update",r,i);if(!(o&&o.duration>0))return;var s=r.getModel("universalTransition").get("delay"),u=Object.assign({setToFinal:!0},o),f,c;UT(t)&&(f=t,c=e),UT(e)&&(f=e,c=t);function d(w,b,S,A,L){var P=w.many,E=w.one;if(P.length===1&&!L){var O=b?P[0]:E,R=b?E:P[0];if(Uh(O))d({many:[O],one:R},!0,S,A,!0);else{var C=s?bt({delay:s(S,A)},u):u;w1(O,R,C),a(O,R,O,R,C)}}else for(var N=bt({dividePath:wtt[n],individualDelay:s&&function(K,Q,l,h){return s(K+S,A)}},u),D=b?_tt(P,E,N):xtt(E,P,N),G=D.fromIndividuals,X=D.toIndividuals,H=G.length,W=0;W<H;W++){var C=s?bt({delay:s(W,H)},u):u;a(G[W],X[W],b?P[W]:w.one,b?w.one:P[W],C)}}for(var p=f?f===t:t.length>e.length,v=f?WT(c,f):WT(p?e:t,[p?t:e]),y=0,x=0;x<v.length;x++)y+=v[x].many.length;for(var _=0,x=0;x<v.length;x++)d(v[x],p,_,y),_+=v[x].many.length}function ta(t){if(!t)return[];if(nt(t)){for(var e=[],n=0;n<t.length;n++)e.push(ta(t[n]));return e}var r=[];return t.traverse(function(i){i instanceof Rt&&!i.disableMorphing&&!i.invisible&&!i.ignore&&r.push(i)}),r}var ZI=1e4,btt=ae();function Stt(t){for(var e=t.dimensions,n=0;n<e.length;n++){var r=t.getDimensionInfo(e[n]);if(r&&r.otherDims.itemGroupId===0)return e[n]}}function qT(t){var e=[];return Y(t,function(n){var r=n.data;if(!(r.count()>ZI))for(var i=r.getIndices(),a=Stt(r),o=0;o<i.length;o++)e.push({dataGroupId:n.dataGroupId,data:r,dim:n.dim||a,divide:n.divide,dataIndex:o})}),e}function Tg(t,e,n){t.traverse(function(r){r instanceof Rt&&dr(r,{style:{opacity:0}},e,{dataIndex:n,isFrom:!0})})}function Ag(t){if(t.parent){var e=t.getComputedTransform();t.setLocalTransform(e),t.parent.remove(t)}}function po(t){t.stopAnimation(),t.isGroup&&t.traverse(function(e){e.stopAnimation()})}function Ttt(t,e,n){var r=Bd("update",n,e);r&&t.traverse(function(i){if(i instanceof gs){var a=NY(i);a&&i.animateFrom({style:a},r)}})}function Att(t,e){var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++){var i=t[r],a=e[r];if(i.data.getId(i.dataIndex)!==a.data.getId(a.dataIndex))return!1}return!0}function QI(t,e,n){var r=qT(t),i=qT(e);function a(w,b,S,A,L){(S||w)&&b.animateFrom({style:S&&S!==w?et(et({},S.style),w.style):w.style},L)}function o(w){for(var b=0;b<w.length;b++)if(w[b].dim)return w[b].dim}var s=o(r),u=o(i),f=!1;function c(w,b){return function(S){var A=S.data,L=S.dataIndex;if(b)return A.getId(L);var P=S.dataGroupId,E=w?s||u:u||s,O=E&&A.getDimensionInfo(E),R=O&&O.ordinalMeta;if(O){var C=A.get(O.name,L);return R&&R.categories[C]||C+""}var N=A.getRawDataItem(L);return N&&N.groupId?N.groupId+"":P||A.getId(L)}}var d=Att(r,i),p={};if(!d)for(var v=0;v<i.length;v++){var y=i[v],x=y.data.getItemGraphicEl(y.dataIndex);x&&(p[x.id]=!0)}function _(w,b){var S=r[b],A=i[w],L=A.data.hostModel,P=S.data.getItemGraphicEl(S.dataIndex),E=A.data.getItemGraphicEl(A.dataIndex);if(P===E){E&&Ttt(E,A.dataIndex,L);return}P&&p[P.id]||E&&(po(E),P?(po(P),Ag(P),f=!0,Sg(ta(P),ta(E),A.divide,L,w,a)):Tg(E,L,w))}new Sl(r,i,c(!0,d),c(!1,d),null,"multiple").update(_).updateManyToOne(function(w,b){var S=i[w],A=S.data,L=A.hostModel,P=A.getItemGraphicEl(S.dataIndex),E=pe(at(b,function(O){return r[O].data.getItemGraphicEl(r[O].dataIndex)}),function(O){return O&&O!==P&&!p[O.id]});P&&(po(P),E.length?(Y(E,function(O){po(O),Ag(O)}),f=!0,Sg(ta(E),ta(P),S.divide,L,w,a)):Tg(P,L,S.dataIndex))}).updateOneToMany(function(w,b){var S=r[b],A=S.data.getItemGraphicEl(S.dataIndex);if(!(A&&p[A.id])){var L=pe(at(w,function(E){return i[E].data.getItemGraphicEl(i[E].dataIndex)}),function(E){return E&&E!==A}),P=i[w[0]].data.hostModel;L.length&&(Y(L,function(E){return po(E)}),A?(po(A),Ag(A),f=!0,Sg(ta(A),ta(L),S.divide,P,w[0],a)):Y(L,function(E){return Tg(E,P,w[0])}))}}).updateManyToMany(function(w,b){new Sl(b,w,function(S){return r[S].data.getId(r[S].dataIndex)},function(S){return i[S].data.getId(i[S].dataIndex)}).update(function(S,A){_(w[S],b[A])}).execute()}).execute(),f&&Y(e,function(w){var b=w.data,S=b.hostModel,A=S&&n.getViewOfSeriesModel(S),L=Bd("update",S,0);A&&S.isAnimationEnabled()&&L&&L.duration>0&&A.group.traverse(function(P){P instanceof Rt&&!P.animators.length&&P.animateFrom({style:{opacity:0}},L)})})}function ZT(t){var e=t.getModel("universalTransition").get("seriesKey");return e||t.id}function QT(t){return nt(t)?t.sort().join(","):t}function ri(t){if(t.hostModel)return t.hostModel.getModel("universalTransition").get("divideShape")}function Ctt(t,e){var n=yt(),r=yt(),i=yt();return Y(t.oldSeries,function(a,o){var s=t.oldDataGroupIds[o],u=t.oldData[o],f=ZT(a),c=QT(f);r.set(c,{dataGroupId:s,data:u}),nt(f)&&Y(f,function(d){i.set(d,{key:c,dataGroupId:s,data:u})})}),Y(e.updatedSeries,function(a){if(a.isUniversalTransitionEnabled()&&a.isAnimationEnabled()){var o=a.get("dataGroupId"),s=a.getData(),u=ZT(a),f=QT(u),c=r.get(f);if(c)n.set(f,{oldSeries:[{dataGroupId:c.dataGroupId,divide:ri(c.data),data:c.data}],newSeries:[{dataGroupId:o,divide:ri(s),data:s}]});else if(nt(u)){var d=[];Y(u,function(y){var x=r.get(y);x.data&&d.push({dataGroupId:x.dataGroupId,divide:ri(x.data),data:x.data})}),d.length&&n.set(f,{oldSeries:d,newSeries:[{dataGroupId:o,data:s,divide:ri(s)}]})}else{var p=i.get(u);if(p){var v=n.get(p.key);v||(v={oldSeries:[{dataGroupId:p.dataGroupId,data:p.data,divide:ri(p.data)}],newSeries:[]},n.set(p.key,v)),v.newSeries.push({dataGroupId:o,data:s,divide:ri(s)})}}}}),n}function KT(t,e){for(var n=0;n<t.length;n++){var r=e.seriesIndex!=null&&e.seriesIndex===t[n].seriesIndex||e.seriesId!=null&&e.seriesId===t[n].id;if(r)return n}}function Mtt(t,e,n,r){var i=[],a=[];Y(se(t.from),function(o){var s=KT(e.oldSeries,o);s>=0&&i.push({dataGroupId:e.oldDataGroupIds[s],data:e.oldData[s],divide:ri(e.oldData[s]),dim:o.dimension})}),Y(se(t.to),function(o){var s=KT(n.updatedSeries,o);if(s>=0){var u=n.updatedSeries[s].getData();a.push({dataGroupId:e.oldDataGroupIds[s],data:u,divide:ri(u),dim:o.dimension})}}),i.length>0&&a.length>0&&QI(i,a,r)}function Ptt(t){t.registerUpdateLifecycle("series:beforeupdate",function(e,n,r){Y(se(r.seriesTransition),function(i){Y(se(i.to),function(a){for(var o=r.updatedSeries,s=0;s<o.length;s++)(a.seriesIndex!=null&&a.seriesIndex===o[s].seriesIndex||a.seriesId!=null&&a.seriesId===o[s].id)&&(o[s][Ac]=!0)})})}),t.registerUpdateLifecycle("series:transition",function(e,n,r){var i=btt(n);if(i.oldSeries&&r.updatedSeries&&r.optionChanged){var a=r.seriesTransition;if(a)Y(se(a),function(v){Mtt(v,i,r,n)});else{var o=Ctt(i,r);Y(o.keys(),function(v){var y=o.get(v);QI(y.oldSeries,y.newSeries,n)})}Y(r.updatedSeries,function(v){v[Ac]&&(v[Ac]=!1)})}for(var s=e.getSeries(),u=i.oldSeries=[],f=i.oldDataGroupIds=[],c=i.oldData=[],d=0;d<s.length;d++){var p=s[d].getData();p.count()<ZI&&(u.push(s[d]),f.push(s[d].get("dataGroupId")),c.push(p))}})}function jT(t,e,n){var r=ds.createCanvas(),i=e.getWidth(),a=e.getHeight(),o=r.style;return o&&(o.position="absolute",o.left="0",o.top="0",o.width=i+"px",o.height=a+"px",r.setAttribute("data-zr-dom-id",t)),r.width=i*n,r.height=a*n,r}var Ltt=function(t){Yt(e,t);function e(n,r,i){var a=t.call(this)||this;a.motionBlur=!1,a.lastFrameAlpha=.7,a.dpr=1,a.virtual=!1,a.config={},a.incremental=!1,a.zlevel=0,a.maxRepaintRectCount=5,a.__dirty=!0,a.__firstTimePaint=!0,a.__used=!1,a.__drawIndex=0,a.__startIndex=0,a.__endIndex=0,a.__prevStartIndex=null,a.__prevEndIndex=null;var o;i=i||Ph,typeof n=="string"?o=jT(n,r,i):pt(n)&&(o=n,n=o.id),a.id=n,a.dom=o;var s=o.style;return s&&(SL(o),o.onselectstart=function(){return!1},s.padding="0",s.margin="0",s.borderWidth="0"),a.painter=r,a.dpr=i,a}return e.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},e.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},e.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},e.prototype.setUnpainted=function(){this.__firstTimePaint=!0},e.prototype.createBackBuffer=function(){var n=this.dpr;this.domBack=jT("back-"+this.id,this.painter,n),this.ctxBack=this.domBack.getContext("2d"),n!==1&&this.ctxBack.scale(n,n)},e.prototype.createRepaintRects=function(n,r,i,a){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var o=[],s=this.maxRepaintRectCount,u=!1,f=new Nt(0,0,0,0);function c(b){if(!(!b.isFinite()||b.isZero()))if(o.length===0){var S=new Nt(0,0,0,0);S.copy(b),o.push(S)}else{for(var A=!1,L=1/0,P=0,E=0;E<o.length;++E){var O=o[E];if(O.intersect(b)){var R=new Nt(0,0,0,0);R.copy(O),R.union(b),o[E]=R,A=!0;break}else if(u){f.copy(b),f.union(O);var C=b.width*b.height,N=O.width*O.height,D=f.width*f.height,G=D-C-N;G<L&&(L=G,P=E)}}if(u&&(o[P].union(b),A=!0),!A){var S=new Nt(0,0,0,0);S.copy(b),o.push(S)}u||(u=o.length>=s)}}for(var d=this.__startIndex;d<this.__endIndex;++d){var p=n[d];if(p){var v=p.shouldBePainted(i,a,!0,!0),y=p.__isRendered&&(p.__dirty&un||!v)?p.getPrevPaintRect():null;y&&c(y);var x=v&&(p.__dirty&un||!p.__isRendered)?p.getPaintRect():null;x&&c(x)}}for(var d=this.__prevStartIndex;d<this.__prevEndIndex;++d){var p=r[d],v=p.shouldBePainted(i,a,!0,!0);if(p&&(!v||!p.__zr)&&p.__isRendered){var y=p.getPrevPaintRect();y&&c(y)}}var _;do{_=!1;for(var d=0;d<o.length;){if(o[d].isZero()){o.splice(d,1);continue}for(var w=d+1;w<o.length;)o[d].intersect(o[w])?(_=!0,o[d].union(o[w]),o.splice(w,1)):w++;d++}}while(_);return this._paintRects=o,o},e.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},e.prototype.resize=function(n,r){var i=this.dpr,a=this.dom,o=a.style,s=this.domBack;o&&(o.width=n+"px",o.height=r+"px"),a.width=n*i,a.height=r*i,s&&(s.width=n*i,s.height=r*i,i!==1&&this.ctxBack.scale(i,i))},e.prototype.clear=function(n,r,i){var a=this.dom,o=this.ctx,s=a.width,u=a.height;r=r||this.clearColor;var f=this.motionBlur&&!n,c=this.lastFrameAlpha,d=this.dpr,p=this;f&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(a,0,0,s/d,u/d));var v=this.domBack;function y(x,_,w,b){if(o.clearRect(x,_,w,b),r&&r!=="transparent"){var S=void 0;if(Ld(r)){var A=r.global||r.__width===w&&r.__height===b;S=A&&r.__canvasGradient||gy(o,r,{x:0,y:0,width:w,height:b}),r.__canvasGradient=S,r.__width=w,r.__height=b}else OF(r)&&(r.scaleX=r.scaleX||d,r.scaleY=r.scaleY||d,S=yy(o,r,{dirty:function(){p.setUnpainted(),p.__painter.refresh()}}));o.save(),o.fillStyle=S||r,o.fillRect(x,_,w,b),o.restore()}f&&(o.save(),o.globalAlpha=c,o.drawImage(v,x,_,w,b),o.restore())}!i||f?y(0,0,s,u):i.length&&Y(i,function(x){y(x.x*d,x.y*d,x.width*d,x.height*d)})},e}(Yn);const Cg=Ltt;var JT=1e5,Qi=314159,tc=.01,Dtt=.001;function Ett(t){return t?t.__builtin__?!0:!(typeof t.resize!="function"||typeof t.refresh!="function"):!1}function Itt(t,e){var n=document.createElement("div");return n.style.cssText=["position:relative","width:"+t+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",n}var Rtt=function(){function t(e,n,r,i){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var a=!e.nodeName||e.nodeName.toUpperCase()==="CANVAS";this._opts=r=et({},r||{}),this.dpr=r.devicePixelRatio||Ph,this._singleCanvas=a,this.root=e;var o=e.style;o&&(SL(e),e.innerHTML=""),this.storage=n;var s=this._zlevelList;this._prevDisplayList=[];var u=this._layers;if(a){var c=e,d=c.width,p=c.height;r.width!=null&&(d=r.width),r.height!=null&&(p=r.height),this.dpr=r.devicePixelRatio||1,c.width=d*this.dpr,c.height=p*this.dpr,this._width=d,this._height=p;var v=new Cg(c,this,this.dpr);v.__builtin__=!0,v.initContext(),u[Qi]=v,v.zlevel=Qi,s.push(Qi),this._domRoot=e}else{this._width=Bf(e,0,r),this._height=Bf(e,1,r);var f=this._domRoot=Itt(this._width,this._height);e.appendChild(f)}}return t.prototype.getType=function(){return"canvas"},t.prototype.isSingleCanvas=function(){return this._singleCanvas},t.prototype.getViewportRoot=function(){return this._domRoot},t.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},t.prototype.refresh=function(e){var n=this.storage.getDisplayList(!0),r=this._prevDisplayList,i=this._zlevelList;this._redrawId=Math.random(),this._paintList(n,r,e,this._redrawId);for(var a=0;a<i.length;a++){var o=i[a],s=this._layers[o];if(!s.__builtin__&&s.refresh){var u=a===0?this._backgroundColor:null;s.refresh(u)}}return this._opts.useDirtyRect&&(this._prevDisplayList=n.slice()),this},t.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},t.prototype._paintHoverList=function(e){var n=e.length,r=this._hoverlayer;if(r&&r.clear(),!!n){for(var i={inHover:!0,viewWidth:this._width,viewHeight:this._height},a,o=0;o<n;o++){var s=e[o];s.__inHover&&(r||(r=this._hoverlayer=this.getLayer(JT)),a||(a=r.ctx,a.save()),ua(a,s,i,o===n-1))}a&&a.restore()}},t.prototype.getHoverLayer=function(){return this.getLayer(JT)},t.prototype.paintOne=function(e,n){r3(e,n)},t.prototype._paintList=function(e,n,r,i){if(this._redrawId===i){r=r||!1,this._updateLayerStatus(e);var a=this._doPaintList(e,n,r),o=a.finished,s=a.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),s&&this._paintHoverList(e),o)this.eachLayer(function(f){f.afterBrush&&f.afterBrush()});else{var u=this;N0(function(){u._paintList(e,n,r,i)})}}},t.prototype._compositeManually=function(){var e=this.getLayer(Qi).ctx,n=this._domRoot.width,r=this._domRoot.height;e.clearRect(0,0,n,r),this.eachBuiltinLayer(function(i){i.virtual&&e.drawImage(i.dom,0,0,n,r)})},t.prototype._doPaintList=function(e,n,r){for(var i=this,a=[],o=this._opts.useDirtyRect,s=0;s<this._zlevelList.length;s++){var u=this._zlevelList[s],f=this._layers[u];f.__builtin__&&f!==this._hoverlayer&&(f.__dirty||r)&&a.push(f)}for(var c=!0,d=!1,p=function(x){var _=a[x],w=_.ctx,b=o&&_.createRepaintRects(e,n,v._width,v._height),S=r?_.__startIndex:_.__drawIndex,A=!r&&_.incremental&&Date.now,L=A&&Date.now(),P=_.zlevel===v._zlevelList[0]?v._backgroundColor:null;if(_.__startIndex===_.__endIndex)_.clear(!1,P,b);else if(S===_.__startIndex){var E=e[S];(!E.incremental||!E.notClear||r)&&_.clear(!1,P,b)}S===-1&&(console.error("For some unknown reason. drawIndex is -1"),S=_.__startIndex);var O,R=function(G){var X={inHover:!1,allClipped:!1,prevEl:null,viewWidth:i._width,viewHeight:i._height};for(O=S;O<_.__endIndex;O++){var H=e[O];if(H.__inHover&&(d=!0),i._doPaintEl(H,_,o,G,X,O===_.__endIndex-1),A){var W=Date.now()-L;if(W>15)break}}X.prevElClipPaths&&w.restore()};if(b)if(b.length===0)O=_.__endIndex;else for(var C=v.dpr,N=0;N<b.length;++N){var D=b[N];w.save(),w.beginPath(),w.rect(D.x*C,D.y*C,D.width*C,D.height*C),w.clip(),R(D),w.restore()}else w.save(),R(),w.restore();_.__drawIndex=O,_.__drawIndex<_.__endIndex&&(c=!1)},v=this,y=0;y<a.length;y++)p(y);return Ct.wxa&&Y(this._layers,function(x){x&&x.ctx&&x.ctx.draw&&x.ctx.draw()}),{finished:c,needsRefreshHover:d}},t.prototype._doPaintEl=function(e,n,r,i,a,o){var s=n.ctx;if(r){var u=e.getPaintRect();(!i||u&&u.intersect(i))&&(ua(s,e,a,o),e.setPrevPaintRect(u))}else ua(s,e,a,o)},t.prototype.getLayer=function(e,n){this._singleCanvas&&!this._needsManuallyCompositing&&(e=Qi);var r=this._layers[e];return r||(r=new Cg("zr_"+e,this,this.dpr),r.zlevel=e,r.__builtin__=!0,this._layerConfig[e]?Mt(r,this._layerConfig[e],!0):this._layerConfig[e-tc]&&Mt(r,this._layerConfig[e-tc],!0),n&&(r.virtual=n),this.insertLayer(e,r),r.initContext()),r},t.prototype.insertLayer=function(e,n){var r=this._layers,i=this._zlevelList,a=i.length,o=this._domRoot,s=null,u=-1;if(!r[e]&&Ett(n)){if(a>0&&e>i[0]){for(u=0;u<a-1&&!(i[u]<e&&i[u+1]>e);u++);s=r[i[u]]}if(i.splice(u+1,0,e),r[e]=n,!n.virtual)if(s){var f=s.dom;f.nextSibling?o.insertBefore(n.dom,f.nextSibling):o.appendChild(n.dom)}else o.firstChild?o.insertBefore(n.dom,o.firstChild):o.appendChild(n.dom);n.__painter=this}},t.prototype.eachLayer=function(e,n){for(var r=this._zlevelList,i=0;i<r.length;i++){var a=r[i];e.call(n,this._layers[a],a)}},t.prototype.eachBuiltinLayer=function(e,n){for(var r=this._zlevelList,i=0;i<r.length;i++){var a=r[i],o=this._layers[a];o.__builtin__&&e.call(n,o,a)}},t.prototype.eachOtherLayer=function(e,n){for(var r=this._zlevelList,i=0;i<r.length;i++){var a=r[i],o=this._layers[a];o.__builtin__||e.call(n,o,a)}},t.prototype.getLayers=function(){return this._layers},t.prototype._updateLayerStatus=function(e){this.eachBuiltinLayer(function(d,p){d.__dirty=d.__used=!1});function n(d){a&&(a.__endIndex!==d&&(a.__dirty=!0),a.__endIndex=d)}if(this._singleCanvas)for(var r=1;r<e.length;r++){var i=e[r];if(i.zlevel!==e[r-1].zlevel||i.incremental){this._needsManuallyCompositing=!0;break}}var a=null,o=0,s,u;for(u=0;u<e.length;u++){var i=e[u],f=i.zlevel,c=void 0;s!==f&&(s=f,o=0),i.incremental?(c=this.getLayer(f+Dtt,this._needsManuallyCompositing),c.incremental=!0,o=1):c=this.getLayer(f+(o>0?tc:0),this._needsManuallyCompositing),c.__builtin__||l_("ZLevel "+f+" has been used by unkown layer "+c.id),c!==a&&(c.__used=!0,c.__startIndex!==u&&(c.__dirty=!0),c.__startIndex=u,c.incremental?c.__drawIndex=-1:c.__drawIndex=u,n(u),a=c),i.__dirty&un&&!i.__inHover&&(c.__dirty=!0,c.incremental&&c.__drawIndex<0&&(c.__drawIndex=u))}n(u),this.eachBuiltinLayer(function(d,p){!d.__used&&d.getElementCount()>0&&(d.__dirty=!0,d.__startIndex=d.__endIndex=d.__drawIndex=0),d.__dirty&&d.__drawIndex<0&&(d.__drawIndex=d.__startIndex)})},t.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},t.prototype._clearLayer=function(e){e.clear()},t.prototype.setBackgroundColor=function(e){this._backgroundColor=e,Y(this._layers,function(n){n.setUnpainted()})},t.prototype.configLayer=function(e,n){if(n){var r=this._layerConfig;r[e]?Mt(r[e],n,!0):r[e]=n;for(var i=0;i<this._zlevelList.length;i++){var a=this._zlevelList[i];if(a===e||a===e+tc){var o=this._layers[a];Mt(o,r[e],!0)}}}},t.prototype.delLayer=function(e){var n=this._layers,r=this._zlevelList,i=n[e];i&&(i.dom.parentNode.removeChild(i.dom),delete n[e],r.splice(Ot(r,e),1))},t.prototype.resize=function(e,n){if(this._domRoot.style){var r=this._domRoot;r.style.display="none";var i=this._opts,a=this.root;if(e!=null&&(i.width=e),n!=null&&(i.height=n),e=Bf(a,0,i),n=Bf(a,1,i),r.style.display="",this._width!==e||n!==this._height){r.style.width=e+"px",r.style.height=n+"px";for(var o in this._layers)this._layers.hasOwnProperty(o)&&this._layers[o].resize(e,n);this.refresh(!0)}this._width=e,this._height=n}else{if(e==null||n==null)return;this._width=e,this._height=n,this.getLayer(Qi).resize(e,n)}return this},t.prototype.clearLayer=function(e){var n=this._layers[e];n&&n.clear()},t.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},t.prototype.getRenderedCanvas=function(e){if(e=e||{},this._singleCanvas&&!this._compositeManually)return this._layers[Qi].dom;var n=new Cg("image",this,e.pixelRatio||this.dpr);n.initContext(),n.clear(!1,e.backgroundColor||this._backgroundColor);var r=n.ctx;if(e.pixelRatio<=this.dpr){this.refresh();var i=n.dom.width,a=n.dom.height;this.eachLayer(function(d){d.__builtin__?r.drawImage(d.dom,0,0,i,a):d.renderToCanvas&&(r.save(),d.renderToCanvas(r),r.restore())})}else for(var o={inHover:!1,viewWidth:this._width,viewHeight:this._height},s=this.storage.getDisplayList(!0),u=0,f=s.length;u<f;u++){var c=s[u];ua(r,c,o,u===f-1)}return n.dom},t.prototype.getWidth=function(){return this._width},t.prototype.getHeight=function(){return this._height},t}();const ktt=Rtt;function Ott(t){t.registerPainter("canvas",ktt)}Nr([Mj,Qj,JQ,pJ,rtt,GJ,Ott,Ptt]);const Ntt=t=>{const e=fq(t);return{resize:()=>{e.resize()},updateChart:(i,a)=>{const o=i.map(f=>({value:f.monthTotal,month:f.month})),s=a.map(f=>({value:f.orderNumber,month:f.month})),u={tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},toolbox:{feature:{magicType:{show:!0,type:["line","bar"]},restore:{show:!0}}},legend:{data:["Revenue","Order"]},xAxis:[{type:"category",data:o.map(f=>`Mouth ${f.month}`),axisPointer:{type:"shadow"}}],yAxis:[{type:"value",name:"Revenue",min:0,max:1e5,interval:1e4,axisLabel:{formatter:"{value} NT"}},{type:"value",name:"Order",min:0,max:100,interval:10,axisLabel:{formatter:"{value} order"}}],series:[{name:"Revenue",type:"bar",tooltip:{valueFormatter:function(f){return"NT"+f}},data:o.map(f=>f.value)},{name:"Order",type:"line",yAxisIndex:1,tooltip:{valueFormatter:function(f){return f+" order"}},data:s.map(f=>f.value)}]};e.setOption(u)}}},$tt=t5("reportAdminData",()=>{const t=tA(),e=ea([]),n=ea([]),r=bu(async()=>{t.isLoading=!0;const{data:a}=await f5();e.value=a.data,n.value=e.value.reduce((o,s)=>o+s.totalPrice,0),t.isLoading=!1}),i=bu(async(a,o)=>{const{data:s,message:u}=await c5(a,o);e.value=s.data,n.value=e.value.reduce((f,c)=>f+c.totalPrice,0),Mg(u)});return{orderReportList:e,orderReportListPrice:n,fetchSearchAllAdminOrders:r,fetchSearchAdminOrders:i}}),Gtt={class:"fixed top-0 left-0 z-40 w-[315px] h-screen"},Vtt={class:"ml-[315px] bg-white"},Ftt=xt("nav",{class:"border-b-2 border-textself p-6"},[xt("h1",{class:"flex items-center text-[36px] font-bold"},"")],-1),Btt={class:"min-h-screen p-6"},ztt={class:"grid grid-cols-12 gap-5"},Htt={class:"col-span-12 p-6 bg-white border border-black rounded-lg shadow flex flex-col justify-between mx-3"},Ytt=xt("p",{class:"flex items-center text-[36px] font-bold"},"",-1),Xtt={class:"col-span-12 p-6 bg-white border border-black rounded-lg shadow flex flex-col justify-between mx-3"},Utt=xt("p",{class:"flex items-center text-[36px] font-bold"},"",-1),Wtt=xt("div",{id:"dountChar",class:"w-full h-[500px] mt-10"},null,-1),qtt={class:"flex mt-5 mb-3"},Ztt={class:"flex items-end gap-4 mb-3"},Qtt={class:"flex-col items-center"},Ktt=xt("label",{for:"form_limit",class:"block mb-2 font-medium"},"",-1),jtt=xt("option",{value:"50",selected:""},"50",-1),Jtt=xt("option",{value:"100"},"100",-1),tet=xt("option",{value:"150"},"150",-1),eet=[jtt,Jtt,tet],net={class:"flex-col items-center"},ret=xt("label",{for:"countries_disabled",class:"block mb-2 font-medium"},"",-1),iet=["value"],aet=["onClick"],oet=["onClick"],set={class:"overflow-auto bg-bgself-light rounded-xl p-6 mb-6"},uet={class:"w-full text-center"},fet=xt("thead",{class:"text-xl font-medium text-secondary-light bg-textself"},[xt("tr",{class:"border-b-2 border-black"},[xt("th",{class:"py-3"},""),xt("th",{class:"py-3"},""),xt("th",{class:"py-3"},"")])],-1),cet={class:"py-3"},het={class:"py-3"},det={class:"py-3"},pet={class:"border-b-2 border-black"},vet=xt("td",{class:"py-3"},"",-1),get=xt("td",null,null,-1),yet={class:"py-3"},Aet={__name:"ReportAdmin",setup(t){const e=tA(),n=$tt(),{width:r}=o5(),i=ea(C1),a=ea(),o=bu(async()=>{e.isLoading=!0;const x=await s5(i),_=await l5(),w=Ntt(a.value);w.updateChart(x.data,_.data),w.resize(),e.isLoading=!1});pp(()=>{o()}),e5(()=>r,()=>{o()},{immediate:!0,deep:!0});const s=ea(C1),u=[],f=bu(async()=>{e.isLoading=!0;const{data:x}=await u5(s),_=x.map(w=>{const b=w.productName,S=w.amount;return[`${b}`,S]});u.push(..._),_F(u),e.isLoading=!1});pp(()=>{f()}),pp(()=>{n.fetchSearchAllAdminOrders()});const c=ea(),d=ea(),p=async()=>{e.isLoading=!0,await n.fetchSearchAdminOrders(c.value,d.value),e.isLoading=!1},v=bu(async(x,_=null)=>{if(e.isLoading=!0,x){const{message:w}=await gp(x);Mg(w),e.isLoading=!1}if(x&&_){const w=await gp(x),b=await gp(_);w===""&&b===""&&(Mg(""),e.isLoading=!1),e.isLoading=!1}}),y=async()=>{e.isLoading=!0;const x=r5(),_=`https://love-in-no-words-api.onrender.com/v1/reports/admin/orders/download?month=${c.value}&dataAmount=${d.value}`,w=await a5.get(_,{responseType:"blob",headers:{Authorization:`Bearer ${x}`}}),b=document.createElement("a"),S=new Blob([w.data],{type:w.headers["content-type"]}),A=`${i.value}${c.value}`;b.href=URL.createObjectURL(S),b.download=A,b.click(),e.isLoading=!1};return(x,_)=>(Hl(),Yl(vp,null,[xt("aside",Gtt,[n5(i5)]),xt("div",Vtt,[Ftt,xt("main",Btt,[xt("ul",ztt,[xt("li",Htt,[Ytt,xt("div",{ref_key:"BarcharDom",ref:a,class:"w-full h-[500px] mt-10"},null,512),xt("button",{onClick:_[0]||(_[0]=Xl(w=>Ul(v)(1,3),["prevent"])),class:"btn btn-dark py-2"},"  ")]),xt("li",Xtt,[Utt,Wtt,xt("button",{onClick:_[1]||(_[1]=Xl(w=>Ul(v)(2),["prevent"])),class:"btn btn-dark py-2"},"")])]),xt("div",qtt,[xt("div",Ztt,[xt("section",Qtt,[Ktt,S1(xt("select",{id:"form_limit",class:"form-select py-3","onUpdate:modelValue":_[2]||(_[2]=w=>d.value=w)},eet,512),[[T1,d.value]])]),xt("section",net,[ret,S1(xt("select",{id:"countries_disabled",class:"form-select py-3","onUpdate:modelValue":_[3]||(_[3]=w=>c.value=w)},[(Hl(),Yl(vp,null,A1(12,w=>xt("option",{key:w,value:w,selected:""},xs(w)+" ",9,iet)),64))],512),[[T1,c.value]])]),xt("button",{onClick:Xl(p,["prevent"]),type:"button",class:"btn btn-outline-dark whitespace-nowrap"},"  ",8,aet),xt("button",{onClick:Xl(y,["prevent"]),type:"button",class:"btn btn-outline-dark whitespace-nowrap"},"  ",8,oet)])]),xt("section",set,[xt("table",uet,[fet,xt("tbody",null,[(Hl(!0),Yl(vp,null,A1(Ul(n).orderReportList,w=>(Hl(),Yl("tr",{key:w.orderNo,class:"border-b-2 border-black"},[xt("td",cet,xs(w.orderNo),1),xt("td",het,xs(w.createdAt),1),xt("td",det,xs(w.totalPrice),1)]))),128)),xt("tr",pet,[vet,get,xt("td",yet,xs(Ul(n).orderReportListPrice),1)])])])])])])],64))}};export{Aet as default};
